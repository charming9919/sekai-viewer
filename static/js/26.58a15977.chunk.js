/*! For license information please see 26.58a15977.chunk.js.LICENSE.txt */
(this["webpackJsonpsekai-viewer"]=this["webpackJsonpsekai-viewer"]||[]).push([[26],{1022:function(t,e,r){"use strict";var i;r(922);!function(t){var e=function(){function t(t){this.s=t}return t.prototype.append=function(t,e){return this.s+=void 0!==e?t.substr(0,e):t,this},t.prototype.expansion=function(t,e){for(var r=0;r<t;r++)this.append(e);return this},t.prototype.getBytes=function(){return encodeURIComponent(this.s).replace(/%../g,"x").length},t.prototype.getLength=function(){return this.s.length},t.prototype.isLess=function(t){return this.s<t.s},t.prototype.isGreat=function(t){return this.s>t.s},t.prototype.isEqual=function(t){return this.s==t},t.prototype.isEmpty=function(){return 0==this.s.length},t}();t.csmString=e}(i||(i={}));var n,a,o,s,u,l,c,h=function(t,e,r){!function(t,e,r){u.CubismDebug.print(t,"[CSM]"+e,r)}(t,e+"\n",r)},f=function(t){console.assert(t)};n=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];h(E.LogLevel_Debug,"[D]"+t,e)},a=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];h(E.LogLevel_Info,"[I]"+t,e)},o=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];h(E.LogLevel_Warning,"[W]"+t,e)},s=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];h(E.LogLevel_Error,"[E]"+t,e)},function(t){var e=function(){function t(){}return t.print=function(t,e,r){if(!(t<k.CubismFramework.getLoggingLevel())){var i=k.CubismFramework.coreLogFunction;if(i)i(e.replace(/\{(\d+)\}/g,(function(t,e){return r[e]})))}},t.dumpBytes=function(t,e,r){for(var i=0;i<r;i++)i%16==0&&i>0?this.print(t,"\n"):i%8==0&&i>0&&this.print(t,"  "),this.print(t,"{0} ",[255&e[i]]);this.print(t,"\n")},t}();t.CubismDebug=e}(u||(u={})),function(t){var e=function(t,e){this.first=void 0==t?null:t,this.second=void 0==e?null:e};t.csmPair=e;var r=function(){function t(t){void 0!=t?t<1?(this._keyValues=[],this._dummyValue=null,this._size=0):(this._keyValues=new Array(t),this._size=t):(this._keyValues=[],this._dummyValue=null,this._size=0)}return t.prototype.release=function(){this.clear()},t.prototype.appendKey=function(t){this.prepareCapacity(this._size+1,!1),this._keyValues[this._size]=new e(t),this._size+=1},t.prototype.getValue=function(t){for(var e=-1,r=0;r<this._size;r++)if(this._keyValues[r].first==t){e=r;break}return e>=0?this._keyValues[e].second:(this.appendKey(t),this._keyValues[this._size-1].second)},t.prototype.setValue=function(t,e){for(var r=-1,i=0;i<this._size;i++)if(this._keyValues[i].first==t){r=i;break}r>=0?this._keyValues[r].second=e:(this.appendKey(t),this._keyValues[this._size-1].second=e)},t.prototype.isExist=function(t){for(var e=0;e<this._size;e++)if(this._keyValues[e].first==t)return!0;return!1},t.prototype.clear=function(){this._keyValues=void 0,this._keyValues=null,this._keyValues=[],this._size=0},t.prototype.getSize=function(){return this._size},t.prototype.prepareCapacity=function(e,r){e>this._keyValues.length&&(0==this._keyValues.length?(!r&&e<t.DefaultSize&&(e=t.DefaultSize),this._keyValues.length=e):(!r&&e<2*this._keyValues.length&&(e=2*this._keyValues.length),this._keyValues.length=e))},t.prototype.begin=function(){return new i(this,0)},t.prototype.end=function(){return new i(this,this._size)},t.prototype.erase=function(t){var e=t._index;return e<0||this._size<=e?t:(this._keyValues.splice(e,1),--this._size,new i(this,e))},t.prototype.dumpAsInt=function(){for(var t=0;t<this._size;t++)n("{0} ,",this._keyValues[t]),n("\n")},t.DefaultSize=10,t}();t.csmMap=r;var i=function(){function t(t,e){this._map=void 0!=t?t:new r,this._index=void 0!=e?e:0}return t.prototype.set=function(t){return this._index=t._index,this._map=t._map,this},t.prototype.preIncrement=function(){return++this._index,this},t.prototype.preDecrement=function(){return--this._index,this},t.prototype.increment=function(){return new t(this._map,this._index++)},t.prototype.decrement=function(){var e=new t(this._map,this._index);return this._map=e._map,this._index=e._index,this},t.prototype.ptr=function(){return this._map._keyValues[this._index]},t.prototype.notEqual=function(t){return this._index!=t._index||this._map!=t._map},t}();t.iterator=i}(l||(l={})),function(t){var e=function(){function t(t){void 0===t&&(t=0),t<1?(this._ptr=[],this._capacity=0,this._size=0):(this._ptr=new Array(t),this._capacity=t,this._size=0)}return t.prototype.at=function(t){return this._ptr[t]},t.prototype.set=function(t,e){this._ptr[t]=e},t.prototype.get=function(t){void 0===t&&(t=0);for(var e=new Array,r=t;r<this._size;r++)e.push(this._ptr[r]);return e},t.prototype.pushBack=function(e){this._size>=this._capacity&&this.prepareCapacity(0==this._capacity?t.s_defaultSize:2*this._capacity),this._ptr[this._size++]=e},t.prototype.clear=function(){this._ptr.length=0,this._size=0},t.prototype.getSize=function(){return this._size},t.prototype.assign=function(t,e){this._size<t&&this.prepareCapacity(t);for(var r=0;r<t;r++)this._ptr[r]=e;this._size=t},t.prototype.resize=function(t,e){void 0===e&&(e=null),this.updateSize(t,e,!0)},t.prototype.updateSize=function(t,e,r){if(void 0===e&&(e=null),void 0===r&&(r=!0),this._size<t)if(this.prepareCapacity(t),r)for(var i=this._size;i<t;i++)this._ptr[i]="function"==typeof e?JSON.parse(JSON.stringify(new e)):e;else for(i=this._size;i<t;i++)this._ptr[i]=e;else{var n=this._size-t;this._ptr.splice(this._size-n,n)}this._size=t},t.prototype.insert=function(t,e,r){var i=t._index,n=e._index,a=r._index,o=a-n;this.prepareCapacity(this._size+o);var s=this._size-i;if(s>0)for(var u=0;u<s;u++)this._ptr.splice(i+u,0,null);for(u=n;u<a;u++,i++)this._ptr[i]=e._vector._ptr[u];this._size=this._size+o},t.prototype.remove=function(t){return!(t<0||this._size<=t)&&(this._ptr.splice(t,1),--this._size,!0)},t.prototype.erase=function(t){var e=t._index;return e<0||this._size<=e?t:(this._ptr.splice(e,1),--this._size,new r(this,e))},t.prototype.prepareCapacity=function(t){t>this._capacity&&(0==this._capacity?(this._ptr=new Array(t),this._capacity=t):(this._ptr.length=t,this._capacity=t))},t.prototype.begin=function(){return 0==this._size?this.end():new r(this,0)},t.prototype.end=function(){return new r(this,this._size)},t.prototype.getOffset=function(e){var r=new t;return r._ptr=this.get(e),r._size=this.get(e).length,r._capacity=this.get(e).length,r},t.s_defaultSize=10,t}();t.csmVector=e;var r=function(){function t(t,e){this._vector=void 0!=t?t:null,this._index=void 0!=e?e:0}return t.prototype.set=function(t){return this._index=t._index,this._vector=t._vector,this},t.prototype.preIncrement=function(){return++this._index,this},t.prototype.preDecrement=function(){return--this._index,this},t.prototype.increment=function(){return new t(this._vector,this._index++)},t.prototype.decrement=function(){return new t(this._vector,this._index--)},t.prototype.ptr=function(){return this._vector._ptr[this._index]},t.prototype.substitution=function(t){return this._index=t._index,this._vector=t._vector,this},t.prototype.notEqual=function(t){return this._index!=t._index||this._vector!=t._vector},t}();t.iterator=r}(c||(c={}));var d,p=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),g=c.csmVector,m=l.csmMap,_=i.csmString;!function(t){var e="Error: type mismatch",r=function(){function t(){}return t.staticInitializeNotForClientCall=function(){o.trueValue=new o(!0),o.falseValue=new o(!1),u.errorValue=new u("ERROR",!0),this.nullValue=new l,t.s_dummyKeys=new g},t.staticReleaseNotForClientCall=function(){o.trueValue=null,o.falseValue=null,u.errorValue=null,t.nullValue=null,t.s_dummyKeys=null,o.trueValue=null,o.falseValue=null,u.errorValue=null,t.nullValue=null,t.s_dummyKeys=null},t.prototype.getRawString=function(t,e){return this.getString(t,e)},t.prototype.toInt=function(t){return void 0===t&&(t=0),t},t.prototype.toFloat=function(t){return void 0===t&&(t=0),t},t.prototype.toBoolean=function(t){return void 0===t&&(t=!1),t},t.prototype.getSize=function(){return 0},t.prototype.getArray=function(t){return void 0===t&&(t=null),t},t.prototype.getVector=function(t){return t},t.prototype.getMap=function(t){return t},t.prototype.getValueByIndex=function(r){return t.errorValue.setErrorNotForClientCall(e)},t.prototype.getValueByString=function(r){return t.nullValue.setErrorNotForClientCall(e)},t.prototype.getKeys=function(){return t.s_dummyKeys},t.prototype.isError=function(){return!1},t.prototype.isNull=function(){return!1},t.prototype.isBool=function(){return!1},t.prototype.isFloat=function(){return!1},t.prototype.isString=function(){return!1},t.prototype.isArray=function(){return!1},t.prototype.isMap=function(){return!1},t.prototype.equals=function(t){return!1},t.prototype.isStatic=function(){return!1},t.prototype.setErrorNotForClientCall=function(t){return u.errorValue},t}();t.Value=r;var i=function(){function t(t,e){this._error=null,this._lineCount=0,this._root=null,void 0!=t&&this.parseBytes(t,e)}return t.create=function(e,r){var i=new t;return i.parseBytes(e,r)?i:(t.delete(i),null)},t.delete=function(t){null},t.prototype.getRoot=function(){return this._root},t.prototype.arrayBufferToString=function(t){for(var e=new Uint8Array(t),r="",i=0,n=e.length;i<n;++i)r+="%"+this.pad(e[i].toString(16));return r=decodeURIComponent(r)},t.prototype.parseBytes=function(t,e){var r=new Array(1),i=this.arrayBufferToString(t);if(this._root=this.parseValue(i,e,0,r),this._error){var n;return n="Json parse error : @line "+(this._lineCount+1)+"\n",this._root=new s(n),a("{0}",this._root.getRawString()),!1}return null!=this._root||(this._root=new u(new _(this._error),!1),!1)},t.prototype.getParseError=function(){return this._error},t.prototype.checkEndOfFile=function(){return this._root.getArray()[1].equals("EOF")},t.prototype.parseValue=function(t,e,r,i){if(this._error)return null;for(var a,u=null,c=r;c<e;c++){switch(t[c]){case"-":case".":case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":var h=new Array(1);return a=M(t.slice(c),h),i[0]=t.indexOf(h[0]),new n(a);case'"':return new s(this.parseString(t,e,c+1,i));case"[":return u=this.parseArray(t,e,c+1,i);case"{":return u=this.parseObject(t,e,c+1,i);case"n":return c+3<e?(u=new l,i[0]=c+4):this._error="parse null",u;case"t":return c+3<e?(u=o.trueValue,i[0]=c+4):this._error="parse true",u;case"f":return c+4<e?(u=o.falseValue,i[0]=c+5):this._error="illegal ',' position",u;case",":return this._error="illegal ',' position",null;case"]":return i[0]=c,null;case"\n":this._lineCount++}}return this._error="illegal end of value",null},t.prototype.parseString=function(t,e,r,i){if(this._error)return null;for(var n=r,a=new _(""),o=r;n<e;n++)switch(t[n]){case'"':return i[0]=n+1,a.append(t.slice(o),n-o),a.s;case"//":if(++n-1>o&&a.append(t.slice(o),n-o),o=n+1,n<e)switch(t[n]){case"\\":a.expansion(1,"\\");break;case'"':a.expansion(1,'"');break;case"/":a.expansion(1,"/");break;case"b":a.expansion(1,"\b");break;case"f":a.expansion(1,"\f");break;case"n":a.expansion(1,"\n");break;case"r":a.expansion(1,"\r");break;case"t":a.expansion(1,"\t");break;case"u":this._error="parse string/unicord escape not supported"}else this._error="parse string/escape error"}return this._error="parse string/illegal end",null},t.prototype.parseObject=function(t,e,r,i){if(this._error)return null;for(var n=new h,a="",o=r,s=Array(1),u=!1;o<e;o++){t:for(;o<e;o++)switch(t[o]){case'"':if(a=this.parseString(t,e,o+1,s),this._error)return null;o=s[0],u=!0;break t;case"}":return i[0]=o+1,n;case":":this._error="illegal ':' position";break;case"\n":this._lineCount++}if(!u)return this._error="key not found",null;u=!1;t:for(;o<e;o++)switch(t[o]){case":":u=!0,o++;break t;case"}":this._error="illegal '}' position";break;case"\n":this._lineCount++}if(!u)return this._error="':' not found",null;var l=this.parseValue(t,e,o,s);if(this._error)return null;o=s[0],n.put(a,l);t:for(;o<e;o++)switch(t[o]){case",":break t;case"}":return i[0]=o+1,n;case"\n":this._lineCount++}}return this._error="illegal end of perseObject",null},t.prototype.parseArray=function(t,e,r,i){if(this._error)return null;for(var n=new c,a=r,o=new Array(1);a<e;a++){var s=this.parseValue(t,e,a,o);if(this._error)return null;a=o[0],s&&n.add(s);t:for(;a<e;a++)switch(t[a]){case",":break t;case"]":return i[0]=a+1,n;case"\n":++this._lineCount}}return n=void 0,this._error="illegal end of parseObject",null},t.prototype.pad=function(t){return t.length<2?"0"+t:t},t}();t.CubismJson=i;var n=function(t){function e(e){var r=t.call(this)||this;return r._value=e,r}return p(e,t),e.prototype.isFloat=function(){return!0},e.prototype.getString=function(t,e){return this._value=parseFloat("\0"),this._stringBuffer="\0",this._stringBuffer},e.prototype.toInt=function(t){return void 0===t&&(t=0),parseInt(this._value.toString())},e.prototype.toFloat=function(t){return void 0===t&&(t=0),this._value},e.prototype.equals=function(t){return"number"===typeof t&&(!Math.round(t)&&t==this._value)},e}(r);t.JsonFloat=n;var o=function(t){function e(e){var r=t.call(this)||this;return r._boolValue=e,r}return p(e,t),e.prototype.isBool=function(){return!0},e.prototype.toBoolean=function(t){return void 0===t&&(t=!1),this._boolValue},e.prototype.getString=function(t,e){return this._stringBuffer=this._boolValue?"true":"false",this._stringBuffer},e.prototype.equals=function(t){return"boolean"===typeof t&&t==this._boolValue},e.prototype.isStatic=function(){return!0},e}(r);t.JsonBoolean=o;var s=function(t){function e(e){var r=t.call(this)||this;return"string"===typeof e&&(r._stringBuffer=e),e instanceof _&&(r._stringBuffer=e.s),r}return p(e,t),e.prototype.isString=function(){return!0},e.prototype.getString=function(t,e){return this._stringBuffer},e.prototype.equals=function(t){return"string"===typeof t?this._stringBuffer==t:t instanceof _&&this._stringBuffer==t.s},e}(r);t.JsonString=s;var u=function(t){function e(e,r){var i=this;return(i=t.call(this,e)||this)._isStatic=r,i}return p(e,t),e.prototype.isStatic=function(){return this._isStatic},e.prototype.setErrorNotForClientCall=function(t){return this._stringBuffer=t,this},e.prototype.isError=function(){return!0},e}(s);t.JsonError=u;var l=function(t){function e(){var e=t.call(this)||this;return e._stringBuffer="NullValue",e}return p(e,t),e.prototype.isNull=function(){return!0},e.prototype.getString=function(t,e){return this._stringBuffer},e.prototype.isStatic=function(){return!0},e}(r);t.JsonNullvalue=l;var c=function(t){function i(){var e=t.call(this)||this;return e._array=new g,e}return p(i,t),i.prototype.release=function(){for(var t=this._array.begin();t.notEqual(this._array.end());t.preIncrement()){var e=t.ptr();e&&!e.isStatic()&&(e=void 0,e=null)}},i.prototype.isArray=function(){return!0},i.prototype.getValueByIndex=function(t){if(t<0||this._array.getSize()<=t)return r.errorValue.setErrorNotForClientCall("Error: index out of bounds");var e=this._array.at(t);return null==e?r.nullValue:e},i.prototype.getValueByString=function(t){return r.errorValue.setErrorNotForClientCall(e)},i.prototype.getString=function(t,e){for(var r=e+"[\n",i=this._array.begin();i.notEqual(this._array.end());i.increment()){var n=i.ptr();this._stringBuffer+=e+""+n.getString(e+" ")+"\n"}return this._stringBuffer=r+e+"]\n",this._stringBuffer},i.prototype.add=function(t){this._array.pushBack(t)},i.prototype.getVector=function(t){return void 0===t&&(t=null),this._array},i.prototype.getSize=function(){return this._array.getSize()},i}(r);t.JsonArray=c;var h=function(t){function i(){var e=t.call(this)||this;return e._map=new m,e}return p(i,t),i.prototype.release=function(){for(var t=this._map.begin();t.notEqual(this._map.end());){var e=t.ptr().second;e&&!e.isStatic()&&(e=void 0,e=null),t.preIncrement()}},i.prototype.isMap=function(){return!0},i.prototype.getValueByString=function(t){if(t instanceof _){var e=this._map.getValue(t.s);return null==e?r.nullValue:e}for(var i=this._map.begin();i.notEqual(this._map.end());i.preIncrement())if(i.ptr().first==t)return null==i.ptr().second?r.nullValue:i.ptr().second;return r.nullValue},i.prototype.getValueByIndex=function(t){return r.errorValue.setErrorNotForClientCall(e)},i.prototype.getString=function(t,e){this._stringBuffer=e+"{\n";for(var r=this._map.begin();r.notEqual(this._map.end());){var i=r.ptr().first,n=r.ptr().second;this._stringBuffer+=e+" "+i+" : "+n.getString(e+"   ")+" \n",r.preIncrement()}return this._stringBuffer+=e+"}\n",this._stringBuffer},i.prototype.getMap=function(t){return this._map},i.prototype.put=function(t,e){this._map.setValue(t,e)},i.prototype.getKeys=function(){if(!this._keys){this._keys=new g;for(var t=this._map.begin();t.notEqual(this._map.end());){var e=t.ptr().first;this._keys.pushBack(e),t.preIncrement()}}return this._keys},i.prototype.getSize=function(){return this._keys.getSize()},i}(r);t.JsonMap=h}(d||(d={}));var y,v=i.csmString;!function(t){var e=function(){function t(t){this._id="string"!==typeof t?t:new v(t)}return t.prototype.getString=function(){return this._id},t.prototype.isEqual=function(e){return"string"===typeof e?this._id.isEqual(e):e instanceof v?this._id.isEqual(e.s):e instanceof t&&this._id.isEqual(e._id.s)},t.prototype.isNotEqual=function(e){return"string"==typeof e?!this._id.isEqual(e):e instanceof v?!this._id.isEqual(e.s):e instanceof t&&!this._id.isEqual(e._id.s)},t}();t.CubismId=e}(y||(y={}));var b,A,w=y.CubismId,S=c.csmVector;!function(t){var e=function(){function t(){this._ids=new S}return t.prototype.release=function(){for(var t=0;t<this._ids.getSize();++t)this._ids.set(t,void 0);this._ids=null},t.prototype.registerIds=function(t){for(var e=0;e<t.length;e++)this.registerId(t[e])},t.prototype.registerId=function(t){var e=null;return"string"!=typeof t?this.registerId(t.s):(null!=(e=this.findId(t))||(e=new w(t),this._ids.pushBack(e)),e)},t.prototype.getId=function(t){return this.registerId(t)},t.prototype.isExist=function(t){return"string"==typeof t?null!=this.findId(t):this.isExist(t.s)},t.prototype.findId=function(t){for(var e=0;e<this._ids.getSize();++e)if(this._ids.at(e).getString().isEqual(t))return this._ids.at(e);return null},t}();t.CubismIdManager=e}(b||(b={})),function(t){var e=function(){function t(){this._tr=new Float32Array(16),this.loadIdentity()}return t.multiply=function(t,e,r){for(var i=new Float32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),n=0;n<4;++n)for(var a=0;a<4;++a)for(var o=0;o<4;++o)i[a+4*n]+=t[o+4*n]*e[a+4*o];for(n=0;n<16;++n)r[n]=i[n]},t.prototype.loadIdentity=function(){var t=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);this.setMatrix(t)},t.prototype.setMatrix=function(t){for(var e=0;e<16;++e)this._tr[e]=t[e]},t.prototype.getArray=function(){return this._tr},t.prototype.getScaleX=function(){return this._tr[0]},t.prototype.getScaleY=function(){return this._tr[5]},t.prototype.getTranslateX=function(){return this._tr[12]},t.prototype.getTranslateY=function(){return this._tr[13]},t.prototype.transformX=function(t){return this._tr[0]*t+this._tr[12]},t.prototype.transformY=function(t){return this._tr[5]*t+this._tr[13]},t.prototype.invertTransformX=function(t){return(t-this._tr[12])/this._tr[0]},t.prototype.invertTransformY=function(t){return(t-this._tr[13])/this._tr[5]},t.prototype.translateRelative=function(e,r){var i=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,e,r,0,1]);t.multiply(i,this._tr,this._tr)},t.prototype.translate=function(t,e){this._tr[12]=t,this._tr[13]=e},t.prototype.translateX=function(t){this._tr[12]=t},t.prototype.translateY=function(t){this._tr[13]=t},t.prototype.scaleRelative=function(e,r){var i=new Float32Array([e,0,0,0,0,r,0,0,0,0,1,0,0,0,0,1]);t.multiply(i,this._tr,this._tr)},t.prototype.scale=function(t,e){this._tr[0]=t,this._tr[5]=e},t.prototype.multiplyByMatrix=function(e){t.multiply(e.getArray(),this._tr,this._tr)},t.prototype.clone=function(){for(var e=new t,r=0;r<this._tr.length;r++)e._tr[r]=this._tr[r];return e},t}();t.CubismMatrix44=e}(A||(A={}));var x,C=A.CubismMatrix44;!function(t){var e=function(){function t(){this._isCulling=!1,this._isPremultipliedAlpha=!1,this._anisortopy=0,this._model=null,this._modelColor=new r,this._mvpMatrix4x4=new C,this._mvpMatrix4x4.loadIdentity()}return t.create=function(){return null},t.delete=function(t){null},t.prototype.initialize=function(t){this._model=t},t.prototype.drawModel=function(){null!=this.getModel()&&this.doDrawModel()},t.prototype.setMvpMatrix=function(t){this._mvpMatrix4x4.setMatrix(t.getArray())},t.prototype.getMvpMatrix=function(){return this._mvpMatrix4x4},t.prototype.setModelColor=function(t,e,r,i){t<0?t=0:t>1&&(t=1),e<0?e=0:e>1&&(e=1),r<0?r=0:r>1&&(r=1),i<0?i=0:i>1&&(i=1),this._modelColor.R=t,this._modelColor.G=e,this._modelColor.B=r,this._modelColor.A=i},t.prototype.getModelColor=function(){return JSON.parse(JSON.stringify(this._modelColor))},t.prototype.setIsPremultipliedAlpha=function(t){this._isPremultipliedAlpha=t},t.prototype.isPremultipliedAlpha=function(){return this._isPremultipliedAlpha},t.prototype.setIsCulling=function(t){this._isCulling=t},t.prototype.isCulling=function(){return this._isCulling},t.prototype.setAnisotropy=function(t){this._anisortopy=t},t.prototype.getAnisotropy=function(){return this._anisortopy},t.prototype.getModel=function(){return this._model},t}();t.CubismRenderer=e,function(t){t[t.CubismBlendMode_Normal=0]="CubismBlendMode_Normal",t[t.CubismBlendMode_Additive=1]="CubismBlendMode_Additive",t[t.CubismBlendMode_Multiplicative=2]="CubismBlendMode_Multiplicative"}(t.CubismBlendMode||(t.CubismBlendMode={}));var r=function(){this.R=1,this.G=1,this.B=1,this.A=1};t.CubismTextureColor=r}(x||(x={}));var k,I=d.Value,P=b.CubismIdManager,B=x.CubismRenderer;function M(t,e){for(var r=0,i=1;;i++){var n=t.slice(i-1,i);if("e"!=n&&"-"!=n&&"E"!=n){var a=t.substring(0,i),o=Number(a);if(isNaN(o))break;r=i}}var s=parseFloat(t);return isNaN(s)&&(s=NaN),e[0]=t.slice(r),s}!function(t){var e=!1,r=!1,i=null,n=null;!function(t){t.vertexOffset=0,t.vertexStep=2}(t.Constant||(t.Constant={})),t.csmDelete=function(t){t&&(t=void 0)};var s=function(){function t(){}return t.startUp=function(t){if(void 0===t&&(t=null),e)return a("CubismFramework.startUp() is already done."),e;if(null!=(i=t)&&Live2DCubismCore.Logging.csmSetLogFunction(i.logFunction),e=!0){var r=Live2DCubismCore.Version.csmGetVersion(),n=(16711680&r)>>16,o=65535&r,s=r;a("Live2D Cubism Core version: {0}.{1}.{2} ({3})",("00"+((4278190080&r)>>24)).slice(-2),("00"+n).slice(-2),("0000"+o).slice(-4),s)}return a("CubismFramework.startUp() is complete."),e},t.cleanUp=function(){e=!1,r=!1,i=null,n=null},t.initialize=function(){f(e),e?r?o("CubismFramework.initialize() skipped, already initialized."):(I.staticInitializeNotForClientCall(),n=new P,r=!0,a("CubismFramework.initialize() is complete.")):o("CubismFramework is not started.")},t.dispose=function(){f(e),e?r?(I.staticReleaseNotForClientCall(),n.release(),n=null,B.staticRelease(),r=!1,a("CubismFramework.dispose() is complete.")):o("CubismFramework.dispose() skipped, not initialized."):o("CubismFramework is not started.")},t.isStarted=function(){return e},t.isInitialized=function(){return r},t.coreLogFunction=function(t){Live2DCubismCore.Logging.csmGetLogFunction()&&Live2DCubismCore.Logging.csmGetLogFunction()(t)},t.getLoggingLevel=function(){return null!=i?i.loggingLevel:E.LogLevel_Off},t.getIdManager=function(){return n},t}();t.CubismFramework=s}(k||(k={}));var E,T=function(){};!function(t){t[t.LogLevel_Verbose=0]="LogLevel_Verbose",t[t.LogLevel_Debug=1]="LogLevel_Debug",t[t.LogLevel_Info=2]="LogLevel_Info",t[t.LogLevel_Warning=3]="LogLevel_Warning",t[t.LogLevel_Error=4]="LogLevel_Error",t[t.LogLevel_Off=5]="LogLevel_Off"}(E||(E={}));var D,R=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),V=A.CubismMatrix44;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e._screenLeft=0,e._screenRight=0,e._screenTop=0,e._screenBottom=0,e._maxLeft=0,e._maxRight=0,e._maxTop=0,e._maxBottom=0,e._maxScale=0,e._minScale=0,e}return R(e,t),e.prototype.adjustTranslate=function(t,e){this._tr[0]*this._maxLeft+(this._tr[12]+t)>this._screenLeft&&(t=this._screenLeft-this._tr[0]*this._maxLeft-this._tr[12]),this._tr[0]*this._maxRight+(this._tr[12]+t)<this._screenRight&&(t=this._screenRight-this._tr[0]*this._maxRight-this._tr[12]),this._tr[5]*this._maxTop+(this._tr[13]+e)<this._screenTop&&(e=this._screenTop-this._tr[5]*this._maxTop-this._tr[13]),this._tr[5]*this._maxBottom+(this._tr[13]+e)>this._screenBottom&&(e=this._screenBottom-this._tr[5]*this._maxBottom-this._tr[13]);var r=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,t,e,0,1]);V.multiply(r,this._tr,this._tr)},e.prototype.adjustScale=function(t,e,r){var i=this.getMaxScale(),n=this.getMinScale(),a=r*this._tr[0];a<n?this._tr[0]>0&&(r=n/this._tr[0]):a>i&&this._tr[0]>0&&(r=i/this._tr[0]);var o=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,t,e,0,1]),s=new Float32Array([r,0,0,0,0,r,0,0,0,0,1,0,0,0,0,1]),u=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,-t,-e,0,1]);V.multiply(u,this._tr,this._tr),V.multiply(s,this._tr,this._tr),V.multiply(o,this._tr,this._tr)},e.prototype.setScreenRect=function(t,e,r,i){this._screenLeft=t,this._screenRight=e,this._screenBottom=r,this._screenTop=i},e.prototype.setMaxScreenRect=function(t,e,r,i){this._maxLeft=t,this._maxRight=e,this._maxTop=i,this._maxBottom=r},e.prototype.setMaxScale=function(t){this._maxScale=t},e.prototype.setMinScale=function(t){this._minScale=t},e.prototype.getMaxScale=function(){return this._maxScale},e.prototype.getMinScale=function(){return this._minScale},e.prototype.isMaxScale=function(){return this.getScaleX()>=this._maxScale},e.prototype.isMinScale=function(){return this.getScaleX()<=this._minScale},e.prototype.getScreenLeft=function(){return this._screenLeft},e.prototype.getScreenRight=function(){return this._screenRight},e.prototype.getScreenBottom=function(){return this._screenBottom},e.prototype.getScreenTop=function(){return this._screenTop},e.prototype.getMaxLeft=function(){return this._maxLeft},e.prototype.getMaxRight=function(){return this._maxRight},e.prototype.getMaxBottom=function(){return this._maxBottom},e.prototype.getMaxTop=function(){return this._maxTop},e}(V);t.CubismViewMatrix=e}(D||(D={}));var F,L,O,N=function(){function t(){this._startX=0,this._startY=0,this._lastX=0,this._lastY=0,this._lastX1=0,this._lastY1=0,this._lastX2=0,this._lastY2=0,this._lastTouchDistance=0,this._deltaX=0,this._deltaY=0,this._scale=1,this._touchSingle=!1,this._flipAvailable=!1}return t.prototype.getCenterX=function(){return this._lastX},t.prototype.getCenterY=function(){return this._lastY},t.prototype.getDeltaX=function(){return this._deltaX},t.prototype.getDeltaY=function(){return this._deltaY},t.prototype.getStartX=function(){return this._startX},t.prototype.getStartY=function(){return this._startY},t.prototype.getScale=function(){return this._scale},t.prototype.getX=function(){return this._lastX},t.prototype.getY=function(){return this._lastY},t.prototype.getX1=function(){return this._lastX1},t.prototype.getY1=function(){return this._lastY1},t.prototype.getX2=function(){return this._lastX2},t.prototype.getY2=function(){return this._lastY2},t.prototype.isSingleTouch=function(){return this._touchSingle},t.prototype.isFlickAvailable=function(){return this._flipAvailable},t.prototype.disableFlick=function(){this._flipAvailable=!1},t.prototype.touchesBegan=function(t,e){this._lastX=t,this._lastY=e,this._startX=t,this._startY=e,this._lastTouchDistance=-1,this._flipAvailable=!0,this._touchSingle=!0},t.prototype.touchesMoved=function(t,e){this._lastX=t,this._lastY=e,this._lastTouchDistance=-1,this._touchSingle=!0},t.prototype.getFlickDistance=function(){return this.calculateDistance(this._startX,this._startY,this._lastX,this._lastY)},t.prototype.calculateDistance=function(t,e,r,i){return Math.sqrt((t-r)*(t-r)+(e-i)*(e-i))},t.prototype.calculateMovingAmount=function(t,e){if(t>0!=e>0)return 0;var r=t>0?1:-1,i=Math.abs(t),n=Math.abs(e);return r*(i<n?i:n)},t}();(L=F||(F={})).ViewMaxScale=2,L.ViewMinScale=.8,L.ViewLogicalLeft=-1,L.ViewLogicalRight=1,L.ViewLogicalMaxLeft=-2,L.ViewLogicalMaxRight=2,L.ViewLogicalMaxBottom=-2,L.ViewLogicalMaxTop=2,L.ResourcesPath="/resource/",L.BackImageName="back_class_normal.png",L.GearImageName="icon_gear.png",L.PowerImageName="CloseNormal.png",L.ModelDir=["Haru","Hiyori","momo","Mark","Natori"],L.ModelDirSize=L.ModelDir.length,L.MotionGroupIdle="Idle",L.MotionGroupTapBody="TapBody",L.MotionGroupTapNose="TapNose",L.MotionGroupTapGem="TapGem",L.MotionGroupTapFace="TapFace",L.HitAreaNameHead="Head",L.HitAreaNameFace="Face",L.HitAreaNameBody="Body",L.HitAreaNameNose="Nose",L.HitAreaNameGem="Gem",L.PriorityNone=0,L.PriorityIdle=1,L.PriorityNormal=2,L.PriorityForce=3,L.DebugLogEnable=!0,L.DebugTouchLogEnable=!1,L.DebugMode=!1,L.CubismLoggingLevel=E.LogLevel_Verbose,function(t){var e=function(){function t(t,e){this.x=t,this.y=e,this.x=void 0==t?0:t,this.y=void 0==e?0:e}return t.prototype.add=function(e){var r=new t(0,0);return r.x=this.x+e.x,r.y=this.y+e.y,r},t.prototype.substract=function(e){var r=new t(0,0);return r.x=this.x-e.x,r.y=this.y-e.y,r},t.prototype.multiply=function(e){var r=new t(0,0);return r.x=this.x*e.x,r.y=this.y*e.y,r},t.prototype.multiplyByScaler=function(e){return this.multiply(new t(e,e))},t.prototype.division=function(e){var r=new t(0,0);return r.x=this.x/e.x,r.y=this.y/e.y,r},t.prototype.divisionByScalar=function(e){return this.division(new t(e,e))},t.prototype.getLength=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.getDistanceWith=function(t){return Math.sqrt((this.x-t.x)*(this.x-t.x)+(this.y-t.y)*(this.y-t.y))},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.normalize=function(){var t=Math.pow(this.x*this.x+this.y*this.y,.5);this.x=this.x/t,this.y=this.y/t},t.prototype.isEqual=function(t){return this.x==t.x&&this.y==t.y},t.prototype.isNotEqual=function(t){return!this.isEqual(t)},t}();t.CubismVector2=e}(O||(O={}));var z,U=O.CubismVector2;!function(t){var e=function(){function t(){}return t.range=function(t,e,r){return t<e?t=e:t>r&&(t=r),t},t.sin=function(t){return Math.sin(t)},t.cos=function(t){return Math.cos(t)},t.abs=function(t){return Math.abs(t)},t.sqrt=function(t){return Math.sqrt(t)},t.getEasingSine=function(t){return t<0?0:t>1?1:.5-.5*this.cos(t*Math.PI)},t.max=function(t,e){return t>e?t:e},t.min=function(t,e){return t>e?e:t},t.degreesToRadian=function(t){return t/180*Math.PI},t.radianToDegrees=function(t){return 180*t/Math.PI},t.directionToRadian=function(t,e){for(var r=Math.atan2(e.y,e.x)-Math.atan2(t.y,t.x);r<-Math.PI;)r+=2*Math.PI;for(;r>Math.PI;)r-=2*Math.PI;return r},t.directionToDegrees=function(t,e){var r=this.directionToRadian(t,e),i=this.radianToDegrees(r);return e.x-t.x>0&&(i=-i),i},t.radianToDirection=function(t){var e=new U;return e.x=this.sin(t),e.y=this.cos(t),e},t}();t.CubismMath=e}(z||(z={}));var j,G=c.csmVector,Y=z.CubismMath;!function(t){var e=function(){function t(){var t=this;this.setFinishedMotionHandler=function(e){return t._onFinishedMotion=e},this.getFinishedMotionHandler=function(){return t._onFinishedMotion},this._fadeInSeconds=-1,this._fadeOutSeconds=-1,this._weight=1,this._offsetSeconds=0,this._firedEventValues=new G,this._name=""}return t.delete=function(t){t.release(),t=void 0,t=null},t.prototype.release=function(){this._weight=0},t.prototype.updateParameters=function(t,e,r){if(e.isAvailable()&&!e.isFinished()){if(!e.isStarted()){e.setIsStarted(!0),e.setStartTime(r-this._offsetSeconds),e.setFadeInStartTime(r);var i=this.getDuration();e.getEndTime()<0&&e.setEndTime(i<=0?-1:e.getStartTime()+i)}var n=this._weight;n=n*(0==this._fadeInSeconds?1:Y.getEasingSine((r-e.getFadeInStartTime())/this._fadeInSeconds))*(0==this._fadeOutSeconds||e.getEndTime()<0?1:Y.getEasingSine((e.getEndTime()-r)/this._fadeOutSeconds)),e.setState(r,n),f(0<=n&&n<=1),this.doUpdateParameters(t,r,n,e),e.getEndTime()>0&&e.getEndTime()<r&&e.setIsFinished(!0)}},t.prototype.setFadeInTime=function(t){this._fadeInSeconds=t},t.prototype.setFadeOutTime=function(t){this._fadeOutSeconds=t},t.prototype.getFadeOutTime=function(){return this._fadeOutSeconds},t.prototype.getFadeInTime=function(){return this._fadeInSeconds},t.prototype.setWeight=function(t){this._weight=t},t.prototype.getWeight=function(){return this._weight},t.prototype.getDuration=function(){return-1},t.prototype.getLoopDuration=function(){return-1},t.prototype.setOffsetTime=function(t){this._offsetSeconds=t},t.prototype.getFiredEvent=function(t,e){return this._firedEventValues},t}();t.ACubismMotion=e}(j||(j={}));var X,H=j.ACubismMotion;!function(t){var e=function(){function t(){this._autoDelete=!1,this._motion=null,this._available=!0,this._finished=!1,this._started=!1,this._startTimeSeconds=-1,this._fadeInStartTimeSeconds=0,this._endTimeSeconds=-1,this._stateTimeSeconds=0,this._stateWeight=0,this._lastEventCheckSeconds=0,this._motionQueueEntryHandle=this,this._fadeOutSeconds=0,this._isTriggeredFadeOut=!1}return t.prototype.release=function(){this._autoDelete&&this._motion&&H.delete(this._motion)},t.prototype.setFadeOut=function(t){this._fadeOutSeconds=t,this._isTriggeredFadeOut=!0},t.prototype.startFadeOut=function(t,e){var r=e+t;this._isTriggeredFadeOut=!0,(this._endTimeSeconds<0||r<this._endTimeSeconds)&&(this._endTimeSeconds=r)},t.prototype.isFinished=function(){return this._finished},t.prototype.isStarted=function(){return this._started},t.prototype.getStartTime=function(){return this._startTimeSeconds},t.prototype.getFadeInStartTime=function(){return this._fadeInStartTimeSeconds},t.prototype.getEndTime=function(){return this._endTimeSeconds},t.prototype.setStartTime=function(t){this._startTimeSeconds=t},t.prototype.setFadeInStartTime=function(t){this._fadeInStartTimeSeconds=t},t.prototype.setEndTime=function(t){this._endTimeSeconds=t},t.prototype.setIsFinished=function(t){this._finished=t},t.prototype.setIsStarted=function(t){this._started=t},t.prototype.isAvailable=function(){return this._available},t.prototype.setIsAvailable=function(t){this._available=t},t.prototype.setState=function(t,e){this._stateTimeSeconds=t,this._stateWeight=e},t.prototype.getStateTime=function(){return this._stateTimeSeconds},t.prototype.getStateWeight=function(){return this._stateWeight},t.prototype.getLastCheckEventSeconds=function(){return this._lastEventCheckSeconds},t.prototype.setLastCheckEventSeconds=function(t){this._lastEventCheckSeconds=t},t.prototype.isTriggeredFadeOut=function(){return this._isTriggeredFadeOut&&this._endTimeSeconds<0},t.prototype.getFadeOutSeconds=function(){return this._fadeOutSeconds},t}();t.CubismMotionQueueEntry=e}(X||(X={}));var W,Z=function(){function t(){}return t.fetchFile=function(t,e){return new Promise((function(r,i){var n=new XMLHttpRequest;n.open("GET",t,!0),e&&(n.responseType=e),n.onload=function(){var t={status:n.status,statusText:n.statusText};new RegExp("^file://\\S+").test(window.location.href)&&0===t.status&&(t.status=200);var e="response"in n?n.response:n.responseText;r(new Response(e,t))},n.onerror=function(){i(new TypeError("Local request failed"))},n.send()}))},t.loadFileAsBytes=function(t,e){var r=t,i=0;this.fetchFile(r,"arraybuffer").then((function(t){return t.arrayBuffer()})).then((function(t){i=t.byteLength,e(t,i)}))},t.releaseBytes=function(t){void 0},t.getDeltaTime=function(){return this.s_deltaTime},t.updateTime=function(){this.s_currentFrame=Date.now(),this.s_deltaTime=(this.s_currentFrame-this.s_lastFrame)/1e3,this.s_lastFrame=this.s_currentFrame},t.printLog=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];console.log(t.replace(/\{(\d+)\}/g,(function(t,r){return e[r]})))},t.printMessage=function(e){t.printLog(e)},t.lastUpdate=Date.now(),t.s_currentFrame=0,t.s_lastFrame=0,t.s_deltaTime=0,t}(),q=c.csmVector,Q=X.CubismMotionQueueEntry;!function(t){var e=function(){function t(){this._userTimeSeconds=0,this._eventCallBack=null,this._eventCustomData=null,this._currentPriority=0,this._reservePriority=0,this._motions=new q}return t.prototype.release=function(){for(var t=0;t<this._motions.getSize();++t)this._motions.at(t)&&(this._motions.at(t).release(),this._motions.set(t,void 0),this._motions.set(t,null));this._motions=null},t.prototype.startMotion=function(t,e,r,i){var n=this;return new Promise((function(r,a){if(null==t)return a("no motion"),i;for(var o=null,s=0;s<n._motions.getSize();++s)null!=(o=n._motions.at(s))&&o.setFadeOut(o._motion.getFadeOutTime());if((o=new Q)._autoDelete=e,o._motion=t,n._motions.clear(),n._motions.pushBack(o),t._name.split("_")[0]!==i._motionIdleName||t._weight!==F.PriorityIdle){var u=(new Date).getTime(),l=window.setInterval((function(){n.isFinishedByMotionName(t._name)?(window.clearInterval(l),F.DebugMode&&(Z.printLog("[APP]resolve motion {0}",t._name),Z.printLog("----------------------------------")),r(i)):(new Date).getTime()-u>=3e4&&(window.clearInterval(l),n._currentPriority=0,a(new Error("\u52a8\u753b\u6267\u884c\u8d85\u65f6(30s)")))}),20);return o._motionQueueEntryHandle}r()}))},t.prototype.isFinished=function(){for(var t=this._motions.begin();t.notEqual(this._motions.end());){var e=t.ptr();if(null!=e)if(null!=e._motion){if(!e.isFinished())return!1;t.preIncrement()}else e.release(),e=void 0,e=null,t=this._motions.erase(t);else t=this._motions.erase(t)}return!0},t.prototype.isFinishedByHandle=function(t){for(var e=this._motions.begin();e.notEqual(this._motions.end());e.increment()){var r=e.ptr();if(null!=r&&(r._motionQueueEntryHandle==t&&!r.isFinished()))return!1}return!0},t.prototype.isFinishedByMotionName=function(t){if(t){var e=this._motions.get().find((function(e){return e._motion._name===t}));return!e||!!e.isFinished()}return!0},t.prototype.stopAllMotions=function(){var t=this;return new Promise((function(e){for(var r=t._motions.begin();r.notEqual(t._motions.end());){var i=r.ptr();null!=i?(i.release(),i=void 0,i=null,r=t._motions.erase(r)):r=t._motions.erase(r)}e()}))},t.prototype.getCubismMotionQueueEntry=function(t){for(var e=this._motions.begin();e.notEqual(this._motions.end());e.preIncrement()){var r=e.ptr();if(null!=r&&r._motionQueueEntryHandle==t)return r}return null},t.prototype.setEventCallback=function(t,e){void 0===e&&(e=null),this._eventCallBack=t,this._eventCustomData=e},t.prototype.doUpdateMotion=function(t,e){for(var r=!1,i=this._motions.begin();i.notEqual(this._motions.end());){var n=i.ptr();if(null!=n){var a=n._motion;if(null!=a){a.updateParameters(t,n,e),r=!0;for(var o=a.getFiredEvent(n.getLastCheckEventSeconds()-n.getStartTime(),e-n.getStartTime()),s=0;s<o.getSize();++s)this._eventCallBack(this,o.at(s),this._eventCustomData);n.setLastCheckEventSeconds(e),n.isFinished()?(n.release(),n=void 0,n=null,i=this._motions.erase(i)):(n.isTriggeredFadeOut()&&n.startFadeOut(n.getFadeOutSeconds(),e),i.preIncrement())}else n.release(),n=void 0,n=null,i=this._motions.erase(i)}else i=this._motions.erase(i)}return r},t}();t.CubismMotionQueueManager=e,t.InvalidMotionQueueEntryHandleValue=-1}(W||(W={}));var J,K=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),$=W.CubismMotionQueueManager;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e._currentPriority=0,e._reservePriority=0,e}return K(e,t),e.prototype.getCurrentPriority=function(){return this._currentPriority},e.prototype.getReservePriority=function(){return this._reservePriority},e.prototype.setReservePriority=function(t){this._reservePriority=t},e.prototype.startMotionPriority=function(e,r,i,n){return i==this._reservePriority&&(this._reservePriority=0),this._currentPriority=i,t.prototype.startMotion.call(this,e,r,this._userTimeSeconds,n)},e.prototype.updateMotion=function(e,r){this._userTimeSeconds+=r;var i=t.prototype.doUpdateMotion.call(this,e,this._userTimeSeconds);return this.isFinished()&&(this._currentPriority=0),i},e.prototype.reserveMotion=function(t){return!(t<=this._reservePriority||t<=this._currentPriority)&&(this._reservePriority=t,!0)},e}($);t.CubismMotionManager=e}(J||(J={}));var tt,et=z.CubismMath;!function(t){var e=function(){function t(){this._faceTargetX=0,this._faceTargetY=0,this._faceX=0,this._faceY=0,this._faceVX=0,this._faceVY=0,this._lastTimeSeconds=0,this._userTimeSeconds=0}return t.prototype.update=function(t){this._userTimeSeconds+=t;var e=4/30;if(0!=this._lastTimeSeconds){var r=30*(this._userTimeSeconds-this._lastTimeSeconds);this._lastTimeSeconds=this._userTimeSeconds;var i=r*e/4.5,n=this._faceTargetX-this._faceX,a=this._faceTargetY-this._faceY;if(!(et.abs(n)<=.01&&et.abs(a)<=.01)){var o=et.sqrt(n*n+a*a),s=e*a/o,u=e*n/o-this._faceVX,l=s-this._faceVY,c=et.sqrt(u*u+l*l);(c<-i||c>i)&&(u*=i/c,l*=i/c),this._faceVX+=u,this._faceVY+=l;var h=.5*(et.sqrt(i*i+16*i*o-8*i*o)-i),f=et.sqrt(this._faceVX*this._faceVX+this._faceVY*this._faceVY);f>h&&(this._faceVX*=h/f,this._faceVY*=h/f),this._faceX+=this._faceVX,this._faceY+=this._faceVY}}else this._lastTimeSeconds=this._userTimeSeconds},t.prototype.getX=function(){return this._faceX},t.prototype.getY=function(){return this._faceY},t.prototype.set=function(t,e){this._faceTargetX=t,this._faceTargetY=e},t}();t.CubismTargetPoint=e}(tt||(tt={}));var rt,it=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),nt=A.CubismMatrix44;!function(t){var e=function(t){function e(e,r){var i=t.call(this)||this;return i._width=void 0!==e?e:0,i._height=void 0!==r?r:0,i.setHeight(1),i}return it(e,t),e.prototype.setWidth=function(t){var e=t/this._width,r=e;this.scale(e,r)},e.prototype.setHeight=function(t){var e=t/this._height,r=e;this.scale(e,r)},e.prototype.setPosition=function(t,e){this.translate(t,e)},e.prototype.setCenterPosition=function(t,e){this.centerX(t),this.centerY(e)},e.prototype.top=function(t){this.setY(t)},e.prototype.bottom=function(t){var e=this._height*this.getScaleY();this.translateY(t-e)},e.prototype.left=function(t){this.setX(t)},e.prototype.right=function(t){var e=this._width*this.getScaleX();this.translateX(t-e)},e.prototype.centerX=function(t){var e=this._width*this.getScaleX();this.translateX(t-e/2)},e.prototype.setX=function(t){this.translateX(t)},e.prototype.centerY=function(t){var e=this._height*this.getScaleY();this.translateY(t-e/2)},e.prototype.setY=function(t){this.translateY(t)},e.prototype.setupFromLayout=function(t){for(var e=t.begin();e.notEqual(t.end());e.preIncrement()){var r=e.ptr().first,i=e.ptr().second;"width"==r?this.setWidth(i):"height"==r&&this.setHeight(i)}for(e=t.begin();e.notEqual(t.end());e.preIncrement()){r=e.ptr().first,i=e.ptr().second;"x"==r?this.setX(i):"y"==r?this.setY(i):"center_x"==r?this.centerX(i):"center_y"==r?this.centerY(i):"top"==r?this.top(i):"bottom"==r?this.bottom(i):"left"==r?this.left(i):"right"==r&&this.right(i)}},e}(nt);t.CubismModelMatrix=e}(rt||(rt={}));var at,ot=k.CubismFramework,st=x.CubismBlendMode,ut=c.csmVector,lt=l.csmMap;!function(t){var e=function(){function t(t){this._model=t,this._parameterValues=null,this._parameterMaximumValues=null,this._parameterMinimumValues=null,this._partOpacities=null,this._savedParameters=new ut,this._parameterIds=new ut,this._drawableIds=new ut,this._partIds=new ut,this._notExistPartId=new lt,this._notExistParameterId=new lt,this._notExistParameterValues=new lt,this._notExistPartOpacities=new lt}return t.prototype.update=function(){this._model.update(),this._model.drawables.resetDynamicFlags()},t.prototype.getCanvasWidth=function(){return null==this._model?0:this._model.canvasinfo.CanvasWidth/this._model.canvasinfo.PixelsPerUnit},t.prototype.getCanvasHeight=function(){return null==this._model?0:this._model.canvasinfo.CanvasHeight/this._model.canvasinfo.PixelsPerUnit},t.prototype.saveParameters=function(){for(var t=this._model.parameters.count,e=this._savedParameters.getSize(),r=0;r<t;++r)r<e?this._savedParameters.set(r,this._parameterValues[r]):this._savedParameters.pushBack(this._parameterValues[r])},t.prototype.getModel=function(){return this._model},t.prototype.getPartIndex=function(t){var e,r=this._model.parts.count;for(e=0;e<r;++e)if(t==this._partIds.at(e))return e;return this._notExistPartId.isExist(t)?this._notExistPartId.getValue(t):(e=r+this._notExistPartId.getSize(),this._notExistPartId.setValue(t,e),this._notExistPartOpacities.appendKey(e),e)},t.prototype.getPartCount=function(){return this._model.parts.count},t.prototype.setPartOpacityByIndex=function(t,e){this._notExistPartOpacities.isExist(t)?this._notExistPartOpacities.setValue(t,e):(f(0<=t&&t<this.getPartCount()),this._partOpacities[t]=e)},t.prototype.setPartOpacityById=function(t,e){var r=this.getPartIndex(t);r<0||this.setPartOpacityByIndex(r,e)},t.prototype.getPartOpacityByIndex=function(t){return this._notExistPartOpacities.isExist(t)?this._notExistPartOpacities.getValue(t):(f(0<=t&&t<this.getPartCount()),this._partOpacities[t])},t.prototype.getPartOpacityById=function(t){var e=this.getPartIndex(t);return e<0?0:this.getPartOpacityByIndex(e)},t.prototype.getParameterIndex=function(t){var e,r=this._model.parameters.count;for(e=0;e<r;++e)if(t==this._parameterIds.at(e))return e;return this._notExistParameterId.isExist(t)?this._notExistParameterId.getValue(t):(e=this._model.parameters.count+this._notExistParameterId.getSize(),this._notExistParameterId.setValue(t,e),this._notExistParameterValues.appendKey(e),e)},t.prototype.getParameterCount=function(){return this._model.parameters.count},t.prototype.getParameterMaximumValue=function(t){return this._model.parameters.maximumValues[t]},t.prototype.getParameterMinimumValue=function(t){return this._model.parameters.minimumValues[t]},t.prototype.getParameterDefaultValue=function(t){return this._model.parameters.defaultValues[t]},t.prototype.getParameterValueByIndex=function(t){return this._notExistParameterValues.isExist(t)?this._notExistParameterValues.getValue(t):(f(0<=t&&t<this.getParameterCount()),this._parameterValues[t])},t.prototype.getParameterValueById=function(t){var e=this.getParameterIndex(t);return this.getParameterValueByIndex(e)},t.prototype.setParameterValueByIndex=function(t,e,r){void 0===r&&(r=1),this._notExistParameterValues.isExist(t)?this._notExistParameterValues.setValue(t,1==r?e:this._notExistParameterValues.getValue(t)*(1-r)+e*r):(f(0<=t&&t<this.getParameterCount()),this._model.parameters.maximumValues[t]<e&&(e=this._model.parameters.maximumValues[t]),this._model.parameters.minimumValues[t]>e&&(e=this._model.parameters.minimumValues[t]),this._parameterValues[t]=1==r?e:this._parameterValues[t]=this._parameterValues[t]*(1-r)+e*r)},t.prototype.setParameterValueById=function(t,e,r){void 0===r&&(r=1);var i=this.getParameterIndex(t);this.setParameterValueByIndex(i,e,r)},t.prototype.addParameterValueByIndex=function(t,e,r){void 0===r&&(r=1),this.setParameterValueByIndex(t,this.getParameterValueByIndex(t)+e*r)},t.prototype.addParameterValueById=function(t,e,r){void 0===r&&(r=1);var i=this.getParameterIndex(t);this.addParameterValueByIndex(i,e,r)},t.prototype.multiplyParameterValueById=function(t,e,r){void 0===r&&(r=1);var i=this.getParameterIndex(t);this.multiplyParameterValueByIndex(i,e,r)},t.prototype.multiplyParameterValueByIndex=function(t,e,r){void 0===r&&(r=1),this.setParameterValueByIndex(t,this.getParameterValueByIndex(t)*(1+(e-1)*r))},t.prototype.getDrawableIndex=function(t){for(var e=this._model.drawables.count,r=0;r<e;++r)if(this._drawableIds.at(r)==t)return r;return-1},t.prototype.getDrawableCount=function(){return this._model.drawables.count},t.prototype.getDrawableId=function(t){var e=this._model.drawables.ids;return ot.getIdManager().getId(e[t])},t.prototype.getDrawableRenderOrders=function(){return this._model.drawables.renderOrders},t.prototype.getDrawableTextureIndices=function(t){return this._model.drawables.textureIndices[t]},t.prototype.getDrawableDynamicFlagVertexPositionsDidChange=function(t){var e=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasVertexPositionsDidChangeBit(e[t])},t.prototype.getDrawableVertexIndexCount=function(t){return this._model.drawables.indexCounts[t]},t.prototype.getDrawableVertexCount=function(t){return this._model.drawables.vertexCounts[t]},t.prototype.getDrawableVertices=function(t){return this.getDrawableVertexPositions(t)},t.prototype.getDrawableVertexIndices=function(t){return this._model.drawables.indices[t]},t.prototype.getDrawableVertexPositions=function(t){return this._model.drawables.vertexPositions[t]},t.prototype.getDrawableVertexUvs=function(t){return this._model.drawables.vertexUvs[t]},t.prototype.getDrawableOpacity=function(t){return this._model.drawables.opacities[t]},t.prototype.getDrawableCulling=function(t){var e=this._model.drawables.constantFlags;return!Live2DCubismCore.Utils.hasIsDoubleSidedBit(e[t])},t.prototype.getDrawableBlendMode=function(t){var e=this._model.drawables.constantFlags;return Live2DCubismCore.Utils.hasBlendAdditiveBit(e[t])?st.CubismBlendMode_Additive:Live2DCubismCore.Utils.hasBlendMultiplicativeBit(e[t])?st.CubismBlendMode_Multiplicative:st.CubismBlendMode_Normal},t.prototype.getDrawableInvertedMaskBit=function(t){var e=this._model.drawables.constantFlags;return Live2DCubismCore.Utils.hasIsInvertedMaskBit(e[t])},t.prototype.getDrawableMasks=function(){return this._model.drawables.masks},t.prototype.getDrawableMaskCounts=function(){return this._model.drawables.maskCounts},t.prototype.isUsingMasking=function(){for(var t=0;t<this._model.drawables.count;++t)if(!(this._model.drawables.maskCounts[t]<=0))return!0;return!1},t.prototype.getDrawableDynamicFlagIsVisible=function(t){var e=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasIsVisibleBit(e[t])},t.prototype.getDrawableDynamicFlagVisibilityDidChange=function(t){var e=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasVisibilityDidChangeBit(e[t])},t.prototype.getDrawableDynamicFlagOpacityDidChange=function(t){var e=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasOpacityDidChangeBit(e[t])},t.prototype.getDrawableDynamicFlagRenderOrderDidChange=function(t){var e=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasRenderOrderDidChangeBit(e[t])},t.prototype.loadParameters=function(){var t=this._model.parameters.count,e=this._savedParameters.getSize();t>e&&(t=e);for(var r=0;r<t;++r)this._parameterValues[r]=this._savedParameters.at(r)},t.prototype.initialize=function(){f(this._model),this._parameterValues=this._model.parameters.values,this._partOpacities=this._model.parts.opacities,this._parameterMaximumValues=this._model.parameters.maximumValues,this._parameterMinimumValues=this._model.parameters.minimumValues;var t=this._model.parameters.ids,e=this._model.parameters.count;this._parameterIds.prepareCapacity(e);for(var r=0;r<e;++r)this._parameterIds.pushBack(ot.getIdManager().getId(t[r]));var i=this._model.parts.ids,n=this._model.parts.count;this._partIds.prepareCapacity(n);for(r=0;r<n;++r)this._partIds.pushBack(ot.getIdManager().getId(i[r]));var a=this._model.drawables.ids,o=this._model.drawables.count;this._drawableIds.prepareCapacity(o);for(r=0;r<o;++r)this._drawableIds.pushBack(ot.getIdManager().getId(a[r]))},t.prototype.release=function(){this._model.release(),this._model=null},t}();t.CubismModel=e}(at||(at={}));var ct,ht=at.CubismModel;!function(t){var e=function(){function t(t){this._moc=t,this._modelCount=0}return t.create=function(e){var r=null,i=Live2DCubismCore.Moc.fromArrayBuffer(e);return i&&(r=new t(i)),r},t.delete=function(t){t._moc._release(),t._moc=null,t=null},t.prototype.createModel=function(){var t=null,e=Live2DCubismCore.Model.fromMoc(this._moc);return e&&((t=new ht(e)).initialize(),++this._modelCount),t},t.prototype.deleteModel=function(t){null!=t&&(t.release(),t=null,--this._modelCount)},t.prototype.release=function(){f(0==this._modelCount),this._moc._release(),this._moc=null},t}();t.CubismMoc=e}(ct||(ct={}));var ft,dt=i.csmString,pt=k.CubismFramework,gt=d.CubismJson;!function(t){var e="Meta",r="Curves",i="FadeInTime",n="FadeOutTime",a="Segments",o="UserData",s=function(){function t(t,e){this._json=gt.create(t,e)}return t.prototype.release=function(){gt.delete(this._json)},t.prototype.getMotionDuration=function(){return this._json.getRoot().getValueByString(e).getValueByString("Duration").toFloat()},t.prototype.isMotionLoop=function(){return this._json.getRoot().getValueByString(e).getValueByString("Loop").toBoolean()},t.prototype.getMotionCurveCount=function(){return this._json.getRoot().getValueByString(e).getValueByString("CurveCount").toInt()},t.prototype.getMotionFps=function(){return this._json.getRoot().getValueByString(e).getValueByString("Fps").toFloat()},t.prototype.getMotionTotalSegmentCount=function(){return this._json.getRoot().getValueByString(e).getValueByString("TotalSegmentCount").toInt()},t.prototype.getMotionTotalPointCount=function(){return this._json.getRoot().getValueByString(e).getValueByString("TotalPointCount").toInt()},t.prototype.isExistMotionFadeInTime=function(){return!this._json.getRoot().getValueByString(e).getValueByString(i).isNull()},t.prototype.isExistMotionFadeOutTime=function(){return!this._json.getRoot().getValueByString(e).getValueByString(n).isNull()},t.prototype.getMotionFadeInTime=function(){return this._json.getRoot().getValueByString(e).getValueByString(i).toFloat()},t.prototype.getMotionFadeOutTime=function(){return this._json.getRoot().getValueByString(e).getValueByString(n).toFloat()},t.prototype.getMotionCurveTarget=function(t){return this._json.getRoot().getValueByString(r).getValueByIndex(t).getValueByString("Target").getRawString()},t.prototype.getMotionCurveId=function(t){return pt.getIdManager().getId(this._json.getRoot().getValueByString(r).getValueByIndex(t).getValueByString("Id").getRawString())},t.prototype.isExistMotionCurveFadeInTime=function(t){return!this._json.getRoot().getValueByString(r).getValueByIndex(t).getValueByString(i).isNull()},t.prototype.isExistMotionCurveFadeOutTime=function(t){return!this._json.getRoot().getValueByString(r).getValueByIndex(t).getValueByString(n).isNull()},t.prototype.getMotionCurveFadeInTime=function(t){return this._json.getRoot().getValueByString(r).getValueByIndex(t).getValueByString(i).toFloat()},t.prototype.getMotionCurveFadeOutTime=function(t){return this._json.getRoot().getValueByString(r).getValueByIndex(t).getValueByString(n).toFloat()},t.prototype.getMotionCurveSegmentCount=function(t){return this._json.getRoot().getValueByString(r).getValueByIndex(t).getValueByString(a).getVector().getSize()},t.prototype.getMotionCurveSegment=function(t,e){return this._json.getRoot().getValueByString(r).getValueByIndex(t).getValueByString(a).getValueByIndex(e).toFloat()},t.prototype.getEventCount=function(){return this._json.getRoot().getValueByString(e).getValueByString("UserDataCount").toInt()},t.prototype.getTotalEventValueSize=function(){return this._json.getRoot().getValueByString(e).getValueByString("TotalUserDataSize").toInt()},t.prototype.getEventTime=function(t){return this._json.getRoot().getValueByString(o).getValueByIndex(t).getValueByString("Time").toInt()},t.prototype.getEventValue=function(t){return new dt(this._json.getRoot().getValueByString(o).getValueByIndex(t).getValueByString("Value").getRawString())},t}();t.CubismMotionJson=s}(ft||(ft={}));var mt,_t=c.csmVector;!function(t){var e;!function(t){t[t.CubismMotionCurveTarget_Model=0]="CubismMotionCurveTarget_Model",t[t.CubismMotionCurveTarget_Parameter=1]="CubismMotionCurveTarget_Parameter",t[t.CubismMotionCurveTarget_PartOpacity=2]="CubismMotionCurveTarget_PartOpacity"}(e=t.CubismMotionCurveTarget||(t.CubismMotionCurveTarget={})),function(t){t[t.CubismMotionSegmentType_Linear=0]="CubismMotionSegmentType_Linear",t[t.CubismMotionSegmentType_Bezier=1]="CubismMotionSegmentType_Bezier",t[t.CubismMotionSegmentType_Stepped=2]="CubismMotionSegmentType_Stepped",t[t.CubismMotionSegmentType_InverseStepped=3]="CubismMotionSegmentType_InverseStepped"}(t.CubismMotionSegmentType||(t.CubismMotionSegmentType={}));var r=function(){this.time=0,this.value=0};t.CubismMotionPoint=r;var i=function(){this.evaluate=null,this.basePointIndex=0,this.segmentType=0};t.CubismMotionSegment=i;var n=function(){this.type=e.CubismMotionCurveTarget_Model,this.segmentCount=0,this.baseSegmentIndex=0,this.fadeInTime=0,this.fadeOutTime=0};t.CubismMotionCurve=n;var a=function(){this.fireTime=0};t.CubismMotionEvent=a;var o=function(){this.duration=0,this.loop=!1,this.curveCount=0,this.eventCount=0,this.fps=0,this.curves=new _t,this.segments=new _t,this.points=new _t,this.events=new _t};t.CubismMotionData=o}(mt||(mt={}));var yt,vt=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),bt=i.csmString,At=mt.CubismMotionData,wt=mt.CubismMotionSegment,St=mt.CubismMotionPoint,xt=mt.CubismMotionEvent,Ct=mt.CubismMotionSegmentType,kt=mt.CubismMotionCurve,It=mt.CubismMotionCurveTarget,Pt=z.CubismMath,Bt=k.CubismFramework,Mt=j.ACubismMotion,Et=ft.CubismMotionJson;!function(t){function e(t,e,r){var i=new St;return i.time=t.time+(e.time-t.time)*r,i.value=t.value+(e.value-t.value)*r,i}function r(t,e){var r=(e-t[0].time)/(t[1].time-t[0].time);return r<0&&(r=0),t[0].value+(t[1].value-t[0].value)*r}function i(t,r){var i=(r-t[0].time)/(t[3].time-t[0].time);i<0&&(i=0);var n=e(t[0],t[1],i),a=e(t[1],t[2],i),o=e(t[2],t[3],i),s=e(n,a,i),u=e(a,o,i);return e(s,u,i).value}function a(t,e){return t[0].value}function o(t,e){return t[1].value}function s(t,e,r){for(var i=t.curves.at(e),n=-1,a=i.baseSegmentIndex+i.segmentCount,o=0,s=i.baseSegmentIndex;s<a;++s)if(o=t.segments.at(s).basePointIndex+(t.segments.at(s).segmentType==Ct.CubismMotionSegmentType_Bezier?3:1),t.points.at(o).time>r){n=s;break}if(-1==n)return t.points.at(o).value;var u=t.segments.at(n);return u.evaluate(t.points.get(u.basePointIndex),r)}var u=function(t){function e(){var e=t.call(this)||this;return e._sourceFrameRate=30,e._loopDurationSeconds=-1,e._isLoop=!1,e._isLoopFadeIn=!0,e._lastWeight=0,e._motionData=null,e._modelCurveIdEyeBlink=null,e._modelCurveIdLipSync=null,e._eyeBlinkParameterIds=null,e._lipSyncParameterIds=null,e}return vt(e,t),e.create=function(t,r,i,n){var a=new e;return a.parse(t,r),a._sourceFrameRate=a._motionData.fps,a._loopDurationSeconds=a._motionData.duration,a._name=i,a._onFinishedMotion=n,a},e.prototype.doUpdateParameters=function(t,e,r,i){null==this._modelCurveIdEyeBlink&&(this._modelCurveIdEyeBlink=Bt.getIdManager().getId("EyeBlink")),null==this._modelCurveIdLipSync&&(this._modelCurveIdLipSync=Bt.getIdManager().getId("LipSync"));var a=e-i.getStartTime();a<0&&(a=0);var o=Number.MAX_VALUE,u=Number.MAX_VALUE,l=64,c=0,h=0;this._eyeBlinkParameterIds.getSize()>l&&n("too many eye blink targets : {0}",this._eyeBlinkParameterIds.getSize()),this._lipSyncParameterIds.getSize()>l&&n("too many lip sync targets : {0}",this._lipSyncParameterIds.getSize());var f,d,p,g=this._fadeInSeconds<=0?1:Pt.getEasingSine((e-i.getFadeInStartTime())/this._fadeInSeconds),m=this._fadeOutSeconds<=0||i.getEndTime()<0?1:Pt.getEasingSine((i.getEndTime()-e)/this._fadeOutSeconds),_=a;if(this._isLoop)for(;_>this._motionData.duration;)_-=this._motionData.duration;var y=this._motionData.curves;for(d=0;d<this._motionData.curveCount&&y.at(d).type==It.CubismMotionCurveTarget_Model;++d)f=s(this._motionData,d,_),y.at(d).id==this._modelCurveIdEyeBlink?u=f:y.at(d).id==this._modelCurveIdLipSync&&(o=f);for(;d<this._motionData.curveCount&&y.at(d).type==It.CubismMotionCurveTarget_Parameter;++d)if(-1!=(p=t.getParameterIndex(y.at(d).id))){var v=t.getParameterValueByIndex(p);if(f=s(this._motionData,d,_),u!=Number.MAX_VALUE)for(var b=0;b<this._eyeBlinkParameterIds.getSize()&&b<l;++b)if(this._eyeBlinkParameterIds.at(b)==y.at(d).id){f*=u,h|=1<<b;break}if(o!=Number.MAX_VALUE)for(b=0;b<this._lipSyncParameterIds.getSize()&&b<l;++b)if(this._lipSyncParameterIds.at(b)==y.at(d).id){f+=o,c|=1<<b;break}var A=void 0;if(y.at(d).fadeInTime<0&&y.at(d).fadeOutTime<0)A=v+(f-v)*r;else{var w=void 0,S=void 0;w=y.at(d).fadeInTime<0?g:0==y.at(d).fadeInTime?1:Pt.getEasingSine((e-i.getFadeInStartTime())/y.at(d).fadeInTime),S=y.at(d).fadeOutTime<0?m:0==y.at(d).fadeOutTime||i.getEndTime()<0?1:Pt.getEasingSine((i.getEndTime()-e)/y.at(d).fadeOutTime),A=v+(f-v)*(this._weight*w*S)}t.setParameterValueByIndex(p,A,1)}if(u!=Number.MAX_VALUE)for(b=0;b<this._eyeBlinkParameterIds.getSize()&&b<l;++b){v=t.getParameterValueById(this._eyeBlinkParameterIds.at(b));if(!(h>>b&1)){A=v+(u-v)*r;t.setParameterValueById(this._eyeBlinkParameterIds.at(b),A)}}if(o!=Number.MAX_VALUE)for(b=0;b<this._lipSyncParameterIds.getSize()&&b<l;++b){v=t.getParameterValueById(this._lipSyncParameterIds.at(b));if(!(c>>b&1)){A=v+(o-v)*r;t.setParameterValueById(this._lipSyncParameterIds.at(b),A)}}for(;d<this._motionData.curveCount&&y.at(d).type==It.CubismMotionCurveTarget_PartOpacity;++d)-1!=(p=t.getParameterIndex(y.at(d).id))&&(f=s(this._motionData,d,_),t.setParameterValueByIndex(p,f));a>=this._motionData.duration&&(this._isLoop?(i.setStartTime(e),this._isLoopFadeIn&&i.setFadeInStartTime(e)):(this._onFinishedMotion&&this._onFinishedMotion(this),i.setIsFinished(!0))),this._lastWeight=r},e.prototype.setIsLoop=function(t){this._isLoop=t},e.prototype.isLoop=function(){return this._isLoop},e.prototype.setIsLoopFadeIn=function(t){this._isLoopFadeIn=t},e.prototype.isLoopFadeIn=function(){return this._isLoopFadeIn},e.prototype.getDuration=function(){return this._isLoop?-1:this._loopDurationSeconds},e.prototype.getLoopDuration=function(){return this._loopDurationSeconds},e.prototype.setParameterFadeInTime=function(t,e){for(var r=this._motionData.curves,i=0;i<this._motionData.curveCount;++i)if(t==r.at(i).id)return void(r.at(i).fadeInTime=e)},e.prototype.setParameterFadeOutTime=function(t,e){for(var r=this._motionData.curves,i=0;i<this._motionData.curveCount;++i)if(t==r.at(i).id)return void(r.at(i).fadeOutTime=e)},e.prototype.getParameterFadeInTime=function(t){for(var e=this._motionData.curves,r=0;r<this._motionData.curveCount;++r)if(t==e.at(r).id)return e.at(r).fadeInTime;return-1},e.prototype.getParameterFadeOutTime=function(t){for(var e=this._motionData.curves,r=0;r<this._motionData.curveCount;++r)if(t==e.at(r).id)return e.at(r).fadeOutTime;return-1},e.prototype.setEffectIds=function(t,e){this._eyeBlinkParameterIds=t,this._lipSyncParameterIds=e},e.prototype.release=function(){this._motionData=void 0,this._motionData=null},e.prototype.parse=function(t,e){this._motionData=new At;var n=new Et(t,e);this._motionData.duration=n.getMotionDuration(),this._motionData.loop=n.isMotionLoop(),this._motionData.curveCount=n.getMotionCurveCount(),this._motionData.fps=n.getMotionFps(),this._motionData.eventCount=n.getEventCount(),n.isExistMotionFadeInTime()?this._fadeInSeconds=n.getMotionFadeInTime()<0?1:n.getMotionFadeInTime():this._fadeInSeconds=1,n.isExistMotionFadeOutTime()?this._fadeOutSeconds=n.getMotionFadeOutTime()<0?1:n.getMotionFadeOutTime():this._fadeOutSeconds=1,this._motionData.curves.updateSize(this._motionData.curveCount,kt,!0),this._motionData.segments.updateSize(n.getMotionTotalSegmentCount(),wt,!0),this._motionData.points.updateSize(n.getMotionTotalPointCount(),St,!0),this._motionData.events.updateSize(this._motionData.eventCount,xt,!0);for(var s=0,u=0,l=0;l<this._motionData.curveCount;++l){"Model"==n.getMotionCurveTarget(l)?this._motionData.curves.at(l).type=It.CubismMotionCurveTarget_Model:"Parameter"==n.getMotionCurveTarget(l)?this._motionData.curves.at(l).type=It.CubismMotionCurveTarget_Parameter:"PartOpacity"==n.getMotionCurveTarget(l)&&(this._motionData.curves.at(l).type=It.CubismMotionCurveTarget_PartOpacity),this._motionData.curves.at(l).id=n.getMotionCurveId(l),this._motionData.curves.at(l).baseSegmentIndex=u,this._motionData.curves.at(l).fadeInTime=n.isExistMotionCurveFadeInTime(l)?n.getMotionCurveFadeInTime(l):-1,this._motionData.curves.at(l).fadeOutTime=n.isExistMotionCurveFadeOutTime(l)?n.getMotionCurveFadeOutTime(l):-1;for(var c=0;c<n.getMotionCurveSegmentCount(l);){switch(0==c?(this._motionData.segments.at(u).basePointIndex=s,this._motionData.points.at(s).time=n.getMotionCurveSegment(l,c),this._motionData.points.at(s).value=n.getMotionCurveSegment(l,c+1),s+=1,c+=2):this._motionData.segments.at(u).basePointIndex=s-1,n.getMotionCurveSegment(l,c)){case Ct.CubismMotionSegmentType_Linear:this._motionData.segments.at(u).segmentType=Ct.CubismMotionSegmentType_Linear,this._motionData.segments.at(u).evaluate=r,this._motionData.points.at(s).time=n.getMotionCurveSegment(l,c+1),this._motionData.points.at(s).value=n.getMotionCurveSegment(l,c+2),s+=1,c+=3;break;case Ct.CubismMotionSegmentType_Bezier:this._motionData.segments.at(u).segmentType=Ct.CubismMotionSegmentType_Bezier,this._motionData.segments.at(u).evaluate=i,this._motionData.points.at(s).time=n.getMotionCurveSegment(l,c+1),this._motionData.points.at(s).value=n.getMotionCurveSegment(l,c+2),this._motionData.points.at(s+1).time=n.getMotionCurveSegment(l,c+3),this._motionData.points.at(s+1).value=n.getMotionCurveSegment(l,c+4),this._motionData.points.at(s+2).time=n.getMotionCurveSegment(l,c+5),this._motionData.points.at(s+2).value=n.getMotionCurveSegment(l,c+6),s+=3,c+=7;break;case Ct.CubismMotionSegmentType_Stepped:this._motionData.segments.at(u).segmentType=Ct.CubismMotionSegmentType_Stepped,this._motionData.segments.at(u).evaluate=a,this._motionData.points.at(s).time=n.getMotionCurveSegment(l,c+1),this._motionData.points.at(s).value=n.getMotionCurveSegment(l,c+2),s+=1,c+=3;break;case Ct.CubismMotionSegmentType_InverseStepped:this._motionData.segments.at(u).segmentType=Ct.CubismMotionSegmentType_InverseStepped,this._motionData.segments.at(u).evaluate=o,this._motionData.points.at(s).time=n.getMotionCurveSegment(l,c+1),this._motionData.points.at(s).value=n.getMotionCurveSegment(l,c+2),s+=1,c+=3;break;default:f(0)}++this._motionData.curves.at(l).segmentCount,++u}}for(var h=0;h<n.getEventCount();++h)this._motionData.events.at(h).fireTime=n.getEventTime(h),this._motionData.events.at(h).value=n.getEventValue(h);n.release(),n=void 0,n=null},e.prototype.getFiredEvent=function(t,e){this._firedEventValues.updateSize(0);for(var r=0;r<this._motionData.eventCount;++r)this._motionData.events.at(r).fireTime>t&&this._motionData.events.at(r).fireTime<=e&&this._firedEventValues.pushBack(new bt(this._motionData.events.at(r).value.s));return this._firedEventValues},e}(Mt);t.CubismMotion=u}(yt||(yt={}));var Tt,Dt=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),Rt=c.csmVector,Vt=k.CubismFramework,Ft=d.CubismJson,Lt=j.ACubismMotion;!function(t){var e,r="Parameters",i="Blend",n=function(t){function n(){var e=t.call(this)||this;return e._parameters=new Rt,e}return Dt(n,t),n.create=function(t,o){var s=new n,u=Ft.create(t,o),l=u.getRoot();s.setFadeInTime(l.getValueByString("FadeInTime").toFloat(1)),s.setFadeOutTime(l.getValueByString("FadeOutTime").toFloat(1));var c=l.getValueByString(r).getSize();s._parameters.prepareCapacity(c);for(var h=0;h<c;++h){var f=l.getValueByString(r).getValueByIndex(h),d=Vt.getIdManager().getId(f.getValueByString("Id").getRawString()),p=f.getValueByString("Value").toFloat(),g=void 0;g=f.getValueByString(i).isNull()||"Add"==f.getValueByString(i).getString()?e.ExpressionBlendType_Add:"Multiply"==f.getValueByString(i).getString()?e.ExpressionBlendType_Multiply:"Overwrite"==f.getValueByString(i).getString()?e.ExpressionBlendType_Overwrite:e.ExpressionBlendType_Add;var m=new a;m.parameterId=d,m.blendType=g,m.value=p,s._parameters.pushBack(m)}return Ft.delete(u),s},n.prototype.doUpdateParameters=function(t,r,i,n){for(var a=0;a<this._parameters.getSize();++a){var o=this._parameters.at(a);switch(o.blendType){case e.ExpressionBlendType_Add:t.addParameterValueById(o.parameterId,o.value,i);break;case e.ExpressionBlendType_Multiply:t.multiplyParameterValueById(o.parameterId,o.value,i);break;case e.ExpressionBlendType_Overwrite:t.setParameterValueById(o.parameterId,o.value,i)}}},n}(Lt);t.CubismExpressionMotion=n,function(t){t[t.ExpressionBlendType_Add=0]="ExpressionBlendType_Add",t[t.ExpressionBlendType_Multiply=1]="ExpressionBlendType_Multiply",t[t.ExpressionBlendType_Overwrite=2]="ExpressionBlendType_Overwrite"}(e=t.ExpressionBlendType||(t.ExpressionBlendType={}));var a=function(){};t.ExpressionParameter=a}(Tt||(Tt={}));var Ot,Nt=c.csmVector,zt=k.CubismFramework,Ut=d.CubismJson;!function(t){var e="FadeInTime",r="Link",i=function(){function t(){this._fadeTimeSeconds=.5,this._lastModel=null,this._partGroups=new Nt,this._partGroupCounts=new Nt}return t.create=function(i,a){var o=new t,s=Ut.create(i,a),u=s.getRoot();u.getValueByString(e).isNull()||(o._fadeTimeSeconds=u.getValueByString(e).toFloat(.5),o._fadeTimeSeconds<=0&&(o._fadeTimeSeconds=.5));for(var l=u.getValueByString("Groups"),c=l.getSize(),h=0;h<c;++h){for(var f=l.getValueByIndex(h),d=f.getSize(),p=0,g=0;g<d;++g){var m=f.getValueByIndex(g),_=new n,y=zt.getIdManager().getId(m.getValueByString("Id").getRawString());if(_.partId=y,!m.getValueByString(r).isNull())for(var v=m.getValueByString(r),b=v.getSize(),A=0;A<b;++A){var w=new n,S=zt.getIdManager().getId(v.getValueByIndex(A).getString());w.partId=S,_.link.pushBack(w)}o._partGroups.pushBack(_.clone()),++p}o._partGroupCounts.pushBack(p)}return Ut.delete(s),o},t.delete=function(t){null!=t&&(t=null)},t.prototype.updateParameters=function(t,e){t!=this._lastModel&&this.reset(t),this._lastModel=t,e<0&&(e=0);for(var r=0,i=0;i<this._partGroupCounts.getSize();i++){var n=this._partGroupCounts.at(i);this.doFade(t,e,r,n),r+=n}this.copyPartOpacities(t)},t.prototype.reset=function(t){for(var e=0,r=0;r<this._partGroupCounts.getSize();++r){for(var i=this._partGroupCounts.at(r),n=e;n<e+i;++n){this._partGroups.at(n).initialize(t);var a=this._partGroups.at(n).partIndex,o=this._partGroups.at(n).parameterIndex;if(!(a<0)){t.setPartOpacityByIndex(a,n==e?1:0),t.setParameterValueByIndex(o,n==e?1:0);for(var s=0;s<this._partGroups.at(n).link.getSize();++s)this._partGroups.at(n).link.at(s).initialize(t)}}e+=i}},t.prototype.copyPartOpacities=function(t){for(var e=0;e<this._partGroups.getSize();++e){var r=this._partGroups.at(e);if(0!=r.link.getSize())for(var i=this._partGroups.at(e).partIndex,n=t.getPartOpacityByIndex(i),a=0;a<r.link.getSize();++a){var o=r.link.at(a).partIndex;o<0||t.setPartOpacityByIndex(o,n)}}},t.prototype.doFade=function(t,e,r,i){for(var n=-1,a=1,o=.5,s=r;s<r+i;++s){var u=this._partGroups.at(s).partIndex,l=this._partGroups.at(s).parameterIndex;if(t.getParameterValueByIndex(l)>.001){if(n>=0)break;n=s,a=t.getPartOpacityByIndex(u),(a+=e/this._fadeTimeSeconds)>1&&(a=1)}}n<0&&(n=0,a=1);for(s=r;s<r+i;++s){var c=this._partGroups.at(s).partIndex;if(n==s)t.setPartOpacityByIndex(c,a);else{var h=t.getPartOpacityByIndex(c),f=void 0;(1-(f=a<o?-.5*a/o+1:(1-a)*o/.5))*(1-a)>.15&&(f=1-.15/(1-a)),h>f&&(h=f),t.setPartOpacityByIndex(c,h)}}},t}();t.CubismPose=i;var n=function(){function t(t){if(this.parameterIndex=0,this.partIndex=0,this.link=new Nt,void 0!=t){this.partId=t.partId;for(var e=t.link.begin();e.notEqual(t.link.end());e.preIncrement())this.link.pushBack(e.ptr().clone())}}return t.prototype.assignment=function(t){this.partId=t.partId;for(var e=t.link.begin();e.notEqual(t.link.end());e.preIncrement())this.link.pushBack(e.ptr().clone());return this},t.prototype.initialize=function(t){this.parameterIndex=t.getParameterIndex(this.partId),this.partIndex=t.getPartIndex(this.partId),t.setParameterValueByIndex(this.parameterIndex,1)},t.prototype.clone=function(){var e=new t;e.partId=this.partId,e.parameterIndex=this.parameterIndex,e.partIndex=this.partIndex,e.link=new Nt;for(var r=this.link.begin();r.notEqual(this.link.end());r.increment())e.link.pushBack(r.ptr().clone());return e},t}();t.PartData=n}(Ot||(Ot={}));var jt,Gt=k.CubismFramework,Yt=d.CubismJson;!function(t){var e="Meta",r="UserData",i=function(){function t(t,e){this._json=Yt.create(t,e)}return t.prototype.release=function(){Yt.delete(this._json)},t.prototype.getUserDataCount=function(){return this._json.getRoot().getValueByString(e).getValueByString("UserDataCount").toInt()},t.prototype.getTotalUserDataSize=function(){return this._json.getRoot().getValueByString(e).getValueByString("TotalUserDataSize").toInt()},t.prototype.getUserDataTargetType=function(t){return this._json.getRoot().getValueByString(r).getValueByIndex(t).getValueByString("Target").getRawString()},t.prototype.getUserDataId=function(t){return Gt.getIdManager().getId(this._json.getRoot().getValueByString(r).getValueByIndex(t).getValueByString("Id").getRawString())},t.prototype.getUserDataValue=function(t){return this._json.getRoot().getValueByString(r).getValueByIndex(t).getValueByString("Value").getRawString()},t}();t.CubismModelUserDataJson=i}(jt||(jt={}));var Xt,Ht=k.CubismFramework,Wt=c.csmVector,Zt=i.csmString,qt=jt.CubismModelUserDataJson;!function(t){var e=function(){};t.CubismModelUserDataNode=e;var r=function(){function t(){this._userDataNodes=new Wt,this._artMeshUserDataNode=new Wt}return t.create=function(e,r){var i=new t;return i.parseUserData(e,r),i},t.delete=function(t){null!=t&&(t.release(),t=null)},t.prototype.getArtMeshUserDatas=function(){return this._artMeshUserDataNode},t.prototype.parseUserData=function(t,r){for(var i=new qt(t,r),n=Ht.getIdManager().getId("ArtMesh"),a=i.getUserDataCount(),o=0;o<a;o++){var s=new e;s.targetId=i.getUserDataId(o),s.targetType=Ht.getIdManager().getId(i.getUserDataTargetType(o)),s.value=new Zt(i.getUserDataValue(o)),this._userDataNodes.pushBack(s),s.targetType==n&&this._artMeshUserDataNode.pushBack(s)}i.release(),i=void 0},t.prototype.release=function(){for(var t=0;t<this._userDataNodes.getSize();++t)this._userDataNodes.set(t,null);this._userDataNodes=null},t}();t.CubismModelUserData=r}(Xt||(Xt={}));var Qt,Jt=c.csmVector,Kt=O.CubismVector2;!function(t){!function(t){t[t.CubismPhysicsTargetType_Parameter=0]="CubismPhysicsTargetType_Parameter"}(t.CubismPhysicsTargetType||(t.CubismPhysicsTargetType={})),function(t){t[t.CubismPhysicsSource_X=0]="CubismPhysicsSource_X",t[t.CubismPhysicsSource_Y=1]="CubismPhysicsSource_Y",t[t.CubismPhysicsSource_Angle=2]="CubismPhysicsSource_Angle"}(t.CubismPhysicsSource||(t.CubismPhysicsSource={}));var e=function(){this.gravity=new Kt(0,0),this.wind=new Kt(0,0)};t.PhysicsJsonEffectiveForces=e;var r=function(){};t.CubismPhysicsParameter=r;var i=function(){};t.CubismPhysicsNormalization=i;var n=function(){this.initialPosition=new Kt(0,0),this.position=new Kt(0,0),this.lastPosition=new Kt(0,0),this.lastGravity=new Kt(0,0),this.force=new Kt(0,0),this.velocity=new Kt(0,0)};t.CubismPhysicsParticle=n;var a=function(){this.normalizationPosition=new i,this.normalizationAngle=new i};t.CubismPhysicsSubRig=a;var o=function(){this.source=new r};t.CubismPhysicsInput=o;var s=function(){this.destination=new r,this.translationScale=new Kt(0,0)};t.CubismPhysicsOutput=s;var u=function(){this.settings=new Jt,this.inputs=new Jt,this.outputs=new Jt,this.particles=new Jt,this.gravity=new Kt(0,0),this.wind=new Kt(0,0)};t.CubismPhysicsRig=u}(Qt||(Qt={}));var $t,te=k.CubismFramework,ee=O.CubismVector2,re=d.CubismJson;!function(t){var e="Position",r="Angle",i="Type",n="Meta",a="EffectiveForces",o="Gravity",s="Wind",u="PhysicsSettings",l="Normalization",c="Minimum",h="Maximum",f="Default",d="Reflect",p="Weight",g="Input",m="Output",_="Vertices",y=function(){function t(t,e){this._json=re.create(t,e)}return t.prototype.release=function(){re.delete(this._json)},t.prototype.getGravity=function(){var t=new ee(0,0);return t.x=this._json.getRoot().getValueByString(n).getValueByString(a).getValueByString(o).getValueByString("X").toFloat(),t.y=this._json.getRoot().getValueByString(n).getValueByString(a).getValueByString(o).getValueByString("Y").toFloat(),t},t.prototype.getWind=function(){var t=new ee(0,0);return t.x=this._json.getRoot().getValueByString(n).getValueByString(a).getValueByString(s).getValueByString("X").toFloat(),t.y=this._json.getRoot().getValueByString(n).getValueByString(a).getValueByString(s).getValueByString("Y").toFloat(),t},t.prototype.getSubRigCount=function(){return this._json.getRoot().getValueByString(n).getValueByString("PhysicsSettingCount").toInt()},t.prototype.getTotalInputCount=function(){return this._json.getRoot().getValueByString(n).getValueByString("TotalInputCount").toInt()},t.prototype.getTotalOutputCount=function(){return this._json.getRoot().getValueByString(n).getValueByString("TotalOutputCount").toInt()},t.prototype.getVertexCount=function(){return this._json.getRoot().getValueByString(n).getValueByString("VertexCount").toInt()},t.prototype.getNormalizationPositionMinimumValue=function(t){return this._json.getRoot().getValueByString(u).getValueByIndex(t).getValueByString(l).getValueByString(e).getValueByString(c).toFloat()},t.prototype.getNormalizationPositionMaximumValue=function(t){return this._json.getRoot().getValueByString(u).getValueByIndex(t).getValueByString(l).getValueByString(e).getValueByString(h).toFloat()},t.prototype.getNormalizationPositionDefaultValue=function(t){return this._json.getRoot().getValueByString(u).getValueByIndex(t).getValueByString(l).getValueByString(e).getValueByString(f).toFloat()},t.prototype.getNormalizationAngleMinimumValue=function(t){return this._json.getRoot().getValueByString(u).getValueByIndex(t).getValueByString(l).getValueByString(r).getValueByString(c).toFloat()},t.prototype.getNormalizationAngleMaximumValue=function(t){return this._json.getRoot().getValueByString(u).getValueByIndex(t).getValueByString(l).getValueByString(r).getValueByString(h).toFloat()},t.prototype.getNormalizationAngleDefaultValue=function(t){return this._json.getRoot().getValueByString(u).getValueByIndex(t).getValueByString(l).getValueByString(r).getValueByString(f).toFloat()},t.prototype.getInputCount=function(t){return this._json.getRoot().getValueByString(u).getValueByIndex(t).getValueByString(g).getVector().getSize()},t.prototype.getInputWeight=function(t,e){return this._json.getRoot().getValueByString(u).getValueByIndex(t).getValueByString(g).getValueByIndex(e).getValueByString(p).toFloat()},t.prototype.getInputReflect=function(t,e){return this._json.getRoot().getValueByString(u).getValueByIndex(t).getValueByString(g).getValueByIndex(e).getValueByString(d).toBoolean()},t.prototype.getInputType=function(t,e){return this._json.getRoot().getValueByString(u).getValueByIndex(t).getValueByString(g).getValueByIndex(e).getValueByString(i).getRawString()},t.prototype.getInputSourceId=function(t,e){return te.getIdManager().getId(this._json.getRoot().getValueByString(u).getValueByIndex(t).getValueByString(g).getValueByIndex(e).getValueByString("Source").getValueByString("Id").getRawString())},t.prototype.getOutputCount=function(t){return this._json.getRoot().getValueByString(u).getValueByIndex(t).getValueByString(m).getVector().getSize()},t.prototype.getOutputVertexIndex=function(t,e){return this._json.getRoot().getValueByString(u).getValueByIndex(t).getValueByString(m).getValueByIndex(e).getValueByString("VertexIndex").toInt()},t.prototype.getOutputAngleScale=function(t,e){return this._json.getRoot().getValueByString(u).getValueByIndex(t).getValueByString(m).getValueByIndex(e).getValueByString("Scale").toFloat()},t.prototype.getOutputWeight=function(t,e){return this._json.getRoot().getValueByString(u).getValueByIndex(t).getValueByString(m).getValueByIndex(e).getValueByString(p).toFloat()},t.prototype.getOutputDestinationId=function(t,e){return te.getIdManager().getId(this._json.getRoot().getValueByString(u).getValueByIndex(t).getValueByString(m).getValueByIndex(e).getValueByString("Destination").getValueByString("Id").getRawString())},t.prototype.getOutputType=function(t,e){return this._json.getRoot().getValueByString(u).getValueByIndex(t).getValueByString(m).getValueByIndex(e).getValueByString(i).getRawString()},t.prototype.getOutputReflect=function(t,e){return this._json.getRoot().getValueByString(u).getValueByIndex(t).getValueByString(m).getValueByIndex(e).getValueByString(d).toBoolean()},t.prototype.getParticleCount=function(t){return this._json.getRoot().getValueByString(u).getValueByIndex(t).getValueByString(_).getVector().getSize()},t.prototype.getParticleMobility=function(t,e){return this._json.getRoot().getValueByString(u).getValueByIndex(t).getValueByString(_).getValueByIndex(e).getValueByString("Mobility").toFloat()},t.prototype.getParticleDelay=function(t,e){return this._json.getRoot().getValueByString(u).getValueByIndex(t).getValueByString(_).getValueByIndex(e).getValueByString("Delay").toFloat()},t.prototype.getParticleAcceleration=function(t,e){return this._json.getRoot().getValueByString(u).getValueByIndex(t).getValueByString(_).getValueByIndex(e).getValueByString("Acceleration").toFloat()},t.prototype.getParticleRadius=function(t,e){return this._json.getRoot().getValueByString(u).getValueByIndex(t).getValueByString(_).getValueByIndex(e).getValueByString("Radius").toFloat()},t.prototype.getParticlePosition=function(t,r){var i=new ee(0,0);return i.x=this._json.getRoot().getValueByString(u).getValueByIndex(t).getValueByString(_).getValueByIndex(r).getValueByString(e).getValueByString("X").toFloat(),i.y=this._json.getRoot().getValueByString(u).getValueByIndex(t).getValueByString(_).getValueByIndex(r).getValueByString(e).getValueByString("Y").toFloat(),i},t}();t.CubismPhysicsJson=y}($t||($t={}));var ie,ne,ae=$t.CubismPhysicsJson,oe=z.CubismMath,se=Qt.CubismPhysicsRig,ue=Qt.CubismPhysicsSubRig,le=Qt.CubismPhysicsInput,ce=Qt.CubismPhysicsOutput,he=Qt.CubismPhysicsParticle,fe=Qt.CubismPhysicsSource,de=Qt.CubismPhysicsTargetType,pe=O.CubismVector2;!function(t){var e="Angle",r=function(){function t(){this._physicsRig=null,this._options=new i,this._options.gravity.y=-1,this._options.gravity.x=0,this._options.wind.x=0,this._options.wind.y=0}return t.create=function(e,r){var i=new t;return i.parse(e,r),i._physicsRig.gravity.y=0,i},t.delete=function(t){null!=t&&(t.release(),t=null)},t.prototype.evaluate=function(t,e){var r,i,n,a,o,s,u,l,c,h,f,d,m=new pe;c=t.getModel().parameters.values,h=t.getModel().parameters.maximumValues,f=t.getModel().parameters.minimumValues,d=t.getModel().parameters.defaultValues;for(var _=0;_<this._physicsRig.subRigCount;++_){r={angle:0},m.x=0,m.y=0,o=this._physicsRig.settings.at(_),s=this._physicsRig.inputs.get(o.baseInputIndex),u=this._physicsRig.outputs.get(o.baseOutputIndex),l=this._physicsRig.particles.get(o.baseParticleIndex);for(var y=0;y<o.inputCount;++y)i=s[y].weight/100,-1==s[y].sourceParameterIndex&&(s[y].sourceParameterIndex=t.getParameterIndex(s[y].source.id)),s[y].getNormalizedParameterValue(m,r,c[s[y].sourceParameterIndex],f[s[y].sourceParameterIndex],h[s[y].sourceParameterIndex],d[s[y].sourceParameterIndex],o.normalizationPosition,o.normalizationAngle,s[y].reflect,i);n=oe.degreesToRadian(-r.angle),m.x=m.x*oe.cos(n)-m.y*oe.sin(n),m.y=m.x*oe.sin(n)+m.y*oe.cos(n),p(l,o.particleCount,m,r.angle,this._options.wind,.001*o.normalizationPosition.maximum,e,5);for(y=0;y<o.outputCount;++y){var v=u[y].vertexIndex;if(v<1||v>=o.particleCount)break;-1==u[y].destinationParameterIndex&&(u[y].destinationParameterIndex=t.getParameterIndex(u[y].destination.id));var b=new pe;b.x=l[v].position.x-l[v-1].position.x,b.y=l[v].position.y-l[v-1].position.y,a=u[y].getValue(b,l,v,u[y].reflect,this._options.gravity);var A=u[y].destinationParameterIndex,w=!Float32Array.prototype.slice&&"subarray"in Float32Array.prototype?JSON.parse(JSON.stringify(c.subarray(A))):c.slice(A);g(w,f[A],h[A],a,u[y]);for(var S=A,x=0;S<c.length;S++,x++)c[S]=w[x]}}},t.prototype.setOptions=function(t){this._options=t},t.prototype.getOption=function(){return this._options},t.prototype.release=function(){this._physicsRig=void 0,this._physicsRig=null},t.prototype.parse=function(t,r){this._physicsRig=new se;var i=new ae(t,r);this._physicsRig.gravity=i.getGravity(),this._physicsRig.wind=i.getWind(),this._physicsRig.subRigCount=i.getSubRigCount(),this._physicsRig.settings.updateSize(this._physicsRig.subRigCount,ue,!0),this._physicsRig.inputs.updateSize(i.getTotalInputCount(),le,!0),this._physicsRig.outputs.updateSize(i.getTotalOutputCount(),ce,!0),this._physicsRig.particles.updateSize(i.getVertexCount(),he,!0);for(var c=0,p=0,g=0,m=0;m<this._physicsRig.settings.getSize();++m){this._physicsRig.settings.at(m).normalizationPosition.minimum=i.getNormalizationPositionMinimumValue(m),this._physicsRig.settings.at(m).normalizationPosition.maximum=i.getNormalizationPositionMaximumValue(m),this._physicsRig.settings.at(m).normalizationPosition.defalut=i.getNormalizationPositionDefaultValue(m),this._physicsRig.settings.at(m).normalizationAngle.minimum=i.getNormalizationAngleMinimumValue(m),this._physicsRig.settings.at(m).normalizationAngle.maximum=i.getNormalizationAngleMaximumValue(m),this._physicsRig.settings.at(m).normalizationAngle.defalut=i.getNormalizationAngleDefaultValue(m),this._physicsRig.settings.at(m).inputCount=i.getInputCount(m),this._physicsRig.settings.at(m).baseInputIndex=c;for(var _=0;_<this._physicsRig.settings.at(m).inputCount;++_)this._physicsRig.inputs.at(c+_).sourceParameterIndex=-1,this._physicsRig.inputs.at(c+_).weight=i.getInputWeight(m,_),this._physicsRig.inputs.at(c+_).reflect=i.getInputReflect(m,_),"X"==i.getInputType(m,_)?(this._physicsRig.inputs.at(c+_).type=fe.CubismPhysicsSource_X,this._physicsRig.inputs.at(c+_).getNormalizedParameterValue=n):"Y"==i.getInputType(m,_)?(this._physicsRig.inputs.at(c+_).type=fe.CubismPhysicsSource_Y,this._physicsRig.inputs.at(c+_).getNormalizedParameterValue=a):i.getInputType(m,_)==e&&(this._physicsRig.inputs.at(c+_).type=fe.CubismPhysicsSource_Angle,this._physicsRig.inputs.at(c+_).getNormalizedParameterValue=o),this._physicsRig.inputs.at(c+_).source.targetType=de.CubismPhysicsTargetType_Parameter,this._physicsRig.inputs.at(c+_).source.id=i.getInputSourceId(m,_);c+=this._physicsRig.settings.at(m).inputCount,this._physicsRig.settings.at(m).outputCount=i.getOutputCount(m),this._physicsRig.settings.at(m).baseOutputIndex=p;for(_=0;_<this._physicsRig.settings.at(m).outputCount;++_)this._physicsRig.outputs.at(p+_).destinationParameterIndex=-1,this._physicsRig.outputs.at(p+_).vertexIndex=i.getOutputVertexIndex(m,_),this._physicsRig.outputs.at(p+_).angleScale=i.getOutputAngleScale(m,_),this._physicsRig.outputs.at(p+_).weight=i.getOutputWeight(m,_),this._physicsRig.outputs.at(p+_).destination.targetType=de.CubismPhysicsTargetType_Parameter,this._physicsRig.outputs.at(p+_).destination.id=i.getOutputDestinationId(m,_),"X"==i.getOutputType(m,_)?(this._physicsRig.outputs.at(p+_).type=fe.CubismPhysicsSource_X,this._physicsRig.outputs.at(p+_).getValue=s,this._physicsRig.outputs.at(p+_).getScale=h):"Y"==i.getOutputType(m,_)?(this._physicsRig.outputs.at(p+_).type=fe.CubismPhysicsSource_Y,this._physicsRig.outputs.at(p+_).getValue=u,this._physicsRig.outputs.at(p+_).getScale=f):i.getOutputType(m,_)==e&&(this._physicsRig.outputs.at(p+_).type=fe.CubismPhysicsSource_Angle,this._physicsRig.outputs.at(p+_).getValue=l,this._physicsRig.outputs.at(p+_).getScale=d),this._physicsRig.outputs.at(p+_).reflect=i.getOutputReflect(m,_);p+=this._physicsRig.settings.at(m).outputCount,this._physicsRig.settings.at(m).particleCount=i.getParticleCount(m),this._physicsRig.settings.at(m).baseParticleIndex=g;for(_=0;_<this._physicsRig.settings.at(m).particleCount;++_)this._physicsRig.particles.at(g+_).mobility=i.getParticleMobility(m,_),this._physicsRig.particles.at(g+_).delay=i.getParticleDelay(m,_),this._physicsRig.particles.at(g+_).acceleration=i.getParticleAcceleration(m,_),this._physicsRig.particles.at(g+_).radius=i.getParticleRadius(m,_),this._physicsRig.particles.at(g+_).position=i.getParticlePosition(m,_);g+=this._physicsRig.settings.at(m).particleCount}this.initialize(),i.release(),i=void 0,i=null},t.prototype.initialize=function(){for(var t,e,r,i=0;i<this._physicsRig.subRigCount;++i){e=this._physicsRig.settings.at(i),(t=this._physicsRig.particles.get(e.baseParticleIndex))[0].initialPosition=new pe(0,0),t[0].lastPosition=new pe(t[0].initialPosition.x,t[0].initialPosition.y),t[0].lastGravity=new pe(0,-1),t[0].lastGravity.y*=-1,t[0].velocity=new pe(0,0),t[0].force=new pe(0,0);for(var n=1;n<e.particleCount;++n)(r=new pe(0,0)).y=t[n].radius,t[n].initialPosition=new pe(t[n-1].initialPosition.x+r.x,t[n-1].initialPosition.y+r.y),t[n].position=new pe(t[n].initialPosition.x,t[n].initialPosition.y),t[n].lastPosition=new pe(t[n].initialPosition.x,t[n].initialPosition.y),t[n].lastGravity=new pe(0,-1),t[n].lastGravity.y*=-1,t[n].velocity=new pe(0,0),t[n].force=new pe(0,0)}},t}();t.CubismPhysics=r;var i=function(){this.gravity=new pe(0,0),this.wind=new pe(0,0)};function n(t,e,r,i,n,a,o,s,u,l){t.x+=m(r,i,n,a,o.minimum,o.maximum,o.defalut,u)*l}function a(t,e,r,i,n,a,o,s,u,l){t.y+=m(r,i,n,a,o.minimum,o.maximum,o.defalut,u)*l}function o(t,e,r,i,n,a,o,s,u,l){e.angle+=m(r,i,n,a,s.minimum,s.maximum,s.defalut,u)*l}function s(t,e,r,i,n){var a=t.x;return i&&(a*=-1),a}function u(t,e,r,i,n){var a=t.y;return i&&(a*=-1),a}function l(t,e,r,i,n){var a;return n=r>=2?e[r-1].position.substract(e[r-2].position):n.multiplyByScaler(-1),a=oe.directionToRadian(n,t),i&&(a*=-1),a}function c(t,e){return oe.min(t,e)+function(t,e){var r=oe.max(t,e),i=oe.min(t,e);return oe.abs(r-i)}(t,e)/2}function h(t,e){return JSON.parse(JSON.stringify(t.x))}function f(t,e){return JSON.parse(JSON.stringify(t.y))}function d(t,e){return JSON.parse(JSON.stringify(e))}function p(t,e,r,i,n,a,o,s){var u,l,c,h,f=new pe(0,0),d=new pe(0,0),p=new pe(0,0),g=new pe(0,0);t[0].position=new pe(r.x,r.y),u=oe.degreesToRadian(i),(h=oe.radianToDirection(u)).normalize();for(var m=1;m<e;++m)t[m].force=h.multiplyByScaler(t[m].acceleration).add(n),t[m].lastPosition=new pe(t[m].position.x,t[m].position.y),l=t[m].delay*o*30,f=t[m].position.substract(t[m-1].position),c=oe.directionToRadian(t[m].lastGravity,h)/s,f.x=oe.cos(c)*f.x-f.y*oe.sin(c),f.y=oe.sin(c)*f.x+f.y*oe.cos(c),t[m].position=t[m-1].position.add(f),d=t[m].velocity.multiplyByScaler(l),p=t[m].force.multiplyByScaler(l).multiplyByScaler(l),t[m].position=t[m].position.add(d).add(p),(g=t[m].position.substract(t[m-1].position)).normalize(),t[m].position=t[m-1].position.add(g.multiplyByScaler(t[m].radius)),oe.abs(t[m].position.x)<a&&(t[m].position.x=0),0!=l&&(t[m].velocity=t[m].position.substract(t[m].lastPosition),t[m].velocity=t[m].velocity.divisionByScalar(l),t[m].velocity=t[m].velocity.multiplyByScaler(t[m].mobility)),t[m].force=new pe(0,0),t[m].lastGravity=new pe(h.x,h.y)}function g(t,e,r,i,n){var a,o;(a=i*n.getScale(n.translationScale,n.angleScale))<e?(a<n.valueBelowMinimum&&(n.valueBelowMinimum=a),a=e):a>r&&(a>n.valueExceededMaximum&&(n.valueExceededMaximum=a),a=r),(o=n.weight/100)>=1||(a=t[0]*(1-o)+a*o),t[0]=a}function m(t,e,r,i,n,a,o,s){var u=0,l=oe.max(r,e);l<t&&(t=l);var h=oe.min(r,e);h>t&&(t=h);var f=oe.min(n,a),d=oe.max(n,a),p=o,g=c(h,l),m=t-g;switch(function(t){var e=0;return t>0?e=1:t<0&&(e=-1),e}(m)){case 1:var _=d-p;0!=(y=l-g)&&(u=m*(_/y),u+=p);break;case-1:var y;_=f-p;0!=(y=h-g)&&(u=m*(_/y),u+=p);break;case 0:u=p}return s?u:-1*u}t.Options=i}(ie||(ie={})),function(t){var e=function(){function t(){this._currentTime=0}return t.create=function(){return new t},t.delete=function(t){null!=t&&(t=null)},t.prototype.setParameters=function(t){this._breathParameters=t},t.prototype.getParameters=function(){return this._breathParameters},t.prototype.updateParameters=function(t,e){this._currentTime+=e;for(var r=2*this._currentTime*3.14159,i=0;i<this._breathParameters.getSize();++i){var n=this._breathParameters.at(i);t.addParameterValueById(n.parameterId,n.offset+n.peak*Math.sin(r/n.cycle),n.weight)}},t}();t.CubismBreath=e;var r=function(t,e,r,i,n){this.parameterId=void 0==t?null:t,this.offset=void 0==e?0:e,this.peak=void 0==r?0:r,this.cycle=void 0==i?0:i,this.weight=void 0==n?0:n};t.BreathParameterData=r}(ne||(ne={}));var ge,me,_e=c.csmVector;!function(t){var e,r=function(){function t(t){if(this._blinkingState=e.EyeState_First,this._nextBlinkingTime=0,this._stateStartTimeSeconds=0,this._blinkingIntervalSeconds=4,this._closingSeconds=.1,this._closedSeconds=.05,this._openingSeconds=.15,this._userTimeSeconds=0,this._parameterIds=new _e,null!=t)for(var r=0;r<t.getEyeBlinkParameterCount();++r)this._parameterIds.pushBack(t.getEyeBlinkParameterId(r))}return t.create=function(e){return void 0===e&&(e=null),new t(e)},t.delete=function(t){null!=t&&(t=null)},t.prototype.setBlinkingInterval=function(t){this._blinkingIntervalSeconds=t},t.prototype.setBlinkingSetting=function(t,e,r){this._closingSeconds=t,this._closedSeconds=e,this._openingSeconds=r},t.prototype.setParameterIds=function(t){this._parameterIds=t},t.prototype.getParameterIds=function(){return this._parameterIds},t.prototype.updateParameters=function(r,i){var n;this._userTimeSeconds+=i;var a=0;switch(this._blinkingState){case e.EyeState_Closing:(a=(this._userTimeSeconds-this._stateStartTimeSeconds)/this._closingSeconds)>=1&&(a=1,this._blinkingState=e.EyeState_Closed,this._stateStartTimeSeconds=this._userTimeSeconds),n=1-a;break;case e.EyeState_Closed:(a=(this._userTimeSeconds-this._stateStartTimeSeconds)/this._closedSeconds)>=1&&(this._blinkingState=e.EyeState_Opening,this._stateStartTimeSeconds=this._userTimeSeconds),n=0;break;case e.EyeState_Opening:(a=(this._userTimeSeconds-this._stateStartTimeSeconds)/this._openingSeconds)>=1&&(a=1,this._blinkingState=e.EyeState_Interval,this._nextBlinkingTime=this.determinNextBlinkingTiming()),n=a;break;case e.EyeState_Interval:this._nextBlinkingTime<this._userTimeSeconds&&(this._blinkingState=e.EyeState_Closing,this._stateStartTimeSeconds=this._userTimeSeconds),n=1;break;case e.EyeState_First:default:this._blinkingState=e.EyeState_Interval,this._nextBlinkingTime=this.determinNextBlinkingTiming(),n=1}t.CloseIfZero||(n=-n);for(var o=0;o<this._parameterIds.getSize();++o)r.setParameterValueById(this._parameterIds.at(o),n)},t.prototype.determinNextBlinkingTiming=function(){var t=Math.random();return this._userTimeSeconds+t*(2*this._blinkingIntervalSeconds-1)},t.CloseIfZero=!0,t}();t.CubismEyeBlink=r,function(t){t[t.EyeState_First=0]="EyeState_First",t[t.EyeState_Interval=1]="EyeState_Interval",t[t.EyeState_Closing=2]="EyeState_Closing",t[t.EyeState_Closed=3]="EyeState_Closed",t[t.EyeState_Opening=4]="EyeState_Opening"}(e=t.EyeState||(t.EyeState={}))}(ge||(ge={})),function(t){var e=function(){function t(t,e,r,i){this.x=t,this.y=e,this.width=r,this.height=i}return t.prototype.getCenterX=function(){return this.x+.5*this.width},t.prototype.getCenterY=function(){return this.y+.5*this.height},t.prototype.getRight=function(){return this.x+this.width},t.prototype.getBottom=function(){return this.y+this.height},t.prototype.setRect=function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},t.prototype.expand=function(t,e){this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e},t}();t.csmRect=e}(me||(me={}));var ye,ve=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),be=k.Constant,Ae=A.CubismMatrix44,we=me.csmRect,Se=l.csmMap,xe=c.csmVector,Ce=x.CubismRenderer,ke=x.CubismBlendMode,Ie=x.CubismTextureColor;!function(t){var e,r,i,n=function(){function t(){this._maskRenderTexture=null,this._colorBuffer=null,this._currentFrameNo=0,this._clippingMaskBufferSize=256,this._clippingContextListForMask=new xe,this._clippingContextListForDraw=new xe,this._channelColors=new xe,this._tmpBoundsOnModel=new we,this._tmpMatrix=new Ae,this._tmpMatrixForMask=new Ae,this._tmpMatrixForDraw=new Ae,this._maskTexture=null;var t=new Ie;t.R=1,t.G=0,t.B=0,t.A=0,this._channelColors.pushBack(t),(t=new Ie).R=0,t.G=1,t.B=0,t.A=0,this._channelColors.pushBack(t),(t=new Ie).R=0,t.G=0,t.B=1,t.A=0,this._channelColors.pushBack(t),(t=new Ie).R=0,t.G=0,t.B=0,t.A=1,this._channelColors.pushBack(t)}return t.prototype.getChannelFlagAsColor=function(t){return this._channelColors.at(t)},t.prototype.getMaskRenderTexture=function(){var t=0;if(this._maskTexture&&0!=this._maskTexture.texture&&(this._maskTexture.frameNo=this._currentFrameNo,t=this._maskTexture.texture),0==t){var e=this._clippingMaskBufferSize;this._colorBuffer=this.gl.createTexture(),this.gl.bindTexture(this.gl.TEXTURE_2D,this._colorBuffer),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,e,e,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,null),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.bindTexture(this.gl.TEXTURE_2D,null),t=this.gl.createFramebuffer(),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,t),this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,this.gl.TEXTURE_2D,this._colorBuffer,0),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,i),this._maskTexture=new a(this._currentFrameNo,t)}return t},t.prototype.setGL=function(t){this.gl=t},t.prototype.calcClippedDrawTotalBounds=function(t,e){for(var r=Number.MAX_VALUE,i=Number.MAX_VALUE,n=Number.MIN_VALUE,a=Number.MIN_VALUE,o=e._clippedDrawableIndexList.length,s=0;s<o;s++){for(var u=e._clippedDrawableIndexList[s],l=t.getDrawableVertexCount(u),c=t.getDrawableVertices(u),h=Number.MAX_VALUE,f=Number.MAX_VALUE,d=Number.MIN_VALUE,p=Number.MIN_VALUE,g=l*be.vertexStep,m=be.vertexOffset;m<g;m+=be.vertexStep){var _=c[m],y=c[m+1];_<h&&(h=_),_>d&&(d=_),y<f&&(f=y),y>p&&(p=y)}if(h!=Number.MAX_VALUE)if(h<r&&(r=h),f<i&&(i=f),d>n&&(n=d),p>a&&(a=p),r==Number.MAX_VALUE)e._allClippedDrawRect.x=0,e._allClippedDrawRect.y=0,e._allClippedDrawRect.width=0,e._allClippedDrawRect.height=0,e._isUsing=!1;else{e._isUsing=!0;var v=n-r,b=a-i;e._allClippedDrawRect.x=r,e._allClippedDrawRect.y=i,e._allClippedDrawRect.width=v,e._allClippedDrawRect.height=b}}},t.prototype.release=function(){for(var t=0;t<this._clippingContextListForMask.getSize();t++)this._clippingContextListForMask.at(t)&&(this._clippingContextListForMask.at(t).release(),this._clippingContextListForMask.set(t,void 0)),this._clippingContextListForMask.set(t,null);this._clippingContextListForMask=null;for(t=0;t<this._clippingContextListForDraw.getSize();t++)this._clippingContextListForDraw.set(t,null);this._clippingContextListForDraw=null,this._maskTexture&&(this.gl.deleteFramebuffer(this._maskTexture.texture),this._maskTexture=null);for(t=0;t<this._channelColors.getSize();t++)this._channelColors.set(t,null);this._channelColors=null,this.gl.deleteTexture(this._colorBuffer),this._colorBuffer=null},t.prototype.initialize=function(t,e,r,i){for(var n=0;n<e;n++)if(i[n]<=0)this._clippingContextListForDraw.pushBack(null);else{var a=this.findSameClip(r[n],i[n]);null==a&&(a=new o(this,r[n],i[n]),this._clippingContextListForMask.pushBack(a)),a.addClippedDrawable(n),this._clippingContextListForDraw.pushBack(a)}},t.prototype.setupClippingContext=function(t,e){this._currentFrameNo++;for(var n=0,a=0;a<this._clippingContextListForMask.getSize();a++){var o=this._clippingContextListForMask.at(a);this.calcClippedDrawTotalBounds(t,o),o._isUsing&&n++}if(n>0){this.gl.viewport(0,0,this._clippingMaskBufferSize,this._clippingMaskBufferSize),this._maskRenderTexture=this.getMaskRenderTexture();e.getMvpMatrix();e.preDraw(),this.setupLayoutBounds(n),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this._maskRenderTexture),this.gl.clearColor(1,1,1,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT);for(a=0;a<this._clippingContextListForMask.getSize();a++){var s=this._clippingContextListForMask.at(a),u=s._allClippedDrawRect,l=s._layoutBounds;this._tmpBoundsOnModel.setRect(u),this._tmpBoundsOnModel.expand(.05*u.width,.05*u.height);var c=l.width/this._tmpBoundsOnModel.width,h=l.height/this._tmpBoundsOnModel.height;this._tmpMatrix.loadIdentity(),this._tmpMatrix.translateRelative(-1,-1),this._tmpMatrix.scaleRelative(2,2),this._tmpMatrix.translateRelative(l.x,l.y),this._tmpMatrix.scaleRelative(c,h),this._tmpMatrix.translateRelative(-this._tmpBoundsOnModel.x,-this._tmpBoundsOnModel.y),this._tmpMatrixForMask.setMatrix(this._tmpMatrix.getArray()),this._tmpMatrix.loadIdentity(),this._tmpMatrix.translateRelative(l.x,l.y),this._tmpMatrix.scaleRelative(c,h),this._tmpMatrix.translateRelative(-this._tmpBoundsOnModel.x,-this._tmpBoundsOnModel.y),this._tmpMatrixForDraw.setMatrix(this._tmpMatrix.getArray()),s._matrixForMask.setMatrix(this._tmpMatrixForMask.getArray()),s._matrixForDraw.setMatrix(this._tmpMatrixForDraw.getArray());for(var f=s._clippingIdCount,d=0;d<f;d++){var p=s._clippingIdList[d];t.getDrawableDynamicFlagVertexPositionsDidChange(p)&&(e.setIsCulling(0!=t.getDrawableCulling(p)),e.setClippingContextBufferForMask(s),e.drawMesh(t.getDrawableTextureIndices(p),t.getDrawableVertexIndexCount(p),t.getDrawableVertexCount(p),t.getDrawableVertexIndices(p),t.getDrawableVertices(p),t.getDrawableVertexUvs(p),t.getDrawableOpacity(p),ke.CubismBlendMode_Normal,!1))}}this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,i),e.setClippingContextBufferForMask(null),this.gl.viewport(r[0],r[1],r[2],r[3])}},t.prototype.findSameClip=function(t,e){for(var r=0;r<this._clippingContextListForMask.getSize();r++){var i=this._clippingContextListForMask.at(r),n=i._clippingIdCount;if(n==e){for(var a=0,o=0;o<n;o++)for(var s=i._clippingIdList[o],u=0;u<n;u++)if(t[u]==s){a++;break}if(a==n)return i}}return null},t.prototype.setupLayoutBounds=function(t){var e=t/4,r=t%4;e=~~e,r=~~r;for(var i=0,n=0;n<4;n++){var a=e+(n<r?1:0);if(0==a);else if(1==a){var o=this._clippingContextListForMask.at(i++);o._layoutChannelNo=n,o._layoutBounds.x=0,o._layoutBounds.y=0,o._layoutBounds.width=1,o._layoutBounds.height=1}else if(2==a)for(var u=0;u<a;u++){l=~~(l=u%2),(h=this._clippingContextListForMask.at(i++))._layoutChannelNo=n,h._layoutBounds.x=.5*l,h._layoutBounds.y=0,h._layoutBounds.width=.5,h._layoutBounds.height=1}else if(a<=4)for(u=0;u<a;u++){l=~~(l=u%2),c=~~(c=u/2),(h=this._clippingContextListForMask.at(i++))._layoutChannelNo=n,h._layoutBounds.x=.5*l,h._layoutBounds.y=.5*c,h._layoutBounds.width=.5,h._layoutBounds.height=.5}else if(a<=9)for(u=0;u<a;u++){var l,c,h;l=~~(l=u%3),c=~~(c=u/3),(h=this._clippingContextListForMask.at(i++))._layoutChannelNo=n,h._layoutBounds.x=l/3,h._layoutBounds.y=c/3,h._layoutBounds.width=1/3,h._layoutBounds.height=1/3}else s("not supported mask count : {0}",a)}},t.prototype.getColorBuffer=function(){return this._colorBuffer},t.prototype.getClippingContextListForDraw=function(){return this._clippingContextListForDraw},t.prototype.setClippingMaskBufferSize=function(t){this._clippingMaskBufferSize=t},t.prototype.getClippingMaskBufferSize=function(){return this._clippingMaskBufferSize},t}();t.CubismClippingManager_WebGL=n;var a=function(t,e){this.frameNo=t,this.texture=e};t.CubismRenderTextureResource=a;var o=function(){function t(t,e,r){this._owner=t,this._clippingIdList=e,this._clippingIdCount=r,this._allClippedDrawRect=new we,this._layoutBounds=new we,this._clippedDrawableIndexList=[],this._matrixForMask=new Ae,this._matrixForDraw=new Ae}return t.prototype.release=function(){null!=this._layoutBounds&&(this._layoutBounds=null),null!=this._allClippedDrawRect&&(this._allClippedDrawRect=null),null!=this._clippedDrawableIndexList&&(this._clippedDrawableIndexList=null)},t.prototype.addClippedDrawable=function(t){this._clippedDrawableIndexList.push(t)},t.prototype.getClippingManager=function(){return this._owner},t.prototype.setGl=function(t){this._owner.setGL(t)},t}();t.CubismClippingContext=o;var u=function(){function r(){this._shaderSets=new xe}return r.getInstance=function(){return null==e?e=new r:e},r.deleteInstance=function(){e&&(e.release(),e=null)},r.prototype.release=function(){this.releaseShaderProgram()},r.prototype.setupShaderProgram=function(t,e,r,i,n,a,o,u,h,f,d,p,g){var m,_,y,v;if(d||s("NoPremultipliedAlpha is not allowed"),0==this._shaderSets.getSize()&&this.generateShaders(),null!=t.getClippingContextBufferForMask()){var b=this._shaderSets.at(l.ShaderNames_SetupMask);this.gl.useProgram(b.shaderProgram),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,e),this.gl.uniform1i(b.samplerTexture0Location,0),null==o.vertex&&(o.vertex=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,o.vertex),this.gl.bufferData(this.gl.ARRAY_BUFFER,i,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(b.attributePositionLocation),this.gl.vertexAttribPointer(b.attributePositionLocation,2,this.gl.FLOAT,!1,0,0),null==o.uv&&(o.uv=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,o.uv),this.gl.bufferData(this.gl.ARRAY_BUFFER,a,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(b.attributeTexCoordLocation),this.gl.vertexAttribPointer(b.attributeTexCoordLocation,2,this.gl.FLOAT,!1,0,0);var A=t.getClippingContextBufferForMask()._layoutChannelNo,w=t.getClippingContextBufferForMask().getClippingManager().getChannelFlagAsColor(A);this.gl.uniform4f(b.uniformChannelFlagLocation,w.R,w.G,w.B,w.A),this.gl.uniformMatrix4fv(b.uniformClipMatrixLocation,!1,t.getClippingContextBufferForMask()._matrixForMask.getArray());var S=t.getClippingContextBufferForMask()._layoutBounds;this.gl.uniform4f(b.uniformBaseColorLocation,2*S.x-1,2*S.y-1,2*S.getRight()-1,2*S.getBottom()-1),m=this.gl.ZERO,_=this.gl.ONE_MINUS_SRC_COLOR,y=this.gl.ZERO,v=this.gl.ONE_MINUS_SRC_ALPHA}else{var x=null!=t.getClippingContextBufferForDraw(),C=x?g?2:1:0;b=new c;switch(h){case ke.CubismBlendMode_Normal:default:b=this._shaderSets.at(l.ShaderNames_NormalPremultipliedAlpha+C),m=this.gl.ONE,_=this.gl.ONE_MINUS_SRC_ALPHA,y=this.gl.ONE,v=this.gl.ONE_MINUS_SRC_ALPHA;break;case ke.CubismBlendMode_Additive:b=this._shaderSets.at(l.ShaderNames_AddPremultipliedAlpha+C),m=this.gl.ONE,_=this.gl.ONE,y=this.gl.ZERO,v=this.gl.ONE;break;case ke.CubismBlendMode_Multiplicative:b=this._shaderSets.at(l.ShaderNames_MultPremultipliedAlpha+C),m=this.gl.DST_COLOR,_=this.gl.ONE_MINUS_SRC_ALPHA,y=this.gl.ZERO,v=this.gl.ONE}if(this.gl.useProgram(b.shaderProgram),null==o.vertex&&(o.vertex=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,o.vertex),this.gl.bufferData(this.gl.ARRAY_BUFFER,i,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(b.attributePositionLocation),this.gl.vertexAttribPointer(b.attributePositionLocation,2,this.gl.FLOAT,!1,0,0),null==o.uv&&(o.uv=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,o.uv),this.gl.bufferData(this.gl.ARRAY_BUFFER,a,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(b.attributeTexCoordLocation),this.gl.vertexAttribPointer(b.attributeTexCoordLocation,2,this.gl.FLOAT,!1,0,0),x){this.gl.activeTexture(this.gl.TEXTURE1);var k=t.getClippingContextBufferForDraw().getClippingManager().getColorBuffer();this.gl.bindTexture(this.gl.TEXTURE_2D,k),this.gl.uniform1i(b.samplerTexture1Location,1),this.gl.uniformMatrix4fv(b.uniformClipMatrixLocation,!1,t.getClippingContextBufferForDraw()._matrixForDraw.getArray());A=t.getClippingContextBufferForDraw()._layoutChannelNo,w=t.getClippingContextBufferForDraw().getClippingManager().getChannelFlagAsColor(A);this.gl.uniform4f(b.uniformChannelFlagLocation,w.R,w.G,w.B,w.A)}this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,e),this.gl.uniform1i(b.samplerTexture0Location,0),this.gl.uniformMatrix4fv(b.uniformMatrixLocation,!1,p.getArray()),this.gl.uniform4f(b.uniformBaseColorLocation,f.R,f.G,f.B,f.A)}null==o.index&&(o.index=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,o.index),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,n,this.gl.DYNAMIC_DRAW),this.gl.blendFuncSeparate(m,_,y,v)},r.prototype.releaseShaderProgram=function(){for(var t=0;t<this._shaderSets.getSize();t++)this.gl.deleteProgram(this._shaderSets.at(t).shaderProgram),this._shaderSets.at(t).shaderProgram=0,this._shaderSets.set(t,void 0),this._shaderSets.set(t,null)},r.prototype.generateShaders=function(){for(var e=0;e<10;e++)this._shaderSets.pushBack(new c);this._shaderSets.at(0).shaderProgram=this.loadShaderProgram(t.vertexShaderSrcSetupMask,t.fragmentShaderSrcsetupMask),this._shaderSets.at(1).shaderProgram=this.loadShaderProgram(t.vertexShaderSrc,t.fragmentShaderSrcPremultipliedAlpha),this._shaderSets.at(2).shaderProgram=this.loadShaderProgram(t.vertexShaderSrcMasked,t.fragmentShaderSrcMaskPremultipliedAlpha),this._shaderSets.at(3).shaderProgram=this.loadShaderProgram(t.vertexShaderSrcMasked,t.fragmentShaderSrcMaskInvertedPremultipliedAlpha),this._shaderSets.at(4).shaderProgram=this._shaderSets.at(1).shaderProgram,this._shaderSets.at(5).shaderProgram=this._shaderSets.at(2).shaderProgram,this._shaderSets.at(6).shaderProgram=this._shaderSets.at(3).shaderProgram,this._shaderSets.at(7).shaderProgram=this._shaderSets.at(1).shaderProgram,this._shaderSets.at(8).shaderProgram=this._shaderSets.at(2).shaderProgram,this._shaderSets.at(9).shaderProgram=this._shaderSets.at(3).shaderProgram,this._shaderSets.at(0).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(0).shaderProgram,"a_position"),this._shaderSets.at(0).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(0).shaderProgram,"a_texCoord"),this._shaderSets.at(0).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram,"s_texture0"),this._shaderSets.at(0).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram,"u_clipMatrix"),this._shaderSets.at(0).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram,"u_channelFlag"),this._shaderSets.at(0).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram,"u_baseColor"),this._shaderSets.at(1).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(1).shaderProgram,"a_position"),this._shaderSets.at(1).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(1).shaderProgram,"a_texCoord"),this._shaderSets.at(1).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(1).shaderProgram,"s_texture0"),this._shaderSets.at(1).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(1).shaderProgram,"u_matrix"),this._shaderSets.at(1).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(1).shaderProgram,"u_baseColor"),this._shaderSets.at(2).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(2).shaderProgram,"a_position"),this._shaderSets.at(2).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(2).shaderProgram,"a_texCoord"),this._shaderSets.at(2).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"s_texture0"),this._shaderSets.at(2).samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"s_texture1"),this._shaderSets.at(2).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"u_matrix"),this._shaderSets.at(2).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"u_clipMatrix"),this._shaderSets.at(2).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"u_channelFlag"),this._shaderSets.at(2).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"u_baseColor"),this._shaderSets.at(3).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(3).shaderProgram,"a_position"),this._shaderSets.at(3).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(3).shaderProgram,"a_texCoord"),this._shaderSets.at(3).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"s_texture0"),this._shaderSets.at(3).samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"s_texture1"),this._shaderSets.at(3).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"u_matrix"),this._shaderSets.at(3).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"u_clipMatrix"),this._shaderSets.at(3).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"u_channelFlag"),this._shaderSets.at(3).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"u_baseColor"),this._shaderSets.at(4).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(4).shaderProgram,"a_position"),this._shaderSets.at(4).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(4).shaderProgram,"a_texCoord"),this._shaderSets.at(4).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(4).shaderProgram,"s_texture0"),this._shaderSets.at(4).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(4).shaderProgram,"u_matrix"),this._shaderSets.at(4).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(4).shaderProgram,"u_baseColor"),this._shaderSets.at(5).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(5).shaderProgram,"a_position"),this._shaderSets.at(5).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(5).shaderProgram,"a_texCoord"),this._shaderSets.at(5).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"s_texture0"),this._shaderSets.at(5).samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"s_texture1"),this._shaderSets.at(5).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"u_matrix"),this._shaderSets.at(5).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"u_clipMatrix"),this._shaderSets.at(5).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"u_channelFlag"),this._shaderSets.at(5).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"u_baseColor"),this._shaderSets.at(6).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(6).shaderProgram,"a_position"),this._shaderSets.at(6).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(6).shaderProgram,"a_texCoord"),this._shaderSets.at(6).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"s_texture0"),this._shaderSets.at(6).samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"s_texture1"),this._shaderSets.at(6).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"u_matrix"),this._shaderSets.at(6).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"u_clipMatrix"),this._shaderSets.at(6).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"u_channelFlag"),this._shaderSets.at(6).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"u_baseColor"),this._shaderSets.at(7).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(7).shaderProgram,"a_position"),this._shaderSets.at(7).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(7).shaderProgram,"a_texCoord"),this._shaderSets.at(7).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(7).shaderProgram,"s_texture0"),this._shaderSets.at(7).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(7).shaderProgram,"u_matrix"),this._shaderSets.at(7).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(7).shaderProgram,"u_baseColor"),this._shaderSets.at(8).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(8).shaderProgram,"a_position"),this._shaderSets.at(8).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(8).shaderProgram,"a_texCoord"),this._shaderSets.at(8).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"s_texture0"),this._shaderSets.at(8).samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"s_texture1"),this._shaderSets.at(8).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"u_matrix"),this._shaderSets.at(8).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"u_clipMatrix"),this._shaderSets.at(8).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"u_channelFlag"),this._shaderSets.at(8).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"u_baseColor"),this._shaderSets.at(9).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(9).shaderProgram,"a_position"),this._shaderSets.at(9).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(9).shaderProgram,"a_texCoord"),this._shaderSets.at(9).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"s_texture0"),this._shaderSets.at(9).samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"s_texture1"),this._shaderSets.at(9).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"u_matrix"),this._shaderSets.at(9).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"u_clipMatrix"),this._shaderSets.at(9).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"u_channelFlag"),this._shaderSets.at(9).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"u_baseColor")},r.prototype.loadShaderProgram=function(t,e){var r=this.gl.createProgram(),i=this.compileShaderSource(this.gl.VERTEX_SHADER,t);if(!i)return s("Vertex shader compile error!"),0;var n=this.compileShaderSource(this.gl.FRAGMENT_SHADER,e);return n?(this.gl.attachShader(r,i),this.gl.attachShader(r,n),this.gl.linkProgram(r),this.gl.getProgramParameter(r,this.gl.LINK_STATUS)?(this.gl.deleteShader(i),this.gl.deleteShader(n),r):(s("Failed to link program: {0}",r),this.gl.deleteShader(i),i=0,this.gl.deleteShader(n),n=0,r&&(this.gl.deleteProgram(r),r=0),0)):(s("Vertex shader compile error!"),0)},r.prototype.compileShaderSource=function(t,e){var r=e,i=this.gl.createShader(t);if(this.gl.shaderSource(i,r),this.gl.compileShader(i),!i){var n=this.gl.getShaderInfoLog(i);s("Shader compile log: {0} ",n)}return this.gl.getShaderParameter(i,this.gl.COMPILE_STATUS)?i:(this.gl.deleteShader(i),null)},r.prototype.setGl=function(t){this.gl=t},r}();t.CubismShader_WebGL=u;var l,c=function(){};t.CubismShaderSet=c,function(t){t[t.ShaderNames_SetupMask=0]="ShaderNames_SetupMask",t[t.ShaderNames_NormalPremultipliedAlpha=1]="ShaderNames_NormalPremultipliedAlpha",t[t.ShaderNames_NormalMaskedPremultipliedAlpha=2]="ShaderNames_NormalMaskedPremultipliedAlpha",t[t.ShaderNames_NomralMaskedInvertedPremultipliedAlpha=3]="ShaderNames_NomralMaskedInvertedPremultipliedAlpha",t[t.ShaderNames_AddPremultipliedAlpha=4]="ShaderNames_AddPremultipliedAlpha",t[t.ShaderNames_AddMaskedPremultipliedAlpha=5]="ShaderNames_AddMaskedPremultipliedAlpha",t[t.ShaderNames_AddMaskedPremultipliedAlphaInverted=6]="ShaderNames_AddMaskedPremultipliedAlphaInverted",t[t.ShaderNames_MultPremultipliedAlpha=7]="ShaderNames_MultPremultipliedAlpha",t[t.ShaderNames_MultMaskedPremultipliedAlpha=8]="ShaderNames_MultMaskedPremultipliedAlpha",t[t.ShaderNames_MultMaskedPremultipliedAlphaInverted=9]="ShaderNames_MultMaskedPremultipliedAlphaInverted"}(l=t.ShaderNames||(t.ShaderNames={})),t.vertexShaderSrcSetupMask="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_myPos;uniform mat4       u_clipMatrix;void main(){   gl_Position = u_clipMatrix * a_position;   v_myPos = u_clipMatrix * a_position;   v_texCoord = a_texCoord;   v_texCoord.y = 1.0 - v_texCoord.y;}",t.fragmentShaderSrcsetupMask="precision mediump float;varying vec2       v_texCoord;varying vec4       v_myPos;uniform vec4       u_baseColor;uniform vec4       u_channelFlag;uniform sampler2D  s_texture0;void main(){   float isInside =        step(u_baseColor.x, v_myPos.x/v_myPos.w)       * step(u_baseColor.y, v_myPos.y/v_myPos.w)       * step(v_myPos.x/v_myPos.w, u_baseColor.z)       * step(v_myPos.y/v_myPos.w, u_baseColor.w);   gl_FragColor = u_channelFlag * texture2D(s_texture0, v_texCoord).a * isInside;}",t.vertexShaderSrc="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;uniform mat4       u_matrix;void main(){   gl_Position = u_matrix * a_position;   v_texCoord = a_texCoord;   v_texCoord.y = 1.0 - v_texCoord.y;}",t.vertexShaderSrcMasked="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_clipPos;uniform mat4       u_matrix;uniform mat4       u_clipMatrix;void main(){   gl_Position = u_matrix * a_position;   v_clipPos = u_clipMatrix * a_position;   v_texCoord = a_texCoord;   v_texCoord.y = 1.0 - v_texCoord.y;}",t.fragmentShaderSrcPremultipliedAlpha="precision mediump float;varying vec2       v_texCoord;uniform vec4       u_baseColor;uniform sampler2D  s_texture0;void main(){   gl_FragColor = texture2D(s_texture0 , v_texCoord) * u_baseColor;}",t.fragmentShaderSrcMaskPremultipliedAlpha="precision mediump float;varying vec2       v_texCoord;varying vec4       v_clipPos;uniform vec4       u_baseColor;uniform vec4       u_channelFlag;uniform sampler2D  s_texture0;uniform sampler2D  s_texture1;void main(){   vec4 col_formask = texture2D(s_texture0 , v_texCoord) * u_baseColor;   vec4 clipMask = (1.0 - texture2D(s_texture1, v_clipPos.xy / v_clipPos.w)) * u_channelFlag;   float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;   col_formask = col_formask * maskVal;   gl_FragColor = col_formask;}",t.fragmentShaderSrcMaskInvertedPremultipliedAlpha="precision mediump float;varying vec2 v_texCoord;varying vec4 v_clipPos;uniform sampler2D s_texture0;uniform sampler2D s_texture1;uniform vec4 u_channelFlag;uniform vec4 u_baseColor;void main(){vec4 col_formask = texture2D(s_texture0, v_texCoord) * u_baseColor;vec4 clipMask = (1.0 - texture2D(s_texture1, v_clipPos.xy / v_clipPos.w)) * u_channelFlag;float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;col_formask = col_formask * (1.0 - maskVal);gl_FragColor = col_formask;}";var h=function(t){function e(){var e=t.call(this)||this;return e._clippingContextBufferForMask=null,e._clippingContextBufferForDraw=null,e._clippingManager=new n,e.firstDraw=!0,e._textures=new Se,e._sortedDrawableIndexList=new xe,e._bufferData={vertex:WebGLBuffer=null,uv:WebGLBuffer=null,index:WebGLBuffer=null},e._textures.prepareCapacity(32,!0),e}return ve(e,t),e.doStaticRelease=function(){u.deleteInstance()},e.prototype.initialize=function(e){e.isUsingMasking()&&(this._clippingManager=new n,this._clippingManager.initialize(e,e.getDrawableCount(),e.getDrawableMasks(),e.getDrawableMaskCounts())),this._sortedDrawableIndexList.resize(e.getDrawableCount(),0),t.prototype.initialize.call(this,e)},e.prototype.bindTexture=function(t,e){this._textures.setValue(t,e)},e.prototype.getBindedTextures=function(){return this._textures},e.prototype.setClippingMaskBufferSize=function(t){this._clippingManager.release(),this._clippingManager=void 0,this._clippingManager=null,this._clippingManager=new n,this._clippingManager.setClippingMaskBufferSize(t),this._clippingManager.initialize(this.getModel(),this.getModel().getDrawableCount(),this.getModel().getDrawableMasks(),this.getModel().getDrawableMaskCounts())},e.prototype.getClippingMaskBufferSize=function(){return this._clippingManager.getClippingMaskBufferSize()},e.prototype.release=function(){this._clippingManager.release(),this._clippingManager=void 0,this._clippingManager=null,this.gl.deleteBuffer(this._bufferData.vertex),this._bufferData.vertex=null,this.gl.deleteBuffer(this._bufferData.uv),this._bufferData.uv=null,this.gl.deleteBuffer(this._bufferData.index),this._bufferData.index=null,this._bufferData=null,this._textures=null},e.prototype.doDrawModel=function(){null!=this._clippingManager&&(this.preDraw(),this._clippingManager.setupClippingContext(this.getModel(),this)),this.preDraw();for(var t=this.getModel().getDrawableCount(),e=this.getModel().getDrawableRenderOrders(),r=0;r<t;++r){var i=e[r];this._sortedDrawableIndexList.set(i,r)}for(r=0;r<t;++r){var n=this._sortedDrawableIndexList.at(r);this.getModel().getDrawableDynamicFlagIsVisible(n)&&(this.setClippingContextBufferForDraw(null!=this._clippingManager?this._clippingManager.getClippingContextListForDraw().at(n):null),this.setIsCulling(this.getModel().getDrawableCulling(n)),this.drawMesh(this.getModel().getDrawableTextureIndices(n),this.getModel().getDrawableVertexIndexCount(n),this.getModel().getDrawableVertexCount(n),this.getModel().getDrawableVertexIndices(n),this.getModel().getDrawableVertices(n),this.getModel().getDrawableVertexUvs(n),this.getModel().getDrawableOpacity(n),this.getModel().getDrawableBlendMode(n),this.getModel().getDrawableInvertedMaskBit(n)))}},e.prototype.drawMesh=function(t,e,r,i,n,a,o,s,l){this.isCulling()?this.gl.enable(this.gl.CULL_FACE):this.gl.disable(this.gl.CULL_FACE),this.gl.frontFace(this.gl.CCW);var c,h=this.getModelColor();null==this.getClippingContextBufferForMask()&&(h.A*=o,this.isPremultipliedAlpha()&&(h.R*=h.A,h.G*=h.A,h.B*=h.A)),c=null!=this._textures.getValue(t)?this._textures.getValue(t):null,u.getInstance().setupShaderProgram(this,c,r,n,i,a,this._bufferData,o,s,h,this.isPremultipliedAlpha(),this.getMvpMatrix(),l),this.gl.drawElements(this.gl.TRIANGLES,e,this.gl.UNSIGNED_SHORT,0),this.gl.useProgram(null),this.setClippingContextBufferForDraw(null),this.setClippingContextBufferForMask(null)},e.prototype.setRenderState=function(t,e){i=t,r=e},e.prototype.preDraw=function(){this.firstDraw&&(this.firstDraw=!1,this._anisortopy=this.gl.getExtension("EXT_texture_filter_anisotropic")||this.gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||this.gl.getExtension("MOZ_EXT_texture_filter_anisotropic")),this.gl.disable(this.gl.SCISSOR_TEST),this.gl.disable(this.gl.STENCIL_TEST),this.gl.disable(this.gl.DEPTH_TEST),this.gl.frontFace(this.gl.CW),this.gl.enable(this.gl.BLEND),this.gl.colorMask(!0,!0,!0,!0),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,null)},e.prototype.setClippingContextBufferForMask=function(t){this._clippingContextBufferForMask=t},e.prototype.getClippingContextBufferForMask=function(){return this._clippingContextBufferForMask},e.prototype.setClippingContextBufferForDraw=function(t){this._clippingContextBufferForDraw=t},e.prototype.getClippingContextBufferForDraw=function(){return this._clippingContextBufferForDraw},e.prototype.startUp=function(t){this.gl=t,this._clippingManager.setGL(t),u.getInstance().setGl(t)},e}(Ce);t.CubismRenderer_WebGL=h,Ce.staticRelease=function(){h.doStaticRelease()}}(ye||(ye={}));var Pe,Be,Me=ye.CubismRenderer_WebGL,Ee=ge.CubismEyeBlink,Te=ne.CubismBreath,De=k.Constant,Re=ie.CubismPhysics,Ve=Xt.CubismModelUserData,Fe=Ot.CubismPose,Le=Tt.CubismExpressionMotion,Oe=yt.CubismMotion,Ne=ct.CubismMoc,ze=rt.CubismModelMatrix,Ue=tt.CubismTargetPoint,je=J.CubismMotionManager;!function(t){var e=function(){function t(){this.loadMotion=function(t,e,r,i){return Oe.create(t,e,r,i)},this._moc=null,this._model=null,this._motionManager=null,this._expressionManager=null,this._eyeBlink=null,this._breath=null,this._modelMatrix=null,this._pose=null,this._dragManager=null,this._physics=null,this._modelUserData=null,this._initialized=!1,this._updating=!1,this._opacity=1,this._lipsync=!0,this._lastLipSyncValue=0,this._dragX=0,this._dragY=0,this._accelerationX=0,this._accelerationY=0,this._accelerationZ=0,this._debugMode=!1,this._renderer=null,this._motionQueue=[],this._motionIdleName=F.MotionGroupIdle,this._modelClear=!0,this._modelName="",this._motionManager=new je,this._motionManager.setEventCallback(t.cubismDefaultMotionEventCallback,this),this._expressionManager=new je,this._dragManager=new Ue}return t.cubismDefaultMotionEventCallback=function(t,e,r){null!=r&&r.motionEventFired(e)},t.prototype.isInitialized=function(){return this._initialized},t.prototype.setInitialized=function(t){this._initialized=t},t.prototype.isUpdating=function(){return this._updating},t.prototype.setUpdating=function(t){this._updating=t},t.prototype.setDragging=function(t,e){this._dragManager.set(t,e)},t.prototype.setAcceleration=function(t,e,r){this._accelerationX=t,this._accelerationY=e,this._accelerationZ=r},t.prototype.getModelMatrix=function(){return this._modelMatrix},t.prototype.setOpacity=function(t){this._opacity=t},t.prototype.getOpacity=function(){return this._opacity},t.prototype.loadModel=function(t){this._moc=Ne.create(t),this._model=this._moc.createModel(),this._model.saveParameters(),null!=this._moc&&null!=this._model?this._modelMatrix=new ze(this._model.getCanvasWidth(),this._model.getCanvasHeight()):s("Failed to CreateModel().")},t.prototype.loadExpression=function(t,e,r){return Le.create(t,e)},t.prototype.loadPose=function(t,e){this._pose=Fe.create(t,e)},t.prototype.loadUserData=function(t,e){this._modelUserData=Ve.create(t,e)},t.prototype.loadPhysics=function(t,e){this._physics=Re.create(t,e)},t.prototype.isHit=function(t,e,r){var i=this._model.getDrawableIndex(t);if(i<0)return!1;for(var n=this._model.getDrawableVertexCount(i),a=this._model.getDrawableVertices(i),o=a[0],s=a[0],u=a[1],l=a[1],c=1;c<n;++c){var h=a[De.vertexOffset+c*De.vertexStep],f=a[De.vertexOffset+c*De.vertexStep+1];h<o&&(o=h),h>s&&(s=h),f<u&&(u=f),f>l&&(l=f)}var d=this._modelMatrix.invertTransformX(e),p=this._modelMatrix.invertTransformY(r);return o<=d&&d<=s&&u<=p&&p<=l},t.prototype.getModel=function(){return this._model},t.prototype.getRenderer=function(){return this._renderer},t.prototype.createRenderer=function(){this._renderer&&this.deleteRenderer(),this._renderer=new Me,this._renderer.initialize(this._model)},t.prototype.deleteRenderer=function(){null!=this._renderer&&(this._renderer.release(),this._renderer=null)},t.prototype.motionEventFired=function(t){a("{0}",t.s)},t.prototype.release=function(){null!=this._motionManager&&(this._motionManager.release(),this._motionManager=null),null!=this._expressionManager&&(this._expressionManager.release(),this._expressionManager=null),null!=this._moc&&(this._moc.deleteModel(this._model),this._moc.release(),this._moc=null),this._modelMatrix=null,Fe.delete(this._pose),Ee.delete(this._eyeBlink),Te.delete(this._breath),this._dragManager=null,Re.delete(this._physics),Ve.delete(this._modelUserData),this.deleteRenderer()},t}();t.CubismUserModel=e}(Pe||(Pe={})),function(t){var e=function(){};t.ICubismModelSetting=e}(Be||(Be={}));var Ge,Ye,Xe,He,We=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),Ze=c.csmVector,qe=k.CubismFramework,Qe=d.CubismJson,Je=Be.ICubismModelSetting;!function(t){var e,r="FileReferences",i="UserData",n="Name",a="File",o="Ids",s="Sound",u="FadeInTime",l="FadeOutTime",c="LipSync",h="EyeBlink";!function(t){t[t.FrequestNode_Groups=0]="FrequestNode_Groups",t[t.FrequestNode_Moc=1]="FrequestNode_Moc",t[t.FrequestNode_Motions=2]="FrequestNode_Motions",t[t.FrequestNode_Expressions=3]="FrequestNode_Expressions",t[t.FrequestNode_Textures=4]="FrequestNode_Textures",t[t.FrequestNode_Physics=5]="FrequestNode_Physics",t[t.FrequestNode_Pose=6]="FrequestNode_Pose",t[t.FrequestNode_HitAreas=7]="FrequestNode_HitAreas"}(e||(e={}));var f=function(t){function f(e,i){var n=t.call(this)||this;return n._json=Qe.create(e,i),n._json&&(n._jsonValue=new Ze,n._jsonValue.pushBack(n._json.getRoot().getValueByString("Groups")),n._jsonValue.pushBack(n._json.getRoot().getValueByString(r).getValueByString("Moc")),n._jsonValue.pushBack(n._json.getRoot().getValueByString(r).getValueByString("Motions")),n._jsonValue.pushBack(n._json.getRoot().getValueByString(r).getValueByString("Expressions")),n._jsonValue.pushBack(n._json.getRoot().getValueByString(r).getValueByString("Textures")),n._jsonValue.pushBack(n._json.getRoot().getValueByString(r).getValueByString("Physics")),n._jsonValue.pushBack(n._json.getRoot().getValueByString(r).getValueByString("Pose")),n._jsonValue.pushBack(n._json.getRoot().getValueByString("HitAreas"))),n}return We(f,t),f.prototype.release=function(){Qe.delete(this._json),this._jsonValue=null},f.prototype.GetJson=function(){return this._json},f.prototype.getModelFileName=function(){return this.isExistModelFile()?this._jsonValue.at(e.FrequestNode_Moc).getRawString()+".bytes":""},f.prototype.getTextureCount=function(){return this.isExistTextureFiles()?this._jsonValue.at(e.FrequestNode_Textures).getSize():0},f.prototype.getTextureDirectory=function(){return this._jsonValue.at(e.FrequestNode_Textures).getRawString()},f.prototype.getTextureFileName=function(t){return this._jsonValue.at(e.FrequestNode_Textures).getValueByIndex(t).getRawString()},f.prototype.getHitAreasCount=function(){return this.isExistHitAreas()?this._jsonValue.at(e.FrequestNode_HitAreas).getSize():0},f.prototype.getHitAreaId=function(t){return qe.getIdManager().getId(this._jsonValue.at(e.FrequestNode_HitAreas).getValueByIndex(t).getValueByString("Id").getRawString())},f.prototype.getHitAreaName=function(t){return this._jsonValue.at(e.FrequestNode_HitAreas).getValueByIndex(t).getValueByString(n).getRawString()},f.prototype.getPhysicsFileName=function(){return this.isExistPhysicsFile()?this._jsonValue.at(e.FrequestNode_Physics).getRawString():""},f.prototype.getPoseFileName=function(){return this.isExistPoseFile()?this._jsonValue.at(e.FrequestNode_Pose).getRawString():""},f.prototype.getExpressionCount=function(){return this.isExistExpressionFile()?this._jsonValue.at(e.FrequestNode_Expressions).getSize():0},f.prototype.getExpressionName=function(t){return this._jsonValue.at(e.FrequestNode_Expressions).getValueByIndex(t).getValueByString(n).getRawString()},f.prototype.getExpressionFileName=function(t){return this._jsonValue.at(e.FrequestNode_Expressions).getValueByIndex(t).getValueByString(a).getRawString()},f.prototype.getMotionGroupCount=function(){return this.isExistMotionGroups()?this._jsonValue.at(e.FrequestNode_Motions).getKeys().getSize():0},f.prototype.getMotionGroupName=function(t){return this.isExistMotionGroups()?this._jsonValue.at(e.FrequestNode_Motions).getKeys().at(t):null},f.prototype.getMotionCount=function(t){return this.isExistMotionGroupName(t)?this._jsonValue.at(e.FrequestNode_Motions).getValueByString(t).getSize():0},f.prototype.getMotionFileName=function(t,r){return this.isExistMotionGroupName(t)?this._jsonValue.at(e.FrequestNode_Motions).getValueByString(t).getValueByIndex(r).getValueByString(a).getRawString():""},f.prototype.getMotionSoundFileName=function(t,r){return this.isExistMotionSoundFile(t,r)?this._jsonValue.at(e.FrequestNode_Motions).getValueByString(t).getValueByIndex(r).getValueByString(s).getRawString():""},f.prototype.getMotionFadeInTimeValue=function(t,r){return this.isExistMotionFadeIn(t,r)?this._jsonValue.at(e.FrequestNode_Motions).getValueByString(t).getValueByIndex(r).getValueByString(u).toFloat():-1},f.prototype.getMotionFadeOutTimeValue=function(t,r){return this.isExistMotionFadeOut(t,r)?this._jsonValue.at(e.FrequestNode_Motions).getValueByString(t).getValueByIndex(r).getValueByString(l).toFloat():-1},f.prototype.getUserDataFile=function(){return this.isExistUserDataFile()?this._json.getRoot().getValueByString(r).getValueByString(i).getRawString():""},f.prototype.getLayoutMap=function(t){var e=this._json.getRoot().getValueByString("Layout").getMap();if(null==e)return!1;for(var r=!1,i=e.begin();i.notEqual(e.end());i.preIncrement())t.setValue(i.ptr().first,i.ptr().second.toFloat()),r=!0;return r},f.prototype.getEyeBlinkParameterCount=function(){if(!this.isExistEyeBlinkParameters())return 0;for(var t=0,r=0;r<this._jsonValue.at(e.FrequestNode_Groups).getSize();r++){var i=this._jsonValue.at(e.FrequestNode_Groups).getValueByIndex(r);if(!i.isNull()&&!i.isError()&&i.getValueByString(n).getRawString()==h){t=i.getValueByString(o).getVector().getSize();break}}return t},f.prototype.getEyeBlinkParameterId=function(t){if(!this.isExistEyeBlinkParameters())return null;for(var r=0;r<this._jsonValue.at(e.FrequestNode_Groups).getSize();r++){var i=this._jsonValue.at(e.FrequestNode_Groups).getValueByIndex(r);if(!i.isNull()&&!i.isError()&&i.getValueByString(n).getRawString()==h)return qe.getIdManager().getId(i.getValueByString(o).getValueByIndex(t).getRawString())}return null},f.prototype.getLipSyncParameterCount=function(){if(!this.isExistLipSyncParameters())return 0;for(var t=0,r=0;r<this._jsonValue.at(e.FrequestNode_Groups).getSize();r++){var i=this._jsonValue.at(e.FrequestNode_Groups).getValueByIndex(r);if(!i.isNull()&&!i.isError()&&i.getValueByString(n).getRawString()==c){t=i.getValueByString(o).getVector().getSize();break}}return t},f.prototype.getLipSyncParameterId=function(t){if(!this.isExistLipSyncParameters())return null;for(var r=0;r<this._jsonValue.at(e.FrequestNode_Groups).getSize();r++){var i=this._jsonValue.at(e.FrequestNode_Groups).getValueByIndex(r);if(!i.isNull()&&!i.isError()&&i.getValueByString(n).getRawString()==c)return qe.getIdManager().getId(i.getValueByString(o).getValueByIndex(t).getRawString())}return null},f.prototype.isExistModelFile=function(){var t=this._jsonValue.at(e.FrequestNode_Moc);return!t.isNull()&&!t.isError()},f.prototype.isExistTextureFiles=function(){var t=this._jsonValue.at(e.FrequestNode_Textures);return!t.isNull()&&!t.isError()},f.prototype.isExistHitAreas=function(){var t=this._jsonValue.at(e.FrequestNode_HitAreas);return!t.isNull()&&!t.isError()},f.prototype.isExistPhysicsFile=function(){var t=this._jsonValue.at(e.FrequestNode_Physics);return!t.isNull()&&!t.isError()},f.prototype.isExistPoseFile=function(){var t=this._jsonValue.at(e.FrequestNode_Pose);return!t.isNull()&&!t.isError()},f.prototype.isExistExpressionFile=function(){var t=this._jsonValue.at(e.FrequestNode_Expressions);return!t.isNull()&&!t.isError()},f.prototype.isExistMotionGroups=function(){var t=this._jsonValue.at(e.FrequestNode_Motions);return!t.isNull()&&!t.isError()},f.prototype.isExistMotionGroupName=function(t){var r=this._jsonValue.at(e.FrequestNode_Motions).getValueByString(t);return!r.isNull()&&!r.isError()},f.prototype.isExistMotionSoundFile=function(t,r){var i=this._jsonValue.at(e.FrequestNode_Motions).getValueByString(t).getValueByIndex(r).getValueByString(s);return!i.isNull()&&!i.isError()},f.prototype.isExistMotionFadeIn=function(t,r){var i=this._jsonValue.at(e.FrequestNode_Motions).getValueByString(t).getValueByIndex(r).getValueByString(u);return!i.isNull()&&!i.isError()},f.prototype.isExistMotionFadeOut=function(t,r){var i=this._jsonValue.at(e.FrequestNode_Motions).getValueByString(t).getValueByIndex(r).getValueByString(l);return!i.isNull()&&!i.isError()},f.prototype.isExistUserDataFile=function(){var t=this._json.getRoot().getValueByString(r).getValueByString(i);return!t.isNull()&&!t.isError()},f.prototype.isExistEyeBlinkParameters=function(){if(this._jsonValue.at(e.FrequestNode_Groups).isNull()||this._jsonValue.at(e.FrequestNode_Groups).isError())return!1;for(var t=0;t<this._jsonValue.at(e.FrequestNode_Groups).getSize();++t)if(this._jsonValue.at(e.FrequestNode_Groups).getValueByIndex(t).getValueByString(n).getRawString()==h)return!0;return!1},f.prototype.isExistLipSyncParameters=function(){if(this._jsonValue.at(e.FrequestNode_Groups).isNull()||this._jsonValue.at(e.FrequestNode_Groups).isError())return!1;for(var t=0;t<this._jsonValue.at(e.FrequestNode_Groups).getSize();++t)if(this._jsonValue.at(e.FrequestNode_Groups).getValueByIndex(t).getValueByString(n).getRawString()==c)return!0;return!1},f}(Je);t.CubismModelSettingJson=f}(Ge||(Ge={})),(Xe=Ye||(Ye={})).HitAreaPrefix="HitArea",Xe.HitAreaHead="Head",Xe.HitAreaBody="Body",Xe.PartsIdCore="Parts01Core",Xe.PartsArmPrefix="Parts01Arm_",Xe.PartsArmLPrefix="Parts01ArmL_",Xe.PartsArmRPrefix="Parts01ArmR_",Xe.ParamAngleX="ParamAngleX",Xe.ParamAngleY="ParamAngleY",Xe.ParamAngleZ="ParamAngleZ",Xe.ParamEyeLOpen="ParamEyeLOpen",Xe.ParamEyeLSmile="ParamEyeLSmile",Xe.ParamEyeROpen="ParamEyeROpen",Xe.ParamEyeRSmile="ParamEyeRSmile",Xe.ParamEyeBallX="ParamEyeBallX",Xe.ParamEyeBallY="ParamEyeBallY",Xe.ParamEyeBallForm="ParamEyeBallForm",Xe.ParamBrowLY="ParamBrowLY",Xe.ParamBrowRY="ParamBrowRY",Xe.ParamBrowLX="ParamBrowLX",Xe.ParamBrowRX="ParamBrowRX",Xe.ParamBrowLAngle="ParamBrowLAngle",Xe.ParamBrowRAngle="ParamBrowRAngle",Xe.ParamBrowLForm="ParamBrowLForm",Xe.ParamBrowRForm="ParamBrowRForm",Xe.ParamMouthForm="ParamMouthForm",Xe.ParamMouthOpenY="ParamMouthOpenY",Xe.ParamCheek="ParamCheek",Xe.ParamBodyAngleX="ParamBodyAngleX",Xe.ParamBodyAngleY="ParamBodyAngleY",Xe.ParamBodyAngleZ="ParamBodyAngleZ",Xe.ParamBreath="ParamBreath",Xe.ParamArmLA="ParamArmLA",Xe.ParamArmRA="ParamArmRA",Xe.ParamArmLB="ParamArmLB",Xe.ParamArmRB="ParamArmRB",Xe.ParamHandL="ParamHandL",Xe.ParamHandR="ParamHandR",Xe.ParamHairFront="ParamHairFront",Xe.ParamHairSide="ParamHairSide",Xe.ParamHairBack="ParamHairBack",Xe.ParamHairFluffy="ParamHairFluffy",Xe.ParamShoulderY="ParamShoulderY",Xe.ParamBustX="ParamBustX",Xe.ParamBustY="ParamBustY",Xe.ParamBaseX="ParamBaseX",Xe.ParamBaseY="ParamBaseY",Xe.ParamNONE="NONE:",function(t){var e=function(){function t(){}return t.getFormatedString=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var i=t;return i.replace(/\{(\d+)\}/g,(function(t,r){return e[r]}))},t.isStartWith=function(t,e){for(var r=0,i=0;"\0"!=e[i];)if("\0"==t[r]||t[r++]!=e[i++])return!1;return!1},t.stringToFloat=function(t,e,r,i){var n=r,a=!1,o=!1,s=0,u=parseInt(t[n]);for(u<0&&(a=!0,n++);n<e;n++){var l=t[n];if(!(0<=parseInt(l)&&parseInt(l)<=9)){if("."==l){o=!0,n++;break}break}s=10*s+(parseInt(l)-0)}if(o)for(var c=.1;n<e&&(0<=(u=255&parseFloat(t[n]))&&u<=9)&&(s+=c*(u-0),c*=.1,u);n++);return n==r?(i[0]=-1,0):(a&&(s=-s),i[0]=n,s)},t}();t.CubismString=e}(He||(He={}));var Ke,$e=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),tr=W.InvalidMotionQueueEntryHandleValue,er=He.CubismString,rr=l.csmMap,ir=c.csmVector,nr=ne.CubismBreath,ar=ne.BreathParameterData,or=ge.CubismEyeBlink,sr=j.ACubismMotion,ur=k.CubismFramework,lr=Pe.CubismUserModel,cr=Ge.CubismModelSettingJson,hr=Ye;function fr(t,e){void 0===e&&(e=""),Z.releaseBytes(t)}!function(t){t[t.LoadAssets=0]="LoadAssets",t[t.LoadModel=1]="LoadModel",t[t.WaitLoadModel=2]="WaitLoadModel",t[t.LoadExpression=3]="LoadExpression",t[t.WaitLoadExpression=4]="WaitLoadExpression",t[t.LoadPhysics=5]="LoadPhysics",t[t.WaitLoadPhysics=6]="WaitLoadPhysics",t[t.LoadPose=7]="LoadPose",t[t.WaitLoadPose=8]="WaitLoadPose",t[t.SetupEyeBlink=9]="SetupEyeBlink",t[t.SetupBreath=10]="SetupBreath",t[t.LoadUserData=11]="LoadUserData",t[t.WaitLoadUserData=12]="WaitLoadUserData",t[t.SetupEyeBlinkIds=13]="SetupEyeBlinkIds",t[t.SetupLipSyncIds=14]="SetupLipSyncIds",t[t.SetupLayout=15]="SetupLayout",t[t.LoadMotion=16]="LoadMotion",t[t.WaitLoadMotion=17]="WaitLoadMotion",t[t.CompleteInitialize=18]="CompleteInitialize",t[t.CompleteSetupModel=19]="CompleteSetupModel",t[t.LoadTexture=20]="LoadTexture",t[t.WaitLoadTexture=21]="WaitLoadTexture",t[t.CompleteSetup=22]="CompleteSetup"}(Ke||(Ke={}));var dr=function(t){function e(e,r){var i=t.call(this)||this;return i._delegate=r,i._modelResource=e,i._modelSetting=null,i._modelHomeDir=null,i._userTimeSeconds=0,i._eyeBlinkIds=new ir,i._lipSyncIds=new ir,i._motions=new rr,i._motionFiles=new rr,i._expressions=new rr,i._hitArea=new ir,i._userArea=new ir,i._idParamAngleX=ur.getIdManager().getId(hr.ParamAngleX),i._idParamAngleY=ur.getIdManager().getId(hr.ParamAngleY),i._idParamAngleZ=ur.getIdManager().getId(hr.ParamAngleZ),i._idParamEyeBallX=ur.getIdManager().getId(hr.ParamEyeBallX),i._idParamEyeBallY=ur.getIdManager().getId(hr.ParamEyeBallY),i._idParamBodyAngleX=ur.getIdManager().getId(hr.ParamBodyAngleX),i._state=Ke.LoadAssets,i._expressionCount=0,i._textureCount=0,i._motionCount=0,i._allMotionCount=0,i._mouthSpeed=3,i._mouthSpeedCal=3,i._mouthOpen=!1,i._mouthOpenIndex=0,i._mouthParamY=[0,0,0,0,0,1,0,.03,.05,.2,.35,.42,.49,.38,.27,.42,.56,.584,.604,.51,.41,.23,.05,.35,.64,.5,.36,.365,.369,.373,.376,.51,.64,.54,.44,.34,.24,.34,.44,.425,.412,.398,.384,.44,.49,.37,.25,.12,0,0,0,0,0],i._modelTextures=[],i._autoIdle=!0,i._batchLoad=!1,i._modelPositionX=kr.width/2,i._modelPositionY=kr.height/2,i._modelSize=e.modelSize,i}return $e(e,t),e.prototype.loadAssets=function(t,e,r,i){var n=this;return new Promise((function(a,o){n._modelHomeDir=t,n._modelName=r,n._modelTextures=i||[];var s=t+e;n.fetchFile(s,"arraybuffer").then((function(t){return t.arrayBuffer()})).then((function(t){var e=t,r=e.byteLength,i=new cr(e,r);n._state=Ke.LoadModel,n.setupModel(i).then((function(){a(!0)})).catch((function(){o()}))}))}))},e.prototype.reloadRenderer=function(){this.deleteRenderer(),this.createRenderer(),this.setupTextures()},e.prototype.update=function(){if(this._state==Ke.CompleteSetup&&!this._modelClear){var t=Z.getDeltaTime();this._userTimeSeconds+=t,this._dragManager.update(t),this._dragX=this._dragManager.getX(),this._dragY=this._dragManager.getY();var e=!1;if(this._model.loadParameters(),this._motionManager.isFinished()&&this._autoIdle?(F.DebugMode&&Z.printLog("[APP]update check finished {0}",this._motionIdleName),this.startRandomMotion(this._motionIdleName,F.PriorityIdle)):e=this._motionManager.updateMotion(this._model,t),this._model.saveParameters(),e||null!=this._eyeBlink&&this._eyeBlink.updateParameters(this._model,t),null!=this._expressionManager&&this._expressionManager.updateMotion(this._model,t),this._model.addParameterValueById(this._idParamAngleX,30*this._dragX),this._model.addParameterValueById(this._idParamAngleY,30*this._dragY),this._model.addParameterValueById(this._idParamAngleZ,this._dragX*this._dragY*-30),this._model.addParameterValueById(this._idParamBodyAngleX,10*this._dragX),this._model.addParameterValueById(this._idParamEyeBallX,this._dragX),this._model.addParameterValueById(this._idParamEyeBallY,this._dragY),null!=this._breath&&this._breath.updateParameters(this._model,t),null!=this._physics&&this._physics.evaluate(this._model,t),this._lipsync&&this._mouthOpen)if(this._mouthSpeedCal-=1,0===this._mouthSpeedCal){for(var r=0,i=0;i<this._lipSyncIds.getSize();++i)r=this._mouthParamY[this._mouthOpenIndex],this._mouthOpenIndex+=1,this._mouthOpenIndex>=46&&(this._mouthOpenIndex=0),this._lastLipSyncValue=r,this._model.addParameterValueById(this._lipSyncIds.at(i),r,1);this._mouthSpeedCal=this._mouthSpeed}else for(i=0;i<this._lipSyncIds.getSize();++i)this._model.addParameterValueById(this._lipSyncIds.at(i),this._lastLipSyncValue,1);null!=this._pose&&this._pose.updateParameters(this._model,t),this._model.update()}},e.prototype.startMotion=function(t){var e=this;if(void 0===t&&(t={groupName:"",no:0,priority:2,autoIdle:!0,autoAppear:!0}),t.no=t.no||0,t.priority=t.priority||2,"[object Boolean]"!==Object.prototype.toString.call(t.autoAppear)&&(t.autoAppear=!0),!t.autoAppear&&this._modelClear)return new Promise((function(t,e){e(new Error("[APP]can't start motion. If you need to perform animation with the model hidden, set the autoappear property to true"))}));if(this._modelClear=!1,"[object Boolean]"===Object.prototype.toString.call(t.autoIdle)?this._autoIdle=t.autoIdle:this._autoIdle=!0,t.priority==F.PriorityForce)this._motionManager.setReservePriority(t.priority);else if(!this._motionManager.reserveMotion(t.priority))return t.priority===F.PriorityIdle?(F.DebugMode&&Z.printLog("[APP]can't start idlePriority motion: {0}_{1}",t.groupName,t.no),new Promise((function(t,e){e(new Error("[APP]can't start idlePriority motion"))}))):new Promise((function(t,e){e(new Error("[APP]can't start motion. code: "+tr))}));var r=this._motionFiles.getValue(t.groupName).at(t.no),i=er.getFormatedString("{0}_{1}",t.groupName,t.no),n=this._motions.getValue(i),a=!1;if(null==n){console.log("motion null");var o=r;return this.fetchFile(o,"arraybuffer").then((function(t){return t.arrayBuffer()})).then((function(r){var s=r,u=s.byteLength;n=e.loadMotion(s,u,t.groupName);var l=t.fadeInTime||e._modelSetting.getMotionFadeInTimeValue(t.groupName,t.no);return l>=0&&n.setFadeInTime(l),(l=t.fadeOutTime||e._modelSetting.getMotionFadeOutTimeValue(t.groupName,t.no))>=0&&n.setFadeOutTime(l),n.setEffectIds(e._eyeBlinkIds,e._lipSyncIds),e._batchLoad?(null!=e._motions.getValue(i)&&sr.delete(e._motions.getValue(i)),e._motions.setValue(i,n)):a=!0,fr(s,o),e._allMotionCount++,F.DebugMode&&Z.printLog("[APP]start motion: {0}_{1}",t.groupName,t.no),e._motionManager.startMotionPriority(n,a,t.priority,e)})).catch((function(){return e._motionManager.setReservePriority(0),new Promise((function(t,e){e(new Error("\u6ca1\u6709\u53ef\u6267\u884c\u7684motion"))}))}))}return F.DebugMode&&Z.printLog("[APP]start motion: {0}_{1}",t.groupName,t.no),this._motionManager.startMotionPriority(n,a,t.priority,this)},e.prototype.addMotions=function(t){var e=this;t.forEach((function(t){var r=t.name,i=t.url,n=new ir;n.pushBack(i),null==e._motionFiles.getValue(r)?e._motionFiles.setValue(r,n):F.DebugMode&&Z.printLog("[APP]motion already exists: {0}",r)}))},e.prototype.addExpressions=function(t){var e=this,r=t.map((function(t){var r=t.name,i=t.url;return r=er.getFormatedString("{0}",r),null==e._expressions.getValue(r)?e.fetchFile(i,"arraybuffer").then((function(t){return t.arrayBuffer()})).then((function(t){var n=t,a=n.byteLength,o=e.loadExpression(n,a,r);e._expressions.setValue(r,o),fr(n,i),e._expressionCount++})).catch((function(){return new Promise((function(t,e){e(new Error(er.getFormatedString("load expression error: {0}",r)))}))})):(F.DebugMode&&Z.printLog("[APP]expression already exists: {0}",r),new Promise((function(t){return t()})))}));return Promise.all(r).then((function(){return e}))},e.prototype.startRandomMotion=function(t,e){if(0==this._modelSetting.getMotionCount(t))return tr;F.DebugMode&&Z.printLog("[APP]startRandomMotion {0} {1}",t,e),e=e||2;var r=Math.floor(Math.random()*this._modelSetting.getMotionCount(t));return this.startMotion({groupName:t,no:r,priority:e})},e.prototype.startMotionQueue=function(t,e){var r=this;return void 0===e&&(e=!1),new Promise((function(i){e?(r._motionQueue=[],r._motionQueue=t):r._motionQueue=r._motionQueue.concat(t),r.executeMotionQueue();var n=0;n=window.setInterval((function(){0===r._motionQueue.length&&(i(r),window.clearInterval(n),n=null)}),50)}))},e.prototype.stopAllMotions=function(t){var e=this;return new Promise((function(r){e._motionQueue=[],e._mouthOpen=!1,e._motionManager.stopAllMotions().then((function(){t&&t.clear&&e.clear(),t&&"[object boolean]"===Object.prototype.toString.call(t.autoIdle)?e._autoIdle=t.autoIdle:e._autoIdle=!0,r()}))}))},e.prototype.replaceIdleMotion=function(t,e){void 0===e&&(e=!0),this._motionIdleName!==t&&(this._motionIdleName=t,e&&(this._modelClear=!1,this._autoIdle=!0,this._motionManager.stopAllMotions()))},e.prototype.mouthOpen=function(t){"[object Number]"===Object.prototype.toString.call(t)&&(t=t<1?1:t,this._mouthSpeed=t),this._mouthOpen=!0},e.prototype.mouthClose=function(){this._mouthOpen=!1},e.prototype.lookAt=function(t,e){if(isNaN(parseFloat(t))||isNaN(parseFloat(e)))throw new TypeError("lookAt(pointX: number, pointY: number) \u53c2\u6570\u7c7b\u578b\u9519\u8bef");"[object Number]"!==Object.prototype.toString.call(t)&&(t=parseFloat(t)),"[object Number]"!==Object.prototype.toString.call(e)&&(t=parseFloat(e)),t>1?t=1:t<-1&&(t=-1),e>1?e=1:e<-1&&(e=-1),this._dragManager.set(t,e)},e.prototype.setExpression=function(t){var e=this._expressions.getValue(t);F.DebugMode&&Z.printLog("[APP]expression: [{0}]",t),null!=e?this._expressionManager.startMotionPriority(e,!1,F.PriorityForce,this):F.DebugMode&&Z.printLog("[APP]expression[{0}] is null",t)},e.prototype.setRandomExpression=function(){if(0!=this._expressions.getSize())for(var t=Math.floor(Math.random()*this._expressions.getSize()),e=0;e<this._expressions.getSize();e++)if(e==t){var r=this._expressions._keyValues[e].first;return void this.setExpression(r)}},e.prototype.motionEventFired=function(t){a("{0} is fired on LAppModel!!",t.s)},e.prototype.hitTest=function(t,e,r){if(this._opacity<1)return!1;for(var i=this._modelSetting.getHitAreasCount(),n=0;n<i;n++)if(this._modelSetting.getHitAreaName(n)==t){var a=this._modelSetting.getHitAreaId(n);return this.isHit(a,e,r)}return!1},e.prototype.preLoadMotionGroup=function(t){for(var e=this,r=function(r){var n=er.getFormatedString("{0}_{1}",t,r),a=i._motionFiles.getValue(t).at(r);F.DebugMode&&Z.printLog("[APP]load motion: {0} => [{1}_{2}]",a,t,r),i.fetchFile(a,"arraybuffer").then((function(t){return t.arrayBuffer()})).then((function(i){var o=i,s=o.byteLength,u=(n.split("_")[0]===e._motionIdleName?F.PriorityIdle:F.PriorityNormal,e.loadMotion(o,s,n)),l=e._modelSetting.getMotionFadeInTimeValue(t,r);l>=0&&u.setFadeInTime(l),(l=e._modelSetting.getMotionFadeOutTimeValue(t,r))>=0&&u.setFadeOutTime(l),u.setEffectIds(e._eyeBlinkIds,e._lipSyncIds),null!=e._motions.getValue(n)&&sr.delete(e._motions.getValue(n)),e._motions.setValue(n,u),fr(o,a),e._motionCount++,e._motionCount>=e._allMotionCount&&(e._state=Ke.LoadTexture,e._motionManager.stopAllMotions(),e._updating=!1,e._initialized=!0,e.createRenderer(),e.setupTextures(),e.getRenderer().startUp(Pr))}))},i=this,n=0;n<this._modelSetting.getMotionCount(t);n++)r(n)},e.prototype.appear=function(t){"object"===typeof t&&("number"===typeof t.pointX&&(this._modelPositionX=t.pointX),"number"===typeof t.pointY&&(this._modelPositionY=t.pointY)),t&&t.zIndex&&(kr.style.zIndex=t.zIndex.toString(),kr.parentElement.style.zIndex=t.zIndex.toString()),this._modelClear=!1},e.prototype.disappear=function(){this.stopAllMotions({clear:!0})},e.prototype.getVisible=function(){return!this._modelClear},e.prototype.getProperty=function(){return{visible:!this._modelClear,autoIdle:this._autoIdle,mouthOpen:this._mouthOpen,idleMotion:this._motionIdleName}},e.prototype.releaseMotions=function(){this._motions.clear()},e.prototype.releaseExpressions=function(){this._expressions.clear()},e.prototype.doDraw=function(){if(null!=this._model&&!this._modelClear){var t=[0,0,kr.width,kr.height];this.getRenderer().setRenderState(Br,t),this.getRenderer().drawModel()}},e.prototype.clear=function(){this._modelClear=!0,Pr.clearColor(1,1,1,0),Pr.clear(Pr.COLOR_BUFFER_BIT)},e.prototype.draw=function(t){if(null!=this._model){var e=kr.width,r=kr.height;"number"===typeof this._modelSize?t.scale(this._modelSize/e,this._modelSize/r):t.scale(1,e/r),t.translate(this._delegate.getView().transformScreenX(this._modelPositionX),this._delegate.getView().transformScreenY(this._modelPositionY)),this._state==Ke.CompleteSetup&&(t.multiplyByMatrix(this._modelMatrix),this.getRenderer().setMvpMatrix(t),this.doDraw())}},e.prototype.asyncLoadMotionGroup=function(t){var e=this;this._model.saveParameters();for(var r=function(t){i._allMotionCount+=i._modelSetting.getMotionCount(t);for(var r=function(r){var n=er.getFormatedString("{0}_{1}",t,r),a=i._motionFiles.getValue(t).at(r);F.DebugMode&&Z.printLog("[APP]load motion: {0} => [{1}_{2}]",a,t,r),i.fetchFile(a,"arraybuffer").then((function(t){return t.arrayBuffer()})).then((function(i){var o=i,s=o.byteLength,u=e.loadMotion(o,s,n),l=e._modelSetting.getMotionFadeInTimeValue(t,r);l>=0&&u.setFadeInTime(l),(l=e._modelSetting.getMotionFadeOutTimeValue(t,r))>=0&&u.setFadeOutTime(l),u.setEffectIds(e._eyeBlinkIds,e._lipSyncIds),null!=e._motions.getValue(n)&&sr.delete(e._motions.getValue(n)),e._motions.setValue(n,u),fr(o,a),e._motionCount++}))},n=0;n<i._modelSetting.getMotionCount(t);n++)r(n)},i=this,n=0,a=t;n<a.length;n++){r(a[n])}},e.prototype.fetchFile=function(t,e){return new Promise((function(r,i){var n=new XMLHttpRequest;n.open("GET",t,!0),e&&(n.responseType=e),n.onload=function(){var t={status:n.status,statusText:n.statusText};new RegExp("^file://\\S+").test(window.location.href)&&0===t.status&&(t.status=200);var e="response"in n?n.response:n.responseText;r(new Response(e,t))},n.onerror=function(){i(new TypeError("Local request failed"))},n.send()}))},e.prototype.executeMotionQueue=function(){var t=this;this._motionQueue.length<=0||this.startMotion(this._motionQueue[0]).then((function(){t._motionQueue.shift(),t.executeMotionQueue()})).catch((function(e){console.error("[APP]\u5f53\u524d\u52a8\u4f5c\u65e0\u6548.",t._motionQueue[0],e),t._motionQueue.shift(),t.executeMotionQueue()}))},e.prototype.setupModel=function(t){var e=this;return new Promise((function(r,i){var n;if(e._updating=!0,e._initialized=!1,e._modelSetting=t,""!=e._modelSetting.getModelFileName()){var a=e._modelSetting.getModelFileName();a=e._modelHomeDir+a,e.fetchFile(a,"arraybuffer").then((function(t){return t.arrayBuffer()})).then((function(t){n=t,e.loadModel(n),fr(n,a),e._state=Ke.LoadExpression,o()})),e._state=Ke.WaitLoadModel}else Z.printLog("Model data does not exist."),i();var o=function(){if(e._modelSetting.getExpressionCount()>0){for(var t=e._modelSetting.getExpressionCount(),r=function(r){var i=e._modelSetting.getExpressionName(r),n=e._modelSetting.getExpressionFileName(r);n=e._modelHomeDir+n,e.fetchFile(n,"arraybuffer").then((function(t){return t.arrayBuffer()})).then((function(r){var a=r,o=a.byteLength,u=e.loadExpression(a,o,i);null!=e._expressions.getValue(i)&&(sr.delete(e._expressions.getValue(i)),e._expressions.setValue(i,null)),e._expressions.setValue(i,u),fr(a,n),e._expressionCount++,e._expressionCount>=t&&(e._state=Ke.LoadPhysics,s())}))},i=0;i<t;i++)r(i);e._state=Ke.WaitLoadExpression}else e._state=Ke.LoadPhysics,s()},s=function(){if(""!=e._modelSetting.getPhysicsFileName()){var t=e._modelSetting.getPhysicsFileName();t=e._modelHomeDir+t,e.fetchFile(t,"arraybuffer").then((function(t){return t.arrayBuffer()})).then((function(r){var i=r,n=i.byteLength;e.loadPhysics(i,n),fr(i,t),e._state=Ke.LoadPose,u()})),e._state=Ke.WaitLoadPhysics}else e._state=Ke.LoadPose,u()},u=function(){if(""!=e._modelSetting.getPoseFileName()){var t=e._modelSetting.getPoseFileName();t=e._modelHomeDir+t,e.fetchFile(t,"arraybuffer").then((function(t){return t.arrayBuffer()})).then((function(r){var i=r,n=i.byteLength;e.loadPose(i,n),fr(i,t),e._state=Ke.SetupEyeBlink,l()})),e._state=Ke.WaitLoadPose}else e._state=Ke.SetupEyeBlink,l()},l=function(){e._modelSetting.getEyeBlinkParameterCount()>0&&(e._eyeBlink=or.create(e._modelSetting),e._state=Ke.SetupBreath),c()},c=function(){e._breath=nr.create();var t=new ir;t.pushBack(new ar(e._idParamAngleX,0,15,6.5345,.5)),t.pushBack(new ar(e._idParamAngleY,0,8,3.5345,.5)),t.pushBack(new ar(e._idParamAngleZ,0,10,5.5345,.5)),t.pushBack(new ar(e._idParamBodyAngleX,0,4,15.5345,.5)),t.pushBack(new ar(ur.getIdManager().getId(hr.ParamBreath),0,.5,3.2345,.5)),e._breath.setParameters(t),e._state=Ke.LoadUserData,h()},h=function(){if(""!=e._modelSetting.getUserDataFile()){var t=e._modelSetting.getUserDataFile();t=e._modelHomeDir+t,e.fetchFile(t,"arraybuffer").then((function(t){return t.arrayBuffer()})).then((function(r){var i=r,n=i.byteLength;e.loadUserData(i,n),fr(i,t),e._state=Ke.SetupEyeBlinkIds,f()})),e._state=Ke.WaitLoadUserData}else e._state=Ke.SetupEyeBlinkIds,f()},f=function(){for(var t=e._modelSetting.getEyeBlinkParameterCount(),r=0;r<t;++r)e._eyeBlinkIds.pushBack(e._modelSetting.getEyeBlinkParameterId(r));e._state=Ke.SetupLipSyncIds,d()},d=function(){for(var t=e._modelSetting.getLipSyncParameterCount(),r=0;r<t;++r)e._lipSyncIds.pushBack(e._modelSetting.getLipSyncParameterId(r));e._state=Ke.SetupLayout,p()},p=function(){var t=new rr;e._modelSetting.getLayoutMap(t),e._modelMatrix.setupFromLayout(t),e._state=Ke.LoadMotion,g()},g=function(){e._state=Ke.WaitLoadMotion,e._model.saveParameters(),e._allMotionCount=0,e._motionCount=0;for(var t=[],i=e._modelSetting.getMotionGroupCount(),n=i>5&&e._batchLoad?5:i,a=0;a<n;a++)t[a]=e._modelSetting.getMotionGroupName(a),e._allMotionCount+=e._modelSetting.getMotionCount(t[a]);for(a=0;a<n;a++)e.preLoadMotionGroup(t[a]);0==i&&(e._state=Ke.LoadTexture,e._motionManager.stopAllMotions(),e._updating=!1,e._initialized=!0,e.createRenderer(),e.setupTextures(),e.getRenderer().startUp(Pr)),r(!0)}}))},e.prototype.setupTextures=function(){var t=this;if(this._state==Ke.LoadTexture){for(var e,r=this._modelSetting.getTextureCount(),i=function(i,a){var o=n._modelSetting.getTextureFileName(i);if(""==o)return Z.printLog("[APP]getTextureFileName null"),e=a,"continue";if(n._modelTextures.length>0&&!n._modelTextures.includes(o))return e=a,"continue";a+=1;var s=o;s=n._modelHomeDir+s;n._delegate.getTextureManager().createTextureFromPngFile(s,true,(function(e){t.getRenderer().bindTexture(a,e.id),t._textureCount++,t._textureCount>=(t._modelTextures.length>0?t._modelTextures.length:r)&&(t._state=Ke.CompleteSetup)})),n.getRenderer().setIsPremultipliedAlpha(true),e=a},n=this,a=0,o=-1;a<r;a++)i(a,o),o=e;this._state=Ke.WaitLoadTexture}},e}(lr),pr=c.csmVector,gr=A.CubismMatrix44,mr=null,_r=function(){function t(){this._viewMatrix=new gr,this._models=new pr,this._userModels=[],this.delegate=Mr.getInstance()}return t.getInstance=function(){return null==mr&&(mr=new t),mr},t.releaseInstance=function(){null!=mr&&(mr=void 0),mr=null},t.prototype.initDelegate=function(t,e){return 0!=this.delegate.initialize(e)&&(this.delegate.startRender(t),!0)},t.prototype.getModel=function(t){if("number"===typeof t&&t<this._models.getSize())return this._models.at(t);for(var e=0;e<this._models.getSize();e++)if(this._models.at(e)._modelName===t)return this._models.at(e);return null},t.prototype.releaseAllModel=function(){var t=this;return new Promise((function(e){for(var r=0;r<t._models.getSize();r++)t._models.at(r).release(),t._models.set(r,null);t._models.clear(),e()}))},t.prototype.releaseModel=function(t){var e=this;return new Promise((function(r,i){if(t){for(var n=e._models.begin();n.notEqual(e._models.end());)n.ptr()._modelName!==t?n.preIncrement():(n.ptr().release(),n=e._models.erase(n));r(t)}else i("model ["+t+"] not found")}))},t.prototype.onDrag=function(t,e){for(var r=0;r<this._models.getSize();r++){var i=this.getModel(r);i&&i.setDragging(t,e)}},t.prototype.onTap=function(t,e){F.DebugLogEnable&&Z.printLog("[APP]tap point: {x: {0} y: {1}}",t.toFixed(2),e.toFixed(2));for(var r=0;r<this._models.getSize();r++)this._models.at(r).hitTest(F.HitAreaNameNose,t,e)?(F.DebugLogEnable&&Z.printLog("[APP]hit area: [{0}]",F.HitAreaNameNose),this._models.at(r).startRandomMotion(F.MotionGroupTapNose,F.PriorityNormal)):this._models.at(r).hitTest(F.HitAreaNameGem,t,e)?(F.DebugLogEnable&&Z.printLog("[APP]hit area: [{0}]",F.HitAreaNameGem),this._models.at(r).startRandomMotion(F.MotionGroupTapGem,F.PriorityNormal)):this._models.at(r).hitTest(F.HitAreaNameHead,t,e)?(F.DebugLogEnable&&Z.printLog("[APP]hit area: [{0}]",F.HitAreaNameHead),this._models.at(r).setRandomExpression()):this._models.at(r).hitTest(F.HitAreaNameBody,t,e)&&(F.DebugLogEnable&&Z.printLog("[APP]hit area: [{0}]",F.HitAreaNameBody),this._models.at(r).startRandomMotion(F.MotionGroupTapBody,F.PriorityNormal))},t.prototype.onUpdate=function(){var t=new gr;null!=this._viewMatrix&&t.multiplyByMatrix(this._viewMatrix);for(var e=t.clone(),r=this._models.getSize(),i=0;i<r;++i){var n=this.getModel(i);t=e.clone(),n.update(),n.draw(t)}},t.prototype.addModel=function(t,e){var r=this;return new Promise((function(i){F.DebugLogEnable&&Z.printLog("[APP]model {0}",t.modelName);var n=t.fileName+".model3.json",a=r.getModel(t.modelName);a&&i(a);var o=new dr(t,r.delegate);r._models.pushBack(o),o._batchLoad="boolean"===typeof e&&e,o.loadAssets(t.path,n,t.modelName,t.textures).then((function(){return o.addMotions(t.motions)})).then((function(){return o.addExpressions(t.expressions)})).then((function(){i(o)})).catch((function(){i(null)}))}))},t.prototype.setDebugMode=function(t){F.DebugMode=t},t}(),yr=D.CubismViewMatrix,vr=A.CubismMatrix44,br=function(){function t(){this._changeModel=!1,this._isClick=!1,this._programId=null,this._touchManager=new N,this._deviceToScreen=new vr,this._viewMatrix=new yr}return t.prototype.initialize=function(){var t,e;t=kr.width;var r=(e=kr.height)/t,i=F.ViewLogicalLeft,n=F.ViewLogicalRight,a=-r,o=r;this._viewMatrix.setScreenRect(i,n,a,o);var s=Math.abs(i-n);this._deviceToScreen.scaleRelative(s/t,-s/t),this._deviceToScreen.translateRelative(.5*-t,.5*-e),this._viewMatrix.setMaxScale(F.ViewMaxScale),this._viewMatrix.setMinScale(F.ViewMinScale),this._viewMatrix.setMaxScreenRect(F.ViewLogicalMaxLeft,F.ViewLogicalMaxRight,F.ViewLogicalMaxBottom,F.ViewLogicalMaxTop)},t.prototype.release=function(){this._viewMatrix=null,this._touchManager=null,this._deviceToScreen=null,Pr.deleteProgram(this._programId),this._programId=null},t.prototype.render=function(){Pr.useProgram(this._programId),Pr.flush(),_r.getInstance().onUpdate()},t.prototype.initializeSprite=function(){kr.width,kr.height,Mr.getInstance().getTextureManager(),F.ResourcesPath;null==this._programId&&(this._programId=Mr.getInstance().createShader())},t.prototype.onTouchesBegan=function(t,e){this._touchManager.touchesBegan(t,e)},t.prototype.onTouchesMoved=function(t,e){var r=this.transformViewX(this._touchManager.getX()),i=this.transformViewY(this._touchManager.getY());this._touchManager.touchesMoved(t,e),_r.getInstance().onDrag(r,i)},t.prototype.onTouchesEnded=function(t,e){var r=_r.getInstance();r.onDrag(0,0);var i=this._deviceToScreen.transformX(this._touchManager.getX()),n=this._deviceToScreen.transformY(this._touchManager.getY());F.DebugTouchLogEnable&&Z.printLog("[APP]touchesEnded x: {0} y: {1}",i,n),r.onTap(i,n)},t.prototype.transformViewX=function(t){var e=this._deviceToScreen.transformX(t);return this._viewMatrix.invertTransformX(e)},t.prototype.transformViewY=function(t){var e=this._deviceToScreen.transformY(t);return this._viewMatrix.invertTransformY(e)},t.prototype.transformScreenX=function(t){return this._deviceToScreen.transformX(t)},t.prototype.transformScreenY=function(t){return this._deviceToScreen.transformY(t)},t}(),Ar=c.csmVector,wr=function(){function t(){this._textures=new Ar}return t.prototype.release=function(){for(var t=this._textures.begin();t.notEqual(this._textures.end());t.preIncrement())Pr.deleteTexture(t.ptr().id);this._textures=null},t.prototype.createTextureFromPngFile=function(t,e,r){for(var i=this,n=function(i){if(i.ptr().fileName==t&&i.ptr().usePremultply==e)return i.ptr().img.onload=function(){r(i.ptr())},i.ptr().img.src=t,{value:void 0}},a=this._textures.begin();a.notEqual(this._textures.end());a.preIncrement()){var o=n(a);if("object"===typeof o)return o.value}var s=new Image;s.crossOrigin="anonymous",s.onload=function(){var n=Pr.createTexture();Pr.bindTexture(Pr.TEXTURE_2D,n),Pr.texParameteri(Pr.TEXTURE_2D,Pr.TEXTURE_MIN_FILTER,Pr.LINEAR_MIPMAP_LINEAR),Pr.texParameteri(Pr.TEXTURE_2D,Pr.TEXTURE_MAG_FILTER,Pr.LINEAR),e&&Pr.pixelStorei(Pr.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1),Pr.texImage2D(Pr.TEXTURE_2D,0,Pr.RGBA,Pr.RGBA,Pr.UNSIGNED_BYTE,s),Pr.generateMipmap(Pr.TEXTURE_2D),Pr.bindTexture(Pr.TEXTURE_2D,null);var a=new Sr;null!=a&&(a.fileName=t,a.width=s.width,a.height=s.height,a.id=n,a.img=s,a.usePremultply=e,i._textures.pushBack(a)),r(a)},s.src=t},t.prototype.releaseTextures=function(){for(var t=0;t<this._textures.getSize();t++)this._textures.set(t,null);this._textures.clear()},t.prototype.releaseTextureByTexture=function(t){for(var e=0;e<this._textures.getSize();e++)if(this._textures.at(e).id==t){this._textures.set(e,null),this._textures.remove(e);break}},t.prototype.releaseTextureByFilePath=function(t){for(var e=0;e<this._textures.getSize();e++)if(this._textures.at(e).fileName==t){this._textures.set(e,null),this._textures.remove(e);break}},t}(),Sr=function(){this.img=null,this.id=null,this.width=0,this.height=0,this.usePremultply=!1,this.fileName=""},xr=A.CubismMatrix44,Cr=k.CubismFramework,kr=null,Ir=null,Pr=null,Br=null,Mr=function(){function t(){this._captured=!1,this._mouseX=0,this._mouseY=0,this._isEnd=!1,this._renderThreadId=0,this._renderStatus=!1,this._cubismOption=new T,this._view=new br,this._textureManager=new wr}return t.getInstance=function(){return null==Ir&&(Ir=new t),Ir},t.releaseInstance=function(){null!=Ir&&Ir.release(),Ir=null},t.prototype.initialize=function(t){var e=this,r="live2d-core-canvas",i=window.innerWidth,n=window.innerHeight,a=t?t.wrap:document.getElementById("live2d-core-wrap");return a||((a=document.createElement("div")).id="live2d-core-wrap",a.style.position="fixed",a.style.width="100%",a.style.height="100%",a.style.top="0px",a.style.left="0px",a.style.zIndex="100",document.body.appendChild(a)),(kr=t?t.canvas:document.getElementById(r))||((kr=document.createElement("canvas")).id=r,kr.style.position="fixed",kr.style.left="0px",kr.style.top="0px",kr.style.zIndex="100",kr.setAttribute("width",i.toString()),kr.setAttribute("height",n.toString()),document.getElementById("live2d-core-wrap").appendChild(kr)),(Pr=kr.getContext("webgl",{alpha:!0,premultipliedAlpha:!1})||kr.getContext("experimental-webgl"))?(Br||(Br=Pr.getParameter(Pr.FRAMEBUFFER_BINDING)),Pr.enable(Pr.BLEND),Pr.blendFunc(Pr.SRC_ALPHA,Pr.ONE_MINUS_SRC_ALPHA),"ontouchend"in kr?(kr.addEventListener("touchstart",(function(t){if(e._view){e._captured=!0;var r=t.changedTouches[0].pageX,i=t.changedTouches[0].pageY;F.DebugMode&&Z.printLog("[APP]canvas touchStart {0}, {1}",r,i),e._view.onTouchesBegan(r,i)}else Z.printLog("view notfound")})),kr.addEventListener("touchmove",(function(t){if(e._captured)if(e._view){var r=t.target.getBoundingClientRect(),i=t.changedTouches[0].clientX-r.left,n=t.changedTouches[0].clientY-r.top;e._view.onTouchesMoved(i,n)}else Z.printLog("view notfound")})),kr.addEventListener("touchend",(function(t){if(e._captured=!1,e._view){var r=t.target.getBoundingClientRect(),i=t.changedTouches[0].clientX-r.left,n=t.changedTouches[0].clientY-r.top;e._view.onTouchesEnded(i,n)}else Z.printLog("view notfound")})),kr.addEventListener("touchcancel",(function(t){if(e._captured=!1,e._view){var r=t.target.getBoundingClientRect(),i=t.changedTouches[0].clientX-r.left,n=t.changedTouches[0].clientY-r.top;e._view.onTouchesEnded(i,n)}else Z.printLog("view notfound")}))):(kr.addEventListener("mousedown",(function(t){if(e._view){e._captured=!0;var r=t.pageX,i=t.pageY;F.DebugMode&&Z.printLog("[APP]canvas mousedown {0}, {1}",r,i),e._view.onTouchesBegan(r,i)}else Z.printLog("view notfound")})),kr.addEventListener("mousemove",(function(t){if(e._captured)if(e._view){var r=t.target.getBoundingClientRect(),i=t.clientX-r.left,n=t.clientY-r.top;e._view.onTouchesMoved(i,n)}else Z.printLog("view notfound")})),kr.addEventListener("mouseup",(function(t){if(e._captured=!1,e._view){var r=t.target.getBoundingClientRect(),i=t.clientX-r.left,n=t.clientY-r.top;e._view.onTouchesEnded(i,n)}else Z.printLog("view notfound")}))),this._view.initialize(),this.initializeCubism(),!0):(alert("WebGL\u65e0\u6cd5\u521d\u59cb\u5316\u3002 \u6d4f\u89c8\u5668\u4f3c\u4e4e\u4e0d\u652f\u6301"),Pr=null,!1)},t.prototype.release=function(){this._textureManager.release(),this._textureManager=null,this._view.release(),this._view=null,_r.releaseInstance(),Cr.dispose()},t.prototype.startRender=function(t){var e=this;if(!this._renderStatus){!function r(){if(e._renderStatus=!0,null!=Ir)if(Z.updateTime(),Pr.clearColor(0,0,0,0),Pr.enable(Pr.DEPTH_TEST),Pr.depthFunc(Pr.LEQUAL),Pr.clear(Pr.COLOR_BUFFER_BIT|Pr.DEPTH_BUFFER_BIT),Pr.clearDepth(1),Pr.enable(Pr.BLEND),Pr.blendFunc(Pr.SRC_ALPHA,Pr.ONE_MINUS_SRC_ALPHA),e._view.render(),"[object Object]"===Object.prototype.toString.call(t)&&t)if(t.efficient)e._renderThreadId=requestAnimationFrame(r);else{var i=t.fps?t.fps:60;e._renderThreadId=window.setTimeout((function(){r()}),1e3/i)}else e._renderThreadId=requestAnimationFrame(r)}()}},t.prototype.stopRender=function(){this._renderStatus&&(window.cancelAnimationFrame(this._renderThreadId),this._renderStatus=!1)},t.prototype.createShader=function(){var t=Pr.createShader(Pr.VERTEX_SHADER);if(null==t)return Z.printLog("failed to create vertexShader"),null;Pr.shaderSource(t,"precision mediump float;attribute vec3 position;attribute vec2 uv;varying vec2 vuv;void main(void){   gl_Position = vec4(position, 1.0);   vuv = uv;}"),Pr.compileShader(t);var e=Pr.createShader(Pr.FRAGMENT_SHADER);if(null==e)return Z.printLog("failed to create fragmentShader"),null;Pr.shaderSource(e,"precision mediump float;varying vec2 vuv;uniform sampler2D texture;void main(void){   gl_FragColor = texture2D(texture, vuv);}"),Pr.compileShader(e);var r=Pr.createProgram();return Pr.attachShader(r,t),Pr.attachShader(r,e),Pr.deleteShader(t),Pr.deleteShader(e),Pr.linkProgram(r),Pr.useProgram(r),r},t.prototype.getView=function(){return this._view},t.prototype.getTextureManager=function(){return this._textureManager},t.prototype.initializeCubism=function(){this._cubismOption.logFunction=Z.printMessage,this._cubismOption.loggingLevel=F.CubismLoggingLevel,Cr.startUp(this._cubismOption),Cr.initialize();new xr;Z.updateTime(),this._view.initializeSprite()},t}(),Er=function(){function t(){this.live2dmanager=null}return t.prototype.initialize=function(t,e){if(this.live2dmanager=_r.getInstance(),this.live2dmanager.initDelegate(t,e))return this.live2dmanager;throw new Error("live2d core \u521d\u59cb\u5316\u5931\u8d25")},t.prototype.release=function(){this.live2dmanager&&this.live2dmanager.releaseAllModel(),Mr.releaseInstance()},t}();e.a=Er},1025:function(t,e,r){"use strict";var i=r(3),n=r(8),a=r(2),o=r(0),s=(r(6),r(4)),u=r(7),l=r(1041),c=r(10),h=o.forwardRef((function(t,e){var r=t.classes,n=t.className,u=t.color,l=void 0===u?"default":u,h=t.component,f=void 0===h?"li":h,d=t.disableGutters,p=void 0!==d&&d,g=t.disableSticky,m=void 0!==g&&g,_=t.inset,y=void 0!==_&&_,v=Object(i.a)(t,["classes","className","color","component","disableGutters","disableSticky","inset"]);return o.createElement(f,Object(a.a)({className:Object(s.a)(r.root,n,"default"!==l&&r["color".concat(Object(c.a)(l))],y&&r.inset,!m&&r.sticky,!p&&r.gutters),ref:e},v))})),f=Object(u.a)((function(t){return{root:{boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:t.palette.text.secondary,fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(14)},colorPrimary:{color:t.palette.primary.main},colorInherit:{color:"inherit"},gutters:{paddingLeft:16,paddingRight:16},inset:{paddingLeft:72},sticky:{position:"sticky",top:0,zIndex:1,backgroundColor:"inherit"}}}),{name:"MuiListSubheader"})(h),d=r(96),p=r(191),g=r(341),m=r(122),_=r(12),y=Object(_.a)(o.createElement("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),v=r(11),b=(r(33),r(105)),A=r(65),w=r(27),S=r(41);function x(t){return"undefined"!==typeof t.normalize?t.normalize("NFD").replace(/[\u0300-\u036f]/g,""):t}function C(t,e){for(var r=0;r<t.length;r+=1)if(e(t[r]))return r;return-1}var k=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.ignoreAccents,r=void 0===e||e,i=t.ignoreCase,n=void 0===i||i,a=t.limit,o=t.matchFrom,s=void 0===o?"any":o,u=t.stringify,l=t.trim,c=void 0!==l&&l;return function(t,e){var i=e.inputValue,o=e.getOptionLabel,l=c?i.trim():i;n&&(l=l.toLowerCase()),r&&(l=x(l));var h=t.filter((function(t){var e=(u||o)(t);return n&&(e=e.toLowerCase()),r&&(e=x(e)),"start"===s?0===e.indexOf(l):e.indexOf(l)>-1}));return"number"===typeof a?h.slice(0,a):h}}();function I(t){var e=t.autoComplete,r=void 0!==e&&e,i=t.autoHighlight,n=void 0!==i&&i,s=t.autoSelect,u=void 0!==s&&s,l=t.blurOnSelect,c=void 0!==l&&l,h=t.clearOnBlur,f=void 0===h?!t.freeSolo:h,d=t.clearOnEscape,p=void 0!==d&&d,g=t.componentName,m=void 0===g?"useAutocomplete":g,_=t.debug,y=void 0!==_&&_,x=t.defaultValue,I=void 0===x?t.multiple?[]:null:x,P=t.disableClearable,B=void 0!==P&&P,M=t.disableCloseOnSelect,E=void 0!==M&&M,T=t.disabledItemsFocusable,D=void 0!==T&&T,R=t.disableListWrap,V=void 0!==R&&R,F=t.filterOptions,L=void 0===F?k:F,O=t.filterSelectedOptions,N=void 0!==O&&O,z=t.freeSolo,U=void 0!==z&&z,j=t.getOptionDisabled,G=t.getOptionLabel,Y=void 0===G?function(t){return t}:G,X=t.getOptionSelected,H=void 0===X?function(t,e){return t===e}:X,W=t.groupBy,Z=t.handleHomeEndKeys,q=void 0===Z?!t.freeSolo:Z,Q=t.id,J=t.includeInputInList,K=void 0!==J&&J,$=t.inputValue,tt=t.multiple,et=void 0!==tt&&tt,rt=t.onChange,it=t.onClose,nt=t.onHighlightChange,at=t.onInputChange,ot=t.onOpen,st=t.open,ut=t.openOnFocus,lt=void 0!==ut&&ut,ct=t.options,ht=t.selectOnFocus,ft=void 0===ht?!t.freeSolo:ht,dt=t.value,pt=Object(b.a)(Q),gt=Y;var mt=o.useRef(!1),_t=o.useRef(!0),yt=o.useRef(null),vt=o.useRef(null),bt=o.useState(null),At=bt[0],wt=bt[1],St=o.useState(-1),xt=St[0],Ct=St[1],kt=n?0:-1,It=o.useRef(kt),Pt=Object(A.a)({controlled:dt,default:I,name:m}),Bt=Object(v.a)(Pt,2),Mt=Bt[0],Et=Bt[1],Tt=Object(A.a)({controlled:$,default:"",name:m,state:"inputValue"}),Dt=Object(v.a)(Tt,2),Rt=Dt[0],Vt=Dt[1],Ft=o.useState(!1),Lt=Ft[0],Ot=Ft[1],Nt=Object(w.a)((function(t,e){var r;if(et)r="";else if(null==e)r="";else{var i=gt(e);r="string"===typeof i?i:""}Rt!==r&&(Vt(r),at&&at(t,r,"reset"))}));o.useEffect((function(){Nt(null,Mt)}),[Mt,Nt]);var zt=Object(A.a)({controlled:st,default:!1,name:m,state:"open"}),Ut=Object(v.a)(zt,2),jt=Ut[0],Gt=Ut[1],Yt=!et&&null!=Mt&&Rt===gt(Mt),Xt=jt,Ht=Xt?L(ct.filter((function(t){return!N||!(et?Mt:[Mt]).some((function(e){return null!==e&&H(t,e)}))})),{inputValue:Yt?"":Rt,getOptionLabel:gt}):[],Wt=Object(w.a)((function(t){-1===t?yt.current.focus():At.querySelector('[data-tag-index="'.concat(t,'"]')).focus()}));o.useEffect((function(){et&&xt>Mt.length-1&&(Ct(-1),Wt(-1))}),[Mt,et,xt,Wt]);var Zt=Object(w.a)((function(t){var e=t.event,r=t.index,i=t.reason,n=void 0===i?"auto":i;if(It.current=r,-1===r?yt.current.removeAttribute("aria-activedescendant"):yt.current.setAttribute("aria-activedescendant","".concat(pt,"-option-").concat(r)),nt&&nt(e,-1===r?null:Ht[r],n),vt.current){var a=vt.current.querySelector("[data-focus]");a&&a.removeAttribute("data-focus");var o=vt.current.parentElement.querySelector('[role="listbox"]');if(o)if(-1!==r){var s=vt.current.querySelector('[data-option-index="'.concat(r,'"]'));if(s&&(s.setAttribute("data-focus","true"),o.scrollHeight>o.clientHeight&&"mouse"!==n)){var u=s,l=o.clientHeight+o.scrollTop,c=u.offsetTop+u.offsetHeight;c>l?o.scrollTop=c-o.clientHeight:u.offsetTop-u.offsetHeight*(W?1.3:0)<o.scrollTop&&(o.scrollTop=u.offsetTop-u.offsetHeight*(W?1.3:0))}}else o.scrollTop=0}})),qt=Object(w.a)((function(t){var e=t.event,i=t.diff,n=t.direction,a=void 0===n?"next":n,o=t.reason,s=void 0===o?"auto":o;if(Xt){var u=function(t,e){if(!vt.current||-1===t)return-1;for(var r=t;;){if("next"===e&&r===Ht.length||"previous"===e&&-1===r)return-1;var i=vt.current.querySelector('[data-option-index="'.concat(r,'"]')),n=!D&&i&&(i.disabled||"true"===i.getAttribute("aria-disabled"));if(!(i&&!i.hasAttribute("tabindex")||n))return r;r+="next"===e?1:-1}}(function(){var t=Ht.length-1;if("reset"===i)return kt;if("start"===i)return 0;if("end"===i)return t;var e=It.current+i;return e<0?-1===e&&K?-1:V&&-1!==It.current||Math.abs(i)>1?0:t:e>t?e===t+1&&K?-1:V||Math.abs(i)>1?t:0:e}(),a);if(Zt({index:u,reason:s,event:e}),r&&"reset"!==i)if(-1===u)yt.current.value=Rt;else{var l=gt(Ht[u]);yt.current.value=l,0===l.toLowerCase().indexOf(Rt.toLowerCase())&&Rt.length>0&&yt.current.setSelectionRange(Rt.length,l.length)}}})),Qt=o.useCallback((function(){if(Xt){var t=et?Mt[0]:Mt;if(0!==Ht.length&&null!=t){if(vt.current)if(N||null==t)It.current>=Ht.length-1?Zt({index:Ht.length-1}):Zt({index:It.current});else{var e=Ht[It.current];if(et&&e&&-1!==C(Mt,(function(t){return H(e,t)})))return;var r=C(Ht,(function(e){return H(e,t)}));-1===r?qt({diff:"reset"}):Zt({index:r})}}else qt({diff:"reset"})}}),[0===Ht.length,!et&&Mt,N,qt,Zt,Xt,Rt,et]),Jt=Object(w.a)((function(t){Object(S.a)(vt,t),t&&Qt()}));o.useEffect((function(){Qt()}),[Qt]);var Kt=function(t){jt||(Gt(!0),ot&&ot(t))},$t=function(t,e){jt&&(Gt(!1),it&&it(t,e))},te=function(t,e,r,i){Mt!==e&&(rt&&rt(t,e,r,i),Et(e))},ee=o.useRef(!1),re=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"select-option",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"options",n=r,a=e;if(et){var o=C(a=Array.isArray(Mt)?Mt.slice():[],(function(t){return H(e,t)}));-1===o?a.push(e):"freeSolo"!==i&&(a.splice(o,1),n="remove-option")}Nt(t,a),te(t,a,n,{option:e}),E||$t(t,n),(!0===c||"touch"===c&&ee.current||"mouse"===c&&!ee.current)&&yt.current.blur()};var ie=function(t,e){if(et){$t(t,"toggleInput");var r=xt;-1===xt?""===Rt&&"previous"===e&&(r=Mt.length-1):((r+="next"===e?1:-1)<0&&(r=0),r===Mt.length&&(r=-1)),r=function(t,e){if(-1===t)return-1;for(var r=t;;){if("next"===e&&r===Mt.length||"previous"===e&&-1===r)return-1;var i=At.querySelector('[data-tag-index="'.concat(r,'"]'));if(!i||i.hasAttribute("tabindex")&&!i.disabled&&"true"!==i.getAttribute("aria-disabled"))return r;r+="next"===e?1:-1}}(r,e),Ct(r),Wt(r)}},ne=function(t){mt.current=!0,Vt(""),at&&at(t,"","clear"),te(t,et?[]:null,"clear")},ae=function(t){return function(e){switch(-1!==xt&&-1===["ArrowLeft","ArrowRight"].indexOf(e.key)&&(Ct(-1),Wt(-1)),e.key){case"Home":Xt&&q&&(e.preventDefault(),qt({diff:"start",direction:"next",reason:"keyboard",event:e}));break;case"End":Xt&&q&&(e.preventDefault(),qt({diff:"end",direction:"previous",reason:"keyboard",event:e}));break;case"PageUp":e.preventDefault(),qt({diff:-5,direction:"previous",reason:"keyboard",event:e}),Kt(e);break;case"PageDown":e.preventDefault(),qt({diff:5,direction:"next",reason:"keyboard",event:e}),Kt(e);break;case"ArrowDown":e.preventDefault(),qt({diff:1,direction:"next",reason:"keyboard",event:e}),Kt(e);break;case"ArrowUp":e.preventDefault(),qt({diff:-1,direction:"previous",reason:"keyboard",event:e}),Kt(e);break;case"ArrowLeft":ie(e,"previous");break;case"ArrowRight":ie(e,"next");break;case"Enter":if(229===e.which)break;if(-1!==It.current&&Xt){var i=Ht[It.current],n=!!j&&j(i);if(e.preventDefault(),n)return;re(e,i,"select-option"),r&&yt.current.setSelectionRange(yt.current.value.length,yt.current.value.length)}else U&&""!==Rt&&!1===Yt&&(et&&e.preventDefault(),re(e,Rt,"create-option","freeSolo"));break;case"Escape":Xt?(e.preventDefault(),e.stopPropagation(),$t(e,"escape")):p&&(""!==Rt||et&&Mt.length>0)&&(e.preventDefault(),e.stopPropagation(),ne(e));break;case"Backspace":if(et&&""===Rt&&Mt.length>0){var a=-1===xt?Mt.length-1:xt,o=Mt.slice();o.splice(a,1),te(e,o,"remove-option",{option:Mt[a]})}}t.onKeyDown&&t.onKeyDown(e)}},oe=function(t){Ot(!0),lt&&!mt.current&&Kt(t)},se=function(t){null===vt.current||document.activeElement!==vt.current.parentElement?(Ot(!1),_t.current=!0,mt.current=!1,y&&""!==Rt||(u&&-1!==It.current&&Xt?re(t,Ht[It.current],"blur"):u&&U&&""!==Rt?re(t,Rt,"blur","freeSolo"):f&&Nt(t,Mt),$t(t,"blur"))):yt.current.focus()},ue=function(t){var e=t.target.value;Rt!==e&&(Vt(e),at&&at(t,e,"input")),""===e?B||et||te(t,null,"clear"):Kt(t)},le=function(t){Zt({event:t,index:Number(t.currentTarget.getAttribute("data-option-index")),reason:"mouse"})},ce=function(){ee.current=!0},he=function(t){var e=Number(t.currentTarget.getAttribute("data-option-index"));re(t,Ht[e],"select-option"),ee.current=!1},fe=function(t){return function(e){var r=Mt.slice();r.splice(t,1),te(e,r,"remove-option",{option:Mt[t]})}},de=function(t){jt?$t(t,"toggleInput"):Kt(t)},pe=function(t){t.target.getAttribute("id")!==pt&&t.preventDefault()},ge=function(){yt.current.focus(),ft&&_t.current&&yt.current.selectionEnd-yt.current.selectionStart===0&&yt.current.select(),_t.current=!1},me=function(t){""!==Rt&&jt||de(t)},_e=U&&Rt.length>0;_e=_e||(et?Mt.length>0:null!==Mt);var ye=Ht;if(W){new Map;ye=Ht.reduce((function(t,e,r){var i=W(e);return t.length>0&&t[t.length-1].group===i?t[t.length-1].options.push(e):t.push({key:r,index:r,group:i,options:[e]}),t}),[])}return{getRootProps:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a.a)({"aria-owns":Xt?"".concat(pt,"-popup"):null,role:"combobox","aria-expanded":Xt},t,{onKeyDown:ae(t),onMouseDown:pe,onClick:ge})},getInputLabelProps:function(){return{id:"".concat(pt,"-label"),htmlFor:pt}},getInputProps:function(){return{id:pt,value:Rt,onBlur:se,onFocus:oe,onChange:ue,onMouseDown:me,"aria-activedescendant":Xt?"":null,"aria-autocomplete":r?"both":"list","aria-controls":Xt?"".concat(pt,"-popup"):null,autoComplete:"off",ref:yt,autoCapitalize:"none",spellCheck:"false"}},getClearProps:function(){return{tabIndex:-1,onClick:ne}},getPopupIndicatorProps:function(){return{tabIndex:-1,onClick:de}},getTagProps:function(t){var e=t.index;return{key:e,"data-tag-index":e,tabIndex:-1,onDelete:fe(e)}},getListboxProps:function(){return{role:"listbox",id:"".concat(pt,"-popup"),"aria-labelledby":"".concat(pt,"-label"),ref:Jt,onMouseDown:function(t){t.preventDefault()}}},getOptionProps:function(t){var e=t.index,r=t.option,i=(et?Mt:[Mt]).some((function(t){return null!=t&&H(r,t)})),n=!!j&&j(r);return{key:e,tabIndex:-1,role:"option",id:"".concat(pt,"-option-").concat(e),onMouseOver:le,onClick:he,onTouchStart:ce,"data-option-index":e,"aria-disabled":n,"aria-selected":i}},id:pt,inputValue:Rt,value:Mt,dirty:_e,popupOpen:Xt,focused:Lt||-1!==xt,anchorEl:At,setAnchorEl:wt,focusedTag:xt,groupedOptions:ye}}function P(t){t.anchorEl,t.open;var e=Object(i.a)(t,["anchorEl","open"]);return o.createElement("div",e)}var B=o.createElement(m.a,{fontSize:"small"}),M=o.createElement(y,null),E=o.forwardRef((function(t,e){t.autoComplete,t.autoHighlight,t.autoSelect,t.blurOnSelect;var r,n=t.ChipProps,u=t.classes,c=t.className,h=t.clearOnBlur,m=(void 0===h&&t.freeSolo,t.clearOnEscape,t.clearText),_=void 0===m?"Clear":m,y=t.closeIcon,v=void 0===y?B:y,b=t.closeText,A=void 0===b?"Close":b,w=(t.debug,t.defaultValue),S=(void 0===w&&t.multiple,t.disableClearable),x=void 0!==S&&S,C=(t.disableCloseOnSelect,t.disabled),k=void 0!==C&&C,E=(t.disabledItemsFocusable,t.disableListWrap,t.disablePortal),T=void 0!==E&&E,D=(t.filterOptions,t.filterSelectedOptions,t.forcePopupIcon),R=void 0===D?"auto":D,V=t.freeSolo,F=void 0!==V&&V,L=t.fullWidth,O=void 0!==L&&L,N=t.getLimitTagsText,z=void 0===N?function(t){return"+".concat(t)}:N,U=(t.getOptionDisabled,t.getOptionLabel),j=void 0===U?function(t){return t}:U,G=(t.getOptionSelected,t.groupBy),Y=t.handleHomeEndKeys,X=(void 0===Y&&t.freeSolo,t.id,t.includeInputInList,t.inputValue,t.limitTags),H=void 0===X?-1:X,W=t.ListboxComponent,Z=void 0===W?"ul":W,q=t.ListboxProps,Q=t.loading,J=void 0!==Q&&Q,K=t.loadingText,$=void 0===K?"Loading\u2026":K,tt=t.multiple,et=void 0!==tt&&tt,rt=t.noOptionsText,it=void 0===rt?"No options":rt,nt=(t.onChange,t.onClose,t.onHighlightChange,t.onInputChange,t.onOpen,t.open,t.openOnFocus,t.openText),at=void 0===nt?"Open":nt,ot=(t.options,t.PaperComponent),st=void 0===ot?d.a:ot,ut=t.PopperComponent,lt=void 0===ut?l.a:ut,ct=t.popupIcon,ht=void 0===ct?M:ct,ft=t.renderGroup,dt=t.renderInput,pt=t.renderOption,gt=t.renderTags,mt=t.selectOnFocus,_t=(void 0===mt&&t.freeSolo,t.size),yt=void 0===_t?"medium":_t,vt=(t.value,Object(i.a)(t,["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","classes","className","clearOnBlur","clearOnEscape","clearText","closeIcon","closeText","debug","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionLabel","getOptionSelected","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","value"])),bt=T?P:lt,At=I(Object(a.a)({},t,{componentName:"Autocomplete"})),wt=At.getRootProps,St=At.getInputProps,xt=At.getInputLabelProps,Ct=At.getPopupIndicatorProps,kt=At.getClearProps,It=At.getTagProps,Pt=At.getListboxProps,Bt=At.getOptionProps,Mt=At.value,Et=At.dirty,Tt=At.id,Dt=At.popupOpen,Rt=At.focused,Vt=At.focusedTag,Ft=At.anchorEl,Lt=At.setAnchorEl,Ot=At.inputValue,Nt=At.groupedOptions;if(et&&Mt.length>0){var zt=function(t){return Object(a.a)({className:Object(s.a)(u.tag,"small"===yt&&u.tagSizeSmall),disabled:k},It(t))};r=gt?gt(Mt,zt):Mt.map((function(t,e){return o.createElement(g.a,Object(a.a)({label:j(t),size:yt},zt({index:e}),n))}))}if(H>-1&&Array.isArray(r)){var Ut=r.length-H;!Rt&&Ut>0&&(r=r.splice(0,H)).push(o.createElement("span",{className:u.tag,key:r.length},z(Ut)))}var jt=ft||function(t){return o.createElement("li",{key:t.key},o.createElement(f,{className:u.groupLabel,component:"div"},t.group),o.createElement("ul",{className:u.groupUl},t.children))},Gt=pt||j,Yt=function(t,e){var r=Bt({option:t,index:e});return o.createElement("li",Object(a.a)({},r,{className:u.option}),Gt(t,{selected:r["aria-selected"],inputValue:Ot}))},Xt=!x&&!k,Ht=(!F||!0===R)&&!1!==R;return o.createElement(o.Fragment,null,o.createElement("div",Object(a.a)({ref:e,className:Object(s.a)(u.root,c,Rt&&u.focused,O&&u.fullWidth,Xt&&u.hasClearIcon,Ht&&u.hasPopupIcon)},wt(vt)),dt({id:Tt,disabled:k,fullWidth:!0,size:"small"===yt?"small":void 0,InputLabelProps:xt(),InputProps:{ref:Lt,className:u.inputRoot,startAdornment:r,endAdornment:o.createElement("div",{className:u.endAdornment},Xt?o.createElement(p.a,Object(a.a)({},kt(),{"aria-label":_,title:_,className:Object(s.a)(u.clearIndicator,Et&&u.clearIndicatorDirty)}),v):null,Ht?o.createElement(p.a,Object(a.a)({},Ct(),{disabled:k,"aria-label":Dt?A:at,title:Dt?A:at,className:Object(s.a)(u.popupIndicator,Dt&&u.popupIndicatorOpen)}),ht):null)},inputProps:Object(a.a)({className:Object(s.a)(u.input,-1===Vt&&u.inputFocused),disabled:k},St())})),Dt&&Ft?o.createElement(bt,{className:Object(s.a)(u.popper,T&&u.popperDisablePortal),style:{width:Ft?Ft.clientWidth:null},role:"presentation",anchorEl:Ft,open:!0},o.createElement(st,{className:u.paper},J&&0===Nt.length?o.createElement("div",{className:u.loading},$):null,0!==Nt.length||F||J?null:o.createElement("div",{className:u.noOptions},it),Nt.length>0?o.createElement(Z,Object(a.a)({className:u.listbox},Pt(),q),Nt.map((function(t,e){return G?jt({key:t.key,group:t.group,children:t.options.map((function(e,r){return Yt(e,t.index+r)}))}):Yt(t,e)}))):null)):null)}));e.a=Object(u.a)((function(t){var e;return{root:{"&$focused $clearIndicatorDirty":{visibility:"visible"},"@media (pointer: fine)":{"&:hover $clearIndicatorDirty":{visibility:"visible"}}},fullWidth:{width:"100%"},focused:{},tag:{margin:3,maxWidth:"calc(100% - 6px)"},tagSizeSmall:{margin:2,maxWidth:"calc(100% - 4px)"},hasPopupIcon:{},hasClearIcon:{},inputRoot:{flexWrap:"wrap","$hasPopupIcon &, $hasClearIcon &":{paddingRight:30},"$hasPopupIcon$hasClearIcon &":{paddingRight:56},"& $input":{width:0,minWidth:30},'&[class*="MuiInput-root"]':{paddingBottom:1,"& $input":{padding:4},"& $input:first-child":{padding:"6px 0"}},'&[class*="MuiInput-root"][class*="MuiInput-marginDense"]':{"& $input":{padding:"4px 4px 5px"},"& $input:first-child":{padding:"3px 0 6px"}},'&[class*="MuiOutlinedInput-root"]':{padding:9,"$hasPopupIcon &, $hasClearIcon &":{paddingRight:39},"$hasPopupIcon$hasClearIcon &":{paddingRight:65},"& $input":{padding:"9.5px 4px"},"& $input:first-child":{paddingLeft:6},"& $endAdornment":{right:9}},'&[class*="MuiOutlinedInput-root"][class*="MuiOutlinedInput-marginDense"]':{padding:6,"& $input":{padding:"4.5px 4px"}},'&[class*="MuiFilledInput-root"]':{paddingTop:19,paddingLeft:8,"$hasPopupIcon &, $hasClearIcon &":{paddingRight:39},"$hasPopupIcon$hasClearIcon &":{paddingRight:65},"& $input":{padding:"9px 4px"},"& $endAdornment":{right:9}},'&[class*="MuiFilledInput-root"][class*="MuiFilledInput-marginDense"]':{paddingBottom:1,"& $input":{padding:"4.5px 4px"}}},input:{flexGrow:1,textOverflow:"ellipsis",opacity:0},inputFocused:{opacity:1},endAdornment:{position:"absolute",right:0,top:"calc(50% - 14px)"},clearIndicator:{marginRight:-2,padding:4,visibility:"hidden"},clearIndicatorDirty:{},popupIndicator:{padding:2,marginRight:-2},popupIndicatorOpen:{transform:"rotate(180deg)"},popper:{zIndex:t.zIndex.modal},popperDisablePortal:{position:"absolute"},paper:Object(a.a)({},t.typography.body1,{overflow:"hidden",margin:"4px 0"}),listbox:{listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto"},loading:{color:t.palette.text.secondary,padding:"14px 16px"},noOptions:{color:t.palette.text.secondary,padding:"14px 16px"},option:(e={minHeight:48,display:"flex",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16},Object(n.a)(e,t.breakpoints.up("sm"),{minHeight:"auto"}),Object(n.a)(e,'&[aria-selected="true"]',{backgroundColor:t.palette.action.selected}),Object(n.a)(e,'&[data-focus="true"]',{backgroundColor:t.palette.action.hover}),Object(n.a)(e,"&:active",{backgroundColor:t.palette.action.selected}),Object(n.a)(e,'&[aria-disabled="true"]',{opacity:t.palette.action.disabledOpacity,pointerEvents:"none"}),e),groupLabel:{backgroundColor:t.palette.background.paper,top:-8},groupUl:{padding:0,"& $option":{paddingLeft:24}}}}),{name:"MuiAutocomplete"})(E)},1062:function(t,e,r){"use strict";var i=r(0),n=r(12);e.a=Object(n.a)(i.createElement("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"}),"FullscreenExit")},1063:function(t,e,r){"use strict";var i=r(0),n=r(12);e.a=Object(n.a)(i.createElement("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"}),"Fullscreen")},1064:function(t,e,r){"use strict";var i=r(0),n=r(12);e.a=Object(n.a)(i.createElement("path",{d:"M9.4 10.5l4.77-8.26C13.47 2.09 12.75 2 12 2c-2.4 0-4.6.85-6.32 2.25l3.66 6.35.06-.1zM21.54 9c-.92-2.92-3.15-5.26-6-6.34L11.88 9h9.66zm.26 1h-7.49l.29.5 4.76 8.25C21 16.97 22 14.61 22 12c0-.69-.07-1.35-.2-2zM8.54 12l-3.9-6.75C3.01 7.03 2 9.39 2 12c0 .69.07 1.35.2 2h7.49l-1.15-2zm-6.08 3c.92 2.92 3.15 5.26 6 6.34L12.12 15H2.46zm11.27 0l-3.9 6.76c.7.15 1.42.24 2.17.24 2.4 0 4.6-.85 6.32-2.25l-3.66-6.35-.93 1.6z"}),"Camera")},1065:function(t,e,r){"use strict";var i=r(0),n=r(12);e.a=Object(n.a)(i.createElement("path",{d:"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"}),"Videocam")},1066:function(t,e,r){"use strict";var i=r(0),n=r(12);e.a=Object(n.a)(i.createElement("path",{d:"M21 6.5l-4 4V7c0-.55-.45-1-1-1H9.82L21 17.18V6.5zM3.27 2L2 3.27 4.73 6H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.21 0 .39-.08.54-.18L19.73 21 21 19.73 3.27 2z"}),"VideocamOff")},341:function(t,e,r){"use strict";var i=r(2),n=r(3),a=r(0),o=(r(6),r(4)),s=r(12),u=Object(s.a)(a.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel"),l=r(7),c=r(17),h=r(13),f=r(10),d=r(88);function p(t){return"Backspace"===t.key||"Delete"===t.key}var g=a.forwardRef((function(t,e){var r=t.avatar,s=t.classes,l=t.className,c=t.clickable,g=t.color,m=void 0===g?"default":g,_=t.component,y=t.deleteIcon,v=t.disabled,b=void 0!==v&&v,A=t.icon,w=t.label,S=t.onClick,x=t.onDelete,C=t.onKeyDown,k=t.onKeyUp,I=t.size,P=void 0===I?"medium":I,B=t.variant,M=void 0===B?"default":B,E=Object(n.a)(t,["avatar","classes","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant"]),T=a.useRef(null),D=Object(h.a)(T,e),R=function(t){t.stopPropagation(),x&&x(t)},V=!(!1===c||!S)||c,F="small"===P,L=_||(V?d.a:"div"),O=L===d.a?{component:"div"}:{},N=null;if(x){var z=Object(o.a)("default"!==m&&("default"===M?s["deleteIconColor".concat(Object(f.a)(m))]:s["deleteIconOutlinedColor".concat(Object(f.a)(m))]),F&&s.deleteIconSmall);N=y&&a.isValidElement(y)?a.cloneElement(y,{className:Object(o.a)(y.props.className,s.deleteIcon,z),onClick:R}):a.createElement(u,{className:Object(o.a)(s.deleteIcon,z),onClick:R})}var U=null;r&&a.isValidElement(r)&&(U=a.cloneElement(r,{className:Object(o.a)(s.avatar,r.props.className,F&&s.avatarSmall,"default"!==m&&s["avatarColor".concat(Object(f.a)(m))])}));var j=null;return A&&a.isValidElement(A)&&(j=a.cloneElement(A,{className:Object(o.a)(s.icon,A.props.className,F&&s.iconSmall,"default"!==m&&s["iconColor".concat(Object(f.a)(m))])})),a.createElement(L,Object(i.a)({role:V||x?"button":void 0,className:Object(o.a)(s.root,l,"default"!==m&&[s["color".concat(Object(f.a)(m))],V&&s["clickableColor".concat(Object(f.a)(m))],x&&s["deletableColor".concat(Object(f.a)(m))]],"default"!==M&&[s.outlined,{primary:s.outlinedPrimary,secondary:s.outlinedSecondary}[m]],b&&s.disabled,F&&s.sizeSmall,V&&s.clickable,x&&s.deletable),"aria-disabled":!!b||void 0,tabIndex:V||x?0:void 0,onClick:S,onKeyDown:function(t){t.currentTarget===t.target&&p(t)&&t.preventDefault(),C&&C(t)},onKeyUp:function(t){t.currentTarget===t.target&&(x&&p(t)?x(t):"Escape"===t.key&&T.current&&T.current.blur()),k&&k(t)},ref:D},O,E),U||j,a.createElement("span",{className:Object(o.a)(s.label,F&&s.labelSmall)},w),N)}));e.a=Object(l.a)((function(t){var e="light"===t.palette.type?t.palette.grey[300]:t.palette.grey[700],r=Object(c.d)(t.palette.text.primary,.26);return{root:{fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:t.palette.getContrastText(e),backgroundColor:e,borderRadius:16,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"default",outline:0,textDecoration:"none",border:"none",padding:0,verticalAlign:"middle",boxSizing:"border-box","&$disabled":{opacity:.5,pointerEvents:"none"},"& $avatar":{marginLeft:5,marginRight:-6,width:24,height:24,color:"light"===t.palette.type?t.palette.grey[700]:t.palette.grey[300],fontSize:t.typography.pxToRem(12)},"& $avatarColorPrimary":{color:t.palette.primary.contrastText,backgroundColor:t.palette.primary.dark},"& $avatarColorSecondary":{color:t.palette.secondary.contrastText,backgroundColor:t.palette.secondary.dark},"& $avatarSmall":{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)}},sizeSmall:{height:24},colorPrimary:{backgroundColor:t.palette.primary.main,color:t.palette.primary.contrastText},colorSecondary:{backgroundColor:t.palette.secondary.main,color:t.palette.secondary.contrastText},disabled:{},clickable:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover, &:focus":{backgroundColor:Object(c.c)(e,.08)},"&:active":{boxShadow:t.shadows[1]}},clickableColorPrimary:{"&:hover, &:focus":{backgroundColor:Object(c.c)(t.palette.primary.main,.08)}},clickableColorSecondary:{"&:hover, &:focus":{backgroundColor:Object(c.c)(t.palette.secondary.main,.08)}},deletable:{"&:focus":{backgroundColor:Object(c.c)(e,.08)}},deletableColorPrimary:{"&:focus":{backgroundColor:Object(c.c)(t.palette.primary.main,.2)}},deletableColorSecondary:{"&:focus":{backgroundColor:Object(c.c)(t.palette.secondary.main,.2)}},outlined:{backgroundColor:"transparent",border:"1px solid ".concat("light"===t.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:Object(c.d)(t.palette.text.primary,t.palette.action.hoverOpacity)},"& $avatar":{marginLeft:4},"& $avatarSmall":{marginLeft:2},"& $icon":{marginLeft:4},"& $iconSmall":{marginLeft:2},"& $deleteIcon":{marginRight:5},"& $deleteIconSmall":{marginRight:3}},outlinedPrimary:{color:t.palette.primary.main,border:"1px solid ".concat(t.palette.primary.main),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:Object(c.d)(t.palette.primary.main,t.palette.action.hoverOpacity)}},outlinedSecondary:{color:t.palette.secondary.main,border:"1px solid ".concat(t.palette.secondary.main),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:Object(c.d)(t.palette.secondary.main,t.palette.action.hoverOpacity)}},avatar:{},avatarSmall:{},avatarColorPrimary:{},avatarColorSecondary:{},icon:{color:"light"===t.palette.type?t.palette.grey[700]:t.palette.grey[300],marginLeft:5,marginRight:-6},iconSmall:{width:18,height:18,marginLeft:4,marginRight:-4},iconColorPrimary:{color:"inherit"},iconColorSecondary:{color:"inherit"},label:{overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},labelSmall:{paddingLeft:8,paddingRight:8},deleteIcon:{WebkitTapHighlightColor:"transparent",color:r,height:22,width:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:Object(c.d)(r,.4)}},deleteIconSmall:{height:16,width:16,marginRight:4,marginLeft:-4},deleteIconColorPrimary:{color:Object(c.d)(t.palette.primary.contrastText,.7),"&:hover, &:active":{color:t.palette.primary.contrastText}},deleteIconColorSecondary:{color:Object(c.d)(t.palette.secondary.contrastText,.7),"&:hover, &:active":{color:t.palette.secondary.contrastText}},deleteIconOutlinedColorPrimary:{color:Object(c.d)(t.palette.primary.main,.7),"&:hover, &:active":{color:t.palette.primary.main}},deleteIconOutlinedColorSecondary:{color:Object(c.d)(t.palette.secondary.main,.7),"&:hover, &:active":{color:t.palette.secondary.main}}}}),{name:"MuiChip"})(g)},356:function(t,e,r){"use strict";var i=r(2),n=r(11),a=r(3),o=r(8),s=r(0),u=r(15),l=(r(6),r(4)),c=r(124),h=r(17),f=r(7),d=r(10),p=r(195),g=r(1041),m=r(13),_=r(105),y=r(41),v=r(104),b=r(65),A=r(20);function w(t){return Math.round(1e5*t)/1e5}var S=!1,x=null;var C=s.forwardRef((function(t,e){var r=t.arrow,o=void 0!==r&&r,h=t.children,f=t.classes,w=t.disableFocusListener,C=void 0!==w&&w,k=t.disableHoverListener,I=void 0!==k&&k,P=t.disableTouchListener,B=void 0!==P&&P,M=t.enterDelay,E=void 0===M?100:M,T=t.enterNextDelay,D=void 0===T?0:T,R=t.enterTouchDelay,V=void 0===R?700:R,F=t.id,L=t.interactive,O=void 0!==L&&L,N=t.leaveDelay,z=void 0===N?0:N,U=t.leaveTouchDelay,j=void 0===U?1500:U,G=t.onClose,Y=t.onOpen,X=t.open,H=t.placement,W=void 0===H?"bottom":H,Z=t.PopperComponent,q=void 0===Z?g.a:Z,Q=t.PopperProps,J=t.title,K=t.TransitionComponent,$=void 0===K?p.a:K,tt=t.TransitionProps,et=Object(a.a)(t,["arrow","children","classes","disableFocusListener","disableHoverListener","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","id","interactive","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","title","TransitionComponent","TransitionProps"]),rt=Object(A.a)(),it=s.useState(),nt=it[0],at=it[1],ot=s.useState(null),st=ot[0],ut=ot[1],lt=s.useRef(!1),ct=s.useRef(),ht=s.useRef(),ft=s.useRef(),dt=s.useRef(),pt=Object(b.a)({controlled:X,default:!1,name:"Tooltip",state:"open"}),gt=Object(n.a)(pt,2),mt=gt[0],_t=gt[1],yt=mt,vt=Object(_.a)(F);s.useEffect((function(){return function(){clearTimeout(ct.current),clearTimeout(ht.current),clearTimeout(ft.current),clearTimeout(dt.current)}}),[]);var bt=function(t){clearTimeout(x),S=!0,_t(!0),Y&&Y(t)},At=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(e){var r=h.props;"mouseover"===e.type&&r.onMouseOver&&t&&r.onMouseOver(e),lt.current&&"touchstart"!==e.type||(nt&&nt.removeAttribute("title"),clearTimeout(ht.current),clearTimeout(ft.current),E||S&&D?(e.persist(),ht.current=setTimeout((function(){bt(e)}),S?D:E)):bt(e))}},wt=Object(v.a)(),St=wt.isFocusVisible,xt=wt.onBlurVisible,Ct=wt.ref,kt=s.useState(!1),It=kt[0],Pt=kt[1],Bt=function(){It&&(Pt(!1),xt())},Mt=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(e){nt||at(e.currentTarget),St(e)&&(Pt(!0),At()(e));var r=h.props;r.onFocus&&t&&r.onFocus(e)}},Et=function(t){clearTimeout(x),x=setTimeout((function(){S=!1}),800+z),_t(!1),G&&G(t),clearTimeout(ct.current),ct.current=setTimeout((function(){lt.current=!1}),rt.transitions.duration.shortest)},Tt=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(e){var r=h.props;"blur"===e.type&&(r.onBlur&&t&&r.onBlur(e),Bt()),"mouseleave"===e.type&&r.onMouseLeave&&e.currentTarget===nt&&r.onMouseLeave(e),clearTimeout(ht.current),clearTimeout(ft.current),e.persist(),ft.current=setTimeout((function(){Et(e)}),z)}},Dt=function(t){lt.current=!0;var e=h.props;e.onTouchStart&&e.onTouchStart(t)},Rt=Object(m.a)(at,e),Vt=Object(m.a)(Ct,Rt),Ft=s.useCallback((function(t){Object(y.a)(Vt,u.findDOMNode(t))}),[Vt]),Lt=Object(m.a)(h.ref,Ft);""===J&&(yt=!1);var Ot=!yt&&!I,Nt=Object(i.a)({"aria-describedby":yt?vt:null,title:Ot&&"string"===typeof J?J:null},et,h.props,{className:Object(l.a)(et.className,h.props.className),onTouchStart:Dt,ref:Lt}),zt={};B||(Nt.onTouchStart=function(t){Dt(t),clearTimeout(ft.current),clearTimeout(ct.current),clearTimeout(dt.current),t.persist(),dt.current=setTimeout((function(){At()(t)}),V)},Nt.onTouchEnd=function(t){h.props.onTouchEnd&&h.props.onTouchEnd(t),clearTimeout(dt.current),clearTimeout(ft.current),t.persist(),ft.current=setTimeout((function(){Et(t)}),j)}),I||(Nt.onMouseOver=At(),Nt.onMouseLeave=Tt(),O&&(zt.onMouseOver=At(!1),zt.onMouseLeave=Tt(!1))),C||(Nt.onFocus=Mt(),Nt.onBlur=Tt(),O&&(zt.onFocus=Mt(!1),zt.onBlur=Tt(!1)));var Ut=s.useMemo((function(){return Object(c.a)({popperOptions:{modifiers:{arrow:{enabled:Boolean(st),element:st}}}},Q)}),[st,Q]);return s.createElement(s.Fragment,null,s.cloneElement(h,Nt),s.createElement(q,Object(i.a)({className:Object(l.a)(f.popper,O&&f.popperInteractive,o&&f.popperArrow),placement:W,anchorEl:nt,open:!!nt&&yt,id:Nt["aria-describedby"],transition:!0},zt,Ut),(function(t){var e=t.placement,r=t.TransitionProps;return s.createElement($,Object(i.a)({timeout:rt.transitions.duration.shorter},r,tt),s.createElement("div",{className:Object(l.a)(f.tooltip,f["tooltipPlacement".concat(Object(d.a)(e.split("-")[0]))],lt.current&&f.touch,o&&f.tooltipArrow)},J,o?s.createElement("span",{className:f.arrow,ref:ut}):null))})))}));e.a=Object(f.a)((function(t){return{popper:{zIndex:t.zIndex.tooltip,pointerEvents:"none"},popperInteractive:{pointerEvents:"auto"},popperArrow:{'&[x-placement*="bottom"] $arrow':{top:0,left:0,marginTop:"-0.71em",marginLeft:4,marginRight:4,"&::before":{transformOrigin:"0 100%"}},'&[x-placement*="top"] $arrow':{bottom:0,left:0,marginBottom:"-0.71em",marginLeft:4,marginRight:4,"&::before":{transformOrigin:"100% 0"}},'&[x-placement*="right"] $arrow':{left:0,marginLeft:"-0.71em",height:"1em",width:"0.71em",marginTop:4,marginBottom:4,"&::before":{transformOrigin:"100% 100%"}},'&[x-placement*="left"] $arrow':{right:0,marginRight:"-0.71em",height:"1em",width:"0.71em",marginTop:4,marginBottom:4,"&::before":{transformOrigin:"0 0"}}},tooltip:{backgroundColor:Object(h.d)(t.palette.grey[700],.9),borderRadius:t.shape.borderRadius,color:t.palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(10),lineHeight:"".concat(w(1.4),"em"),maxWidth:300,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},tooltipArrow:{position:"relative",margin:"0"},arrow:{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:Object(h.d)(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}},touch:{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:"".concat(w(16/14),"em"),fontWeight:t.typography.fontWeightRegular},tooltipPlacementLeft:Object(o.a)({transformOrigin:"right center",margin:"0 24px "},t.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementRight:Object(o.a)({transformOrigin:"left center",margin:"0 24px"},t.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementTop:Object(o.a)({transformOrigin:"center bottom",margin:"24px 0"},t.breakpoints.up("sm"),{margin:"14px 0"}),tooltipPlacementBottom:Object(o.a)({transformOrigin:"center top",margin:"24px 0"},t.breakpoints.up("sm"),{margin:"14px 0"})}}),{name:"MuiTooltip",flip:!1})(C)},416:function(t,e,r){"use strict";var i=r(2),n=r(3),a=r(0),o=(r(6),r(4)),s=r(110),u=r(59),l=r(7),c=r(237),h=a.forwardRef((function(t,e){var r=t.classes,l=t.className,h=t.disableAnimation,f=void 0!==h&&h,d=(t.margin,t.shrink),p=(t.variant,Object(n.a)(t,["classes","className","disableAnimation","margin","shrink","variant"])),g=Object(u.a)(),m=d;"undefined"===typeof m&&g&&(m=g.filled||g.focused||g.adornedStart);var _=Object(s.a)({props:t,muiFormControl:g,states:["margin","variant"]});return a.createElement(c.a,Object(i.a)({"data-shrink":m,className:Object(o.a)(r.root,l,g&&r.formControl,!f&&r.animated,m&&r.shrink,"dense"===_.margin&&r.marginDense,{filled:r.filled,outlined:r.outlined}[_.variant]),classes:{focused:r.focused,disabled:r.disabled,error:r.error,required:r.required,asterisk:r.asterisk},ref:e},p))}));e.a=Object(l.a)((function(t){return{root:{display:"block",transformOrigin:"top left"},focused:{},disabled:{},error:{},required:{},asterisk:{},formControl:{position:"absolute",left:0,top:0,transform:"translate(0, 24px) scale(1)"},marginDense:{transform:"translate(0, 21px) scale(1)"},shrink:{transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},animated:{transition:t.transitions.create(["color","transform"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},filled:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 20px) scale(1)","&$marginDense":{transform:"translate(12px, 17px) scale(1)"},"&$shrink":{transform:"translate(12px, 10px) scale(0.75)","&$marginDense":{transform:"translate(12px, 7px) scale(0.75)"}}},outlined:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 20px) scale(1)","&$marginDense":{transform:"translate(14px, 12px) scale(1)"},"&$shrink":{transform:"translate(14px, -6px) scale(0.75)"}}}}),{name:"MuiInputLabel"})(h)},462:function(t,e,r){(function(t){var i="undefined"!==typeof t&&t||"undefined"!==typeof self&&self||window,n=Function.prototype.apply;function a(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new a(n.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new a(n.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},r(463),e.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof t&&t.clearImmediate||this&&this.clearImmediate}).call(this,r(107))},463:function(t,e,r){(function(t,e){!function(t,r){"use strict";if(!t.setImmediate){var i,n=1,a={},o=!1,s=t.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(t);u=u&&u.setTimeout?u:t,"[object process]"==={}.toString.call(t.process)?i=function(t){e.nextTick((function(){c(t)}))}:function(){if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}}()?function(){var e="setImmediate$"+Math.random()+"$",r=function(r){r.source===t&&"string"===typeof r.data&&0===r.data.indexOf(e)&&c(+r.data.slice(e.length))};t.addEventListener?t.addEventListener("message",r,!1):t.attachEvent("onmessage",r),i=function(r){t.postMessage(e+r,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){c(t.data)},i=function(e){t.port2.postMessage(e)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var t=s.documentElement;i=function(e){var r=s.createElement("script");r.onreadystatechange=function(){c(e),r.onreadystatechange=null,t.removeChild(r),r=null},t.appendChild(r)}}():i=function(t){setTimeout(c,0,t)},u.setImmediate=function(t){"function"!==typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];var o={callback:t,args:e};return a[n]=o,i(n),n++},u.clearImmediate=l}function l(t){delete a[t]}function c(t){if(o)setTimeout(c,0,t);else{var e=a[t];if(e){o=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(void 0,r)}}(e)}finally{l(t),o=!1}}}}}("undefined"===typeof self?"undefined"===typeof t?this:t:self)}).call(this,r(107),r(145))},468:function(t,e,r){"use strict";var i=r(2),n=r(3),a=r(0),o=(r(6),r(4)),s=r(1039),u=r(1040),l=r(1102),c=r(416),h=r(236),f=r(469),d=r(1081),p=r(7),g={standard:s.a,filled:u.a,outlined:l.a},m=a.forwardRef((function(t,e){var r=t.autoComplete,s=t.autoFocus,u=void 0!==s&&s,l=t.children,p=t.classes,m=t.className,_=t.color,y=void 0===_?"primary":_,v=t.defaultValue,b=t.disabled,A=void 0!==b&&b,w=t.error,S=void 0!==w&&w,x=t.FormHelperTextProps,C=t.fullWidth,k=void 0!==C&&C,I=t.helperText,P=t.hiddenLabel,B=t.id,M=t.InputLabelProps,E=t.inputProps,T=t.InputProps,D=t.inputRef,R=t.label,V=t.multiline,F=void 0!==V&&V,L=t.name,O=t.onBlur,N=t.onChange,z=t.onFocus,U=t.placeholder,j=t.required,G=void 0!==j&&j,Y=t.rows,X=t.rowsMax,H=t.select,W=void 0!==H&&H,Z=t.SelectProps,q=t.type,Q=t.value,J=t.variant,K=void 0===J?"standard":J,$=Object(n.a)(t,["autoComplete","autoFocus","children","classes","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","hiddenLabel","id","InputLabelProps","inputProps","InputProps","inputRef","label","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","rowsMax","select","SelectProps","type","value","variant"]);var tt={};if("outlined"===K&&(M&&"undefined"!==typeof M.shrink&&(tt.notched=M.shrink),R)){var et,rt=null!==(et=null===M||void 0===M?void 0:M.required)&&void 0!==et?et:G;tt.label=a.createElement(a.Fragment,null,R,rt&&"\xa0*")}W&&(Z&&Z.native||(tt.id=void 0),tt["aria-describedby"]=void 0);var it=I&&B?"".concat(B,"-helper-text"):void 0,nt=R&&B?"".concat(B,"-label"):void 0,at=g[K],ot=a.createElement(at,Object(i.a)({"aria-describedby":it,autoComplete:r,autoFocus:u,defaultValue:v,fullWidth:k,multiline:F,name:L,rows:Y,rowsMax:X,type:q,value:Q,id:B,inputRef:D,onBlur:O,onChange:N,onFocus:z,placeholder:U,inputProps:E},tt,T));return a.createElement(h.a,Object(i.a)({className:Object(o.a)(p.root,m),disabled:A,error:S,fullWidth:k,hiddenLabel:P,ref:e,required:G,color:y,variant:K},$),R&&a.createElement(c.a,Object(i.a)({htmlFor:B,id:nt},M),R),W?a.createElement(d.a,Object(i.a)({"aria-describedby":it,id:B,labelId:nt,value:Q,input:ot},Z),l):ot,I&&a.createElement(f.a,Object(i.a)({id:it},x),I))}));e.a=Object(p.a)({root:{}},{name:"MuiTextField"})(m)},469:function(t,e,r){"use strict";var i=r(3),n=r(2),a=r(0),o=(r(6),r(4)),s=r(110),u=r(59),l=r(7),c=a.forwardRef((function(t,e){var r=t.children,l=t.classes,c=t.className,h=t.component,f=void 0===h?"p":h,d=(t.disabled,t.error,t.filled,t.focused,t.margin,t.required,t.variant,Object(i.a)(t,["children","classes","className","component","disabled","error","filled","focused","margin","required","variant"])),p=Object(u.a)(),g=Object(s.a)({props:t,muiFormControl:p,states:["variant","margin","disabled","error","filled","focused","required"]});return a.createElement(f,Object(n.a)({className:Object(o.a)(l.root,("filled"===g.variant||"outlined"===g.variant)&&l.contained,c,g.disabled&&l.disabled,g.error&&l.error,g.filled&&l.filled,g.focused&&l.focused,g.required&&l.required,"dense"===g.margin&&l.marginDense),ref:e},d)," "===r?a.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):r)}));e.a=Object(l.a)((function(t){return{root:Object(n.a)({color:t.palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,margin:0,"&$disabled":{color:t.palette.text.disabled},"&$error":{color:t.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{marginLeft:14,marginRight:14},focused:{},filled:{},required:{}}}),{name:"MuiFormHelperText"})(c)},470:function(t,e,r){"use strict";var i=r(0),n=r(12);e.a=Object(n.a)(i.createElement("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z"}),"CloudDownload")},472:function(t,e,r){(function(r){var i,n,a;n=[],void 0===(a="function"===typeof(i=function(){"use strict";function e(t,e){return"undefined"==typeof e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}function i(t,e,r){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){u(i.response,e,r)},i.onerror=function(){console.error("could not download file")},i.send()}function n(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function a(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(i){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof r&&r.global===r?r:void 0,s=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(t,e,r){var s=o.URL||o.webkitURL,u=document.createElement("a");e=e||t.name||"download",u.download=e,u.rel="noopener","string"==typeof t?(u.href=t,u.origin===location.origin?a(u):n(u.href)?i(t,e,r):a(u,u.target="_blank")):(u.href=s.createObjectURL(t),setTimeout((function(){s.revokeObjectURL(u.href)}),4e4),setTimeout((function(){a(u)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,r,o){if(r=r||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(e(t,o),r);else if(n(t))i(t,r,o);else{var s=document.createElement("a");s.href=t,s.target="_blank",setTimeout((function(){a(s)}))}}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),"string"==typeof t)return i(t,e,r);var a="application/octet-stream"===t.type,u=/constructor/i.test(o.HTMLElement)||o.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||a&&u||s)&&"undefined"!=typeof FileReader){var c=new FileReader;c.onloadend=function(){var t=c.result;t=l?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=t:location=t,n=null},c.readAsDataURL(t)}else{var h=o.URL||o.webkitURL,f=h.createObjectURL(t);n?n.location=f:location.href=f,n=null,setTimeout((function(){h.revokeObjectURL(f)}),4e4)}});o.saveAs=u.saveAs=u,t.exports=u})?i.apply(e,n):i)||(t.exports=a)}).call(this,r(107))},473:function(t,e,r){"use strict";var i=r(2),n=r(3),a=r(0),o=(r(6),r(4)),s=r(10),u=r(7),l=r(17),c=r(20),h=a.forwardRef((function(t,e){var r=t.classes,u=t.className,l=t.color,h=void 0===l?"primary":l,f=t.value,d=t.valueBuffer,p=t.variant,g=void 0===p?"indeterminate":p,m=Object(n.a)(t,["classes","className","color","value","valueBuffer","variant"]),_=Object(c.a)(),y={},v={bar1:{},bar2:{}};if("determinate"===g||"buffer"===g)if(void 0!==f){y["aria-valuenow"]=Math.round(f),y["aria-valuemin"]=0,y["aria-valuemax"]=100;var b=f-100;"rtl"===_.direction&&(b=-b),v.bar1.transform="translateX(".concat(b,"%)")}else 0;if("buffer"===g)if(void 0!==d){var A=(d||0)-100;"rtl"===_.direction&&(A=-A),v.bar2.transform="translateX(".concat(A,"%)")}else 0;return a.createElement("div",Object(i.a)({className:Object(o.a)(r.root,r["color".concat(Object(s.a)(h))],u,{determinate:r.determinate,indeterminate:r.indeterminate,buffer:r.buffer,query:r.query}[g]),role:"progressbar"},y,{ref:e},m),"buffer"===g?a.createElement("div",{className:Object(o.a)(r.dashed,r["dashedColor".concat(Object(s.a)(h))])}):null,a.createElement("div",{className:Object(o.a)(r.bar,r["barColor".concat(Object(s.a)(h))],("indeterminate"===g||"query"===g)&&r.bar1Indeterminate,{determinate:r.bar1Determinate,buffer:r.bar1Buffer}[g]),style:v.bar1}),"determinate"===g?null:a.createElement("div",{className:Object(o.a)(r.bar,("indeterminate"===g||"query"===g)&&r.bar2Indeterminate,"buffer"===g?[r["color".concat(Object(s.a)(h))],r.bar2Buffer]:r["barColor".concat(Object(s.a)(h))]),style:v.bar2}))}));e.a=Object(u.a)((function(t){var e=function(e){return"light"===t.palette.type?Object(l.i)(e,.62):Object(l.a)(e,.5)},r=e(t.palette.primary.main),i=e(t.palette.secondary.main);return{root:{position:"relative",overflow:"hidden",height:4,"@media print":{colorAdjust:"exact"}},colorPrimary:{backgroundColor:r},colorSecondary:{backgroundColor:i},determinate:{},indeterminate:{},buffer:{backgroundColor:"transparent"},query:{transform:"rotate(180deg)"},dashed:{position:"absolute",marginTop:0,height:"100%",width:"100%",animation:"$buffer 3s infinite linear"},dashedColorPrimary:{backgroundImage:"radial-gradient(".concat(r," 0%, ").concat(r," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"},dashedColorSecondary:{backgroundImage:"radial-gradient(".concat(i," 0%, ").concat(i," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"},bar:{width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},barColorPrimary:{backgroundColor:t.palette.primary.main},barColorSecondary:{backgroundColor:t.palette.secondary.main},bar1Indeterminate:{width:"auto",animation:"$indeterminate1 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite"},bar1Determinate:{transition:"transform .".concat(4,"s linear")},bar1Buffer:{zIndex:1,transition:"transform .".concat(4,"s linear")},bar2Indeterminate:{width:"auto",animation:"$indeterminate2 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite"},bar2Buffer:{transition:"transform .".concat(4,"s linear")},"@keyframes indeterminate1":{"0%":{left:"-35%",right:"100%"},"60%":{left:"100%",right:"-90%"},"100%":{left:"100%",right:"-90%"}},"@keyframes indeterminate2":{"0%":{left:"-200%",right:"100%"},"60%":{left:"107%",right:"-8%"},"100%":{left:"107%",right:"-8%"}},"@keyframes buffer":{"0%":{opacity:1,backgroundPosition:"0 -23px"},"50%":{opacity:0,backgroundPosition:"0 -23px"},"100%":{opacity:1,backgroundPosition:"-200px -23px"}}}}),{name:"MuiLinearProgress"})(h)},601:function(t,e,r){"use strict";(function(t){var i=r(923),n=r(924),a=r(925);function o(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(o()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,r){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(t,e,r);if("number"===typeof t){if("string"===typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return l(this,t,e,r)}function l(t,e,r,i){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,i){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(i||0))throw new RangeError("'length' is out of bounds");e=void 0===r&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,r):new Uint8Array(e,r,i);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=f(t,e);return t}(t,e,r,i):"string"===typeof e?function(t,e,r){"string"===typeof r&&""!==r||(r="utf8");if(!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var i=0|p(e,r),n=(t=s(t,i)).write(e,r);n!==i&&(t=t.slice(0,n));return t}(t,e,r):function(t,e){if(u.isBuffer(e)){var r=0|d(e.length);return 0===(t=s(t,r)).length||e.copy(t,0,0,r),t}if(e){if("undefined"!==typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!==typeof e.length||(i=e.length)!==i?s(t,0):f(t,e);if("Buffer"===e.type&&a(e.data))return f(t,e.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function c(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e){if(c(e),t=s(t,e<0?0:0|d(e)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function f(t,e){var r=e.length<0?0:0|d(e.length);t=s(t,r);for(var i=0;i<r;i+=1)t[i]=255&e[i];return t}function d(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function p(t,e){if(u.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return U(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return j(t).length;default:if(i)return U(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,r){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return M(this,e,r);case"utf8":case"utf-8":return k(this,e,r);case"ascii":return P(this,e,r);case"latin1":case"binary":return B(this,e,r);case"base64":return C(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,r);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function m(t,e,r){var i=t[e];t[e]=t[r],t[r]=i}function _(t,e,r,i,n){if(0===t.length)return-1;if("string"===typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=n?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(n)return-1;r=t.length-1}else if(r<0){if(!n)return-1;r=0}if("string"===typeof e&&(e=u.from(e,i)),u.isBuffer(e))return 0===e.length?-1:y(t,e,r,i,n);if("number"===typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):y(t,[e],r,i,n);throw new TypeError("val must be string, number or Buffer")}function y(t,e,r,i,n){var a,o=1,s=t.length,u=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;o=2,s/=2,u/=2,r/=2}function l(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(n){var c=-1;for(a=r;a<s;a++)if(l(t,a)===l(e,-1===c?0:a-c)){if(-1===c&&(c=a),a-c+1===u)return c*o}else-1!==c&&(a-=a-c),c=-1}else for(r+u>s&&(r=s-u),a=r;a>=0;a--){for(var h=!0,f=0;f<u;f++)if(l(t,a+f)!==l(e,f)){h=!1;break}if(h)return a}return-1}function v(t,e,r,i){r=Number(r)||0;var n=t.length-r;i?(i=Number(i))>n&&(i=n):i=n;var a=e.length;if(a%2!==0)throw new TypeError("Invalid hex string");i>a/2&&(i=a/2);for(var o=0;o<i;++o){var s=parseInt(e.substr(2*o,2),16);if(isNaN(s))return o;t[r+o]=s}return o}function b(t,e,r,i){return G(U(e,t.length-r),t,r,i)}function A(t,e,r,i){return G(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,i)}function w(t,e,r,i){return A(t,e,r,i)}function S(t,e,r,i){return G(j(e),t,r,i)}function x(t,e,r,i){return G(function(t,e){for(var r,i,n,a=[],o=0;o<t.length&&!((e-=2)<0);++o)i=(r=t.charCodeAt(o))>>8,n=r%256,a.push(n),a.push(i);return a}(e,t.length-r),t,r,i)}function C(t,e,r){return 0===e&&r===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,r))}function k(t,e,r){r=Math.min(t.length,r);for(var i=[],n=e;n<r;){var a,o,s,u,l=t[n],c=null,h=l>239?4:l>223?3:l>191?2:1;if(n+h<=r)switch(h){case 1:l<128&&(c=l);break;case 2:128===(192&(a=t[n+1]))&&(u=(31&l)<<6|63&a)>127&&(c=u);break;case 3:a=t[n+1],o=t[n+2],128===(192&a)&&128===(192&o)&&(u=(15&l)<<12|(63&a)<<6|63&o)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:a=t[n+1],o=t[n+2],s=t[n+3],128===(192&a)&&128===(192&o)&&128===(192&s)&&(u=(15&l)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&u<1114112&&(c=u)}null===c?(c=65533,h=1):c>65535&&(c-=65536,i.push(c>>>10&1023|55296),c=56320|1023&c),i.push(c),n+=h}return function(t){var e=t.length;if(e<=I)return String.fromCharCode.apply(String,t);var r="",i=0;for(;i<e;)r+=String.fromCharCode.apply(String,t.slice(i,i+=I));return r}(i)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}(),e.kMaxLength=o(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,r){return l(null,t,e,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,r){return function(t,e,r,i){return c(e),e<=0?s(t,e):void 0!==r?"string"===typeof i?s(t,e).fill(r,i):s(t,e).fill(r):s(t,e)}(null,t,e,r)},u.allocUnsafe=function(t){return h(null,t)},u.allocUnsafeSlow=function(t){return h(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,i=e.length,n=0,a=Math.min(r,i);n<a;++n)if(t[n]!==e[n]){r=t[n],i=e[n];break}return r<i?-1:i<r?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!a(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var i=u.allocUnsafe(e),n=0;for(r=0;r<t.length;++r){var o=t[r];if(!u.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,n),n+=o.length}return i},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?k(this,0,t):g.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,r,i,n){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===i&&(i=0),void 0===n&&(n=this.length),e<0||r>t.length||i<0||n>this.length)throw new RangeError("out of range index");if(i>=n&&e>=r)return 0;if(i>=n)return-1;if(e>=r)return 1;if(this===t)return 0;for(var a=(n>>>=0)-(i>>>=0),o=(r>>>=0)-(e>>>=0),s=Math.min(a,o),l=this.slice(i,n),c=t.slice(e,r),h=0;h<s;++h)if(l[h]!==c[h]){a=l[h],o=c[h];break}return a<o?-1:o<a?1:0},u.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},u.prototype.indexOf=function(t,e,r){return _(this,t,e,r,!0)},u.prototype.lastIndexOf=function(t,e,r){return _(this,t,e,r,!1)},u.prototype.write=function(t,e,r,i){if(void 0===e)i="utf8",r=this.length,e=0;else if(void 0===r&&"string"===typeof e)i=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===i&&(i="utf8")):(i=r,r=void 0)}var n=this.length-e;if((void 0===r||r>n)&&(r=n),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var a=!1;;)switch(i){case"hex":return v(this,t,e,r);case"utf8":case"utf-8":return b(this,t,e,r);case"ascii":return A(this,t,e,r);case"latin1":case"binary":return w(this,t,e,r);case"base64":return S(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,e,r);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var I=4096;function P(t,e,r){var i="";r=Math.min(t.length,r);for(var n=e;n<r;++n)i+=String.fromCharCode(127&t[n]);return i}function B(t,e,r){var i="";r=Math.min(t.length,r);for(var n=e;n<r;++n)i+=String.fromCharCode(t[n]);return i}function M(t,e,r){var i=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>i)&&(r=i);for(var n="",a=e;a<r;++a)n+=z(t[a]);return n}function E(t,e,r){for(var i=t.slice(e,r),n="",a=0;a<i.length;a+=2)n+=String.fromCharCode(i[a]+256*i[a+1]);return n}function T(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function D(t,e,r,i,n,a){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<a)throw new RangeError('"value" argument is out of bounds');if(r+i>t.length)throw new RangeError("Index out of range")}function R(t,e,r,i){e<0&&(e=65535+e+1);for(var n=0,a=Math.min(t.length-r,2);n<a;++n)t[r+n]=(e&255<<8*(i?n:1-n))>>>8*(i?n:1-n)}function V(t,e,r,i){e<0&&(e=4294967295+e+1);for(var n=0,a=Math.min(t.length-r,4);n<a;++n)t[r+n]=e>>>8*(i?n:3-n)&255}function F(t,e,r,i,n,a){if(r+i>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(t,e,r,i,a){return a||F(t,0,r,4),n.write(t,e,r,i,23,4),r+4}function O(t,e,r,i,a){return a||F(t,0,r,8),n.write(t,e,r,i,52,8),r+8}u.prototype.slice=function(t,e){var r,i=this.length;if((t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=u.prototype;else{var n=e-t;r=new u(n,void 0);for(var a=0;a<n;++a)r[a]=this[a+t]}return r},u.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||T(t,e,this.length);for(var i=this[t],n=1,a=0;++a<e&&(n*=256);)i+=this[t+a]*n;return i},u.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||T(t,e,this.length);for(var i=this[t+--e],n=1;e>0&&(n*=256);)i+=this[t+--e]*n;return i},u.prototype.readUInt8=function(t,e){return e||T(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||T(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||T(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||T(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||T(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||T(t,e,this.length);for(var i=this[t],n=1,a=0;++a<e&&(n*=256);)i+=this[t+a]*n;return i>=(n*=128)&&(i-=Math.pow(2,8*e)),i},u.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||T(t,e,this.length);for(var i=e,n=1,a=this[t+--i];i>0&&(n*=256);)a+=this[t+--i]*n;return a>=(n*=128)&&(a-=Math.pow(2,8*e)),a},u.prototype.readInt8=function(t,e){return e||T(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||T(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(t,e){e||T(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(t,e){return e||T(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||T(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||T(t,4,this.length),n.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||T(t,4,this.length),n.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||T(t,8,this.length),n.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||T(t,8,this.length),n.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,r,i){(t=+t,e|=0,r|=0,i)||D(this,t,e,r,Math.pow(2,8*r)-1,0);var n=1,a=0;for(this[e]=255&t;++a<r&&(n*=256);)this[e+a]=t/n&255;return e+r},u.prototype.writeUIntBE=function(t,e,r,i){(t=+t,e|=0,r|=0,i)||D(this,t,e,r,Math.pow(2,8*r)-1,0);var n=r-1,a=1;for(this[e+n]=255&t;--n>=0&&(a*=256);)this[e+n]=t/a&255;return e+r},u.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):R(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):R(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):V(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):V(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,r,i){if(t=+t,e|=0,!i){var n=Math.pow(2,8*r-1);D(this,t,e,r,n-1,-n)}var a=0,o=1,s=0;for(this[e]=255&t;++a<r&&(o*=256);)t<0&&0===s&&0!==this[e+a-1]&&(s=1),this[e+a]=(t/o>>0)-s&255;return e+r},u.prototype.writeIntBE=function(t,e,r,i){if(t=+t,e|=0,!i){var n=Math.pow(2,8*r-1);D(this,t,e,r,n-1,-n)}var a=r-1,o=1,s=0;for(this[e+a]=255&t;--a>=0&&(o*=256);)t<0&&0===s&&0!==this[e+a+1]&&(s=1),this[e+a]=(t/o>>0)-s&255;return e+r},u.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):R(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):R(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):V(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):V(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,r){return L(this,t,e,!0,r)},u.prototype.writeFloatBE=function(t,e,r){return L(this,t,e,!1,r)},u.prototype.writeDoubleLE=function(t,e,r){return O(this,t,e,!0,r)},u.prototype.writeDoubleBE=function(t,e,r){return O(this,t,e,!1,r)},u.prototype.copy=function(t,e,r,i){if(r||(r=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-r&&(i=t.length-e+r);var n,a=i-r;if(this===t&&r<e&&e<i)for(n=a-1;n>=0;--n)t[n+e]=this[n+r];else if(a<1e3||!u.TYPED_ARRAY_SUPPORT)for(n=0;n<a;++n)t[n+e]=this[n+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+a),e);return a},u.prototype.fill=function(t,e,r,i){if("string"===typeof t){if("string"===typeof e?(i=e,e=0,r=this.length):"string"===typeof r&&(i=r,r=this.length),1===t.length){var n=t.charCodeAt(0);n<256&&(t=n)}if(void 0!==i&&"string"!==typeof i)throw new TypeError("encoding must be a string");if("string"===typeof i&&!u.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"===typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var a;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"===typeof t)for(a=e;a<r;++a)this[a]=t;else{var o=u.isBuffer(t)?t:U(new u(t,i).toString()),s=o.length;for(a=0;a<r-e;++a)this[a+e]=o[a%s]}return this};var N=/[^+\/0-9A-Za-z-_]/g;function z(t){return t<16?"0"+t.toString(16):t.toString(16)}function U(t,e){var r;e=e||1/0;for(var i=t.length,n=null,a=[],o=0;o<i;++o){if((r=t.charCodeAt(o))>55295&&r<57344){if(!n){if(r>56319){(e-=3)>-1&&a.push(239,191,189);continue}if(o+1===i){(e-=3)>-1&&a.push(239,191,189);continue}n=r;continue}if(r<56320){(e-=3)>-1&&a.push(239,191,189),n=r;continue}r=65536+(n-55296<<10|r-56320)}else n&&(e-=3)>-1&&a.push(239,191,189);if(n=null,r<128){if((e-=1)<0)break;a.push(r)}else if(r<2048){if((e-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function j(t){return i.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(N,"")).length<2)return"";for(;t.length%4!==0;)t+="=";return t}(t))}function G(t,e,r,i){for(var n=0;n<i&&!(n+r>=e.length||n>=t.length);++n)e[n+r]=t[n];return n}}).call(this,r(107))},922:function(t,e,r){(function(e,i,n,a){var o;!function(o){var s=function(){function t(){}return t.getVersion=function(){return y.ccall("csmGetVersion","number",[],[])},t.getLatestMocVersion=function(){return y.ccall("csmGetLatestMocVersion","number",[],[])},t.getMocVersion=function(t){return y.ccall("csmGetMocVersion","number",["number"],[t])},t.getSizeofModel=function(t){return y.ccall("csmGetSizeofModel","number",["number"],[t])},t.reviveMocInPlace=function(t,e){return y.ccall("csmReviveMocInPlace","number",["number","number"],[t,e])},t.initializeModelInPlace=function(t,e,r){return y.ccall("csmInitializeModelInPlace","number",["number","number","number"],[t,e,r])},t.getParameterCount=function(t){return y.ccall("csmGetParameterCount","number",["number"],[t])},t.getParameterIds=function(t){return y.ccall("csmGetParameterIds","number",["number"],[t])},t.getParameterMinimumValues=function(t){return y.ccall("csmGetParameterMinimumValues","number",["number"],[t])},t.getParameterMaximumValues=function(t){return y.ccall("csmGetParameterMaximumValues","number",["number"],[t])},t.getParameterDefaultValues=function(t){return y.ccall("csmGetParameterDefaultValues","number",["number"],[t])},t.getParameterValues=function(t){return y.ccall("csmGetParameterValues","number",["number"],[t])},t.getPartCount=function(t){return y.ccall("csmGetPartCount","number",["number"],[t])},t.getPartIds=function(t){return y.ccall("csmGetPartIds","number",["number"],[t])},t.getPartOpacities=function(t){return y.ccall("csmGetPartOpacities","number",["number"],[t])},t.getPartParentPartIndices=function(t){return y.ccall("csmGetPartParentPartIndices","number",["number"],[t])},t.getDrawableCount=function(t){return y.ccall("csmGetDrawableCount","number",["number"],[t])},t.getDrawableIds=function(t){return y.ccall("csmGetDrawableIds","number",["number"],[t])},t.getDrawableConstantFlags=function(t){return y.ccall("csmGetDrawableConstantFlags","number",["number"],[t])},t.getDrawableDynamicFlags=function(t){return y.ccall("csmGetDrawableDynamicFlags","number",["number"],[t])},t.getDrawableTextureIndices=function(t){return y.ccall("csmGetDrawableTextureIndices","number",["number"],[t])},t.getDrawableDrawOrders=function(t){return y.ccall("csmGetDrawableDrawOrders","number",["number"],[t])},t.getDrawableRenderOrders=function(t){return y.ccall("csmGetDrawableRenderOrders","number",["number"],[t])},t.getDrawableOpacities=function(t){return y.ccall("csmGetDrawableOpacities","number",["number"],[t])},t.getDrawableMaskCounts=function(t){return y.ccall("csmGetDrawableMaskCounts","number",["number"],[t])},t.getDrawableMasks=function(t){return y.ccall("csmGetDrawableMasks","number",["number"],[t])},t.getDrawableVertexCounts=function(t){return y.ccall("csmGetDrawableVertexCounts","number",["number"],[t])},t.getDrawableVertexPositions=function(t){return y.ccall("csmGetDrawableVertexPositions","number",["number"],[t])},t.getDrawableVertexUvs=function(t){return y.ccall("csmGetDrawableVertexUvs","number",["number"],[t])},t.getDrawableIndexCounts=function(t){return y.ccall("csmGetDrawableIndexCounts","number",["number"],[t])},t.getDrawableIndices=function(t){return y.ccall("csmGetDrawableIndices","number",["number"],[t])},t.mallocMoc=function(t){return y.ccall("csmMallocMoc","number",["number"],[t])},t.mallocModelAndInitialize=function(t){return y.ccall("csmMallocModelAndInitialize","number",["number"],[t])},t.malloc=function(t){return y.ccall("csmMalloc","number",["number"],[t])},t.setLogFunction=function(t){y.ccall("csmSetLogFunction",null,["number"],[t])},t.updateModel=function(t){y.ccall("csmUpdateModel",null,["number"],[t])},t.readCanvasInfo=function(t,e,r,i){y.ccall("csmReadCanvasInfo",null,["number","number","number","number"],[t,e,r,i])},t.resetDrawableDynamicFlags=function(t){y.ccall("csmResetDrawableDynamicFlags",null,["number"],[t])},t.free=function(t){y.ccall("csmFree",null,["number"],[t])},t}(),u=function(){function t(){}return t.csmGetVersion=function(){return s.getVersion()},t.csmGetLatestMocVersion=function(){return s.getLatestMocVersion()},t.csmGetMocVersion=function(t){return s.getMocVersion(t._ptr)},t}();o.Version=u;var l=function(){function t(){}return t.csmSetLogFunction=function(e){t.logFunction=e;var r=y.addFunction(t.wrapLogFunction,"vi");s.setLogFunction(r)},t.csmGetLogFunction=function(){return t.logFunction},t.wrapLogFunction=function(e){var r=y.UTF8ToString(e);t.logFunction(r)},t}();o.Logging=l;var c=function(){function t(t){var e=s.mallocMoc(t.byteLength);e&&(new Uint8Array(y.HEAPU8.buffer,e,t.byteLength).set(new Uint8Array(t)),this._ptr=s.reviveMocInPlace(e,t.byteLength),this._ptr||s.free(e))}return t.fromArrayBuffer=function(e){if(!e)return null;var r=new t(e);return r._ptr?r:null},t.prototype._release=function(){s.free(this._ptr),this._ptr=0},t}();o.Moc=c;var h=function(){function t(t){this._ptr=s.mallocModelAndInitialize(t._ptr),this._ptr&&(this.parameters=new d(this._ptr),this.parts=new p(this._ptr),this.drawables=new g(this._ptr),this.canvasinfo=new f(this._ptr))}return t.fromMoc=function(e){var r=new t(e);return r._ptr?r:null},t.prototype.update=function(){s.updateModel(this._ptr)},t.prototype.release=function(){s.free(this._ptr),this._ptr=0},t}();o.Model=h;var f=function(t){if(t){var e=new Float32Array(2),r=e.length*e.BYTES_PER_ELEMENT,i=s.malloc(r),n=new Uint8Array(y.HEAPU8.buffer,i,r);n.set(new Uint8Array(e.buffer));var a=new Float32Array(2),o=a.length*a.BYTES_PER_ELEMENT,u=s.malloc(o),l=new Uint8Array(y.HEAPU8.buffer,u,o);l.set(new Uint8Array(a.buffer));var c=new Float32Array(1),h=c.length*c.BYTES_PER_ELEMENT,f=s.malloc(h),d=new Uint8Array(y.HEAPU8.buffer,f,h);d.set(new Uint8Array(c.buffer)),s.readCanvasInfo(t,n.byteOffset,l.byteOffset,d.byteOffset),e=new Float32Array(n.buffer,n.byteOffset,n.length),a=new Float32Array(l.buffer,l.byteOffset,l.length),c=new Float32Array(d.buffer,d.byteOffset,d.length),this.CanvasWidth=e[0],this.CanvasHeight=e[1],this.CanvasOriginX=a[0],this.CanvasOriginY=a[1],this.PixelsPerUnit=c[0],s.free(n.byteOffset),s.free(l.byteOffset),s.free(d.byteOffset)}};o.CanvasInfo=f;var d=function(t){var e=0;this.count=s.getParameterCount(t),e=s.getParameterCount(t),this.ids=new Array(e);for(var r=new Uint32Array(y.HEAPU32.buffer,s.getParameterIds(t),e),i=0;i<r.length;i++)this.ids[i]=y.UTF8ToString(r[i]);e=s.getParameterCount(t),this.minimumValues=new Float32Array(y.HEAPF32.buffer,s.getParameterMinimumValues(t),e),e=s.getParameterCount(t),this.maximumValues=new Float32Array(y.HEAPF32.buffer,s.getParameterMaximumValues(t),e),e=s.getParameterCount(t),this.defaultValues=new Float32Array(y.HEAPF32.buffer,s.getParameterDefaultValues(t),e),e=s.getParameterCount(t),this.values=new Float32Array(y.HEAPF32.buffer,s.getParameterValues(t),e)};o.Parameters=d;var p=function(t){var e=0;this.count=s.getPartCount(t),e=s.getPartCount(t),this.ids=new Array(e);for(var r=new Uint32Array(y.HEAPU32.buffer,s.getPartIds(t),e),i=0;i<r.length;i++)this.ids[i]=y.UTF8ToString(r[i]);e=s.getPartCount(t),this.opacities=new Float32Array(y.HEAPF32.buffer,s.getPartOpacities(t),e),e=s.getPartCount(t),this.parentIndices=new Int32Array(y.HEAP32.buffer,s.getPartParentPartIndices(t),e)};o.Parts=p;var g=function(){function t(t){this._modelPtr=t;var e=0,r=null;this.count=s.getDrawableCount(t),e=s.getDrawableCount(t),this.ids=new Array(e);for(var i=new Uint32Array(y.HEAPU32.buffer,s.getDrawableIds(t),e),n=0;n<i.length;n++)this.ids[n]=y.UTF8ToString(i[n]);e=s.getDrawableCount(t),this.constantFlags=new Uint8Array(y.HEAPU8.buffer,s.getDrawableConstantFlags(t),e),e=s.getDrawableCount(t),this.dynamicFlags=new Uint8Array(y.HEAPU8.buffer,s.getDrawableDynamicFlags(t),e),e=s.getDrawableCount(t),this.textureIndices=new Int32Array(y.HEAP32.buffer,s.getDrawableTextureIndices(t),e),e=s.getDrawableCount(t),this.drawOrders=new Int32Array(y.HEAP32.buffer,s.getDrawableDrawOrders(t),e),e=s.getDrawableCount(t),this.renderOrders=new Int32Array(y.HEAP32.buffer,s.getDrawableRenderOrders(t),e),e=s.getDrawableCount(t),this.opacities=new Float32Array(y.HEAPF32.buffer,s.getDrawableOpacities(t),e),e=s.getDrawableCount(t),this.maskCounts=new Int32Array(y.HEAP32.buffer,s.getDrawableMaskCounts(t),e),e=s.getDrawableCount(t),this.vertexCounts=new Int32Array(y.HEAP32.buffer,s.getDrawableVertexCounts(t),e),e=s.getDrawableCount(t),this.indexCounts=new Int32Array(y.HEAP32.buffer,s.getDrawableIndexCounts(t),e),e=s.getDrawableCount(t),r=new Int32Array(y.HEAP32.buffer,s.getDrawableMaskCounts(t),e),this.masks=new Array(e);var a=new Uint32Array(y.HEAPU32.buffer,s.getDrawableMasks(t),e);for(n=0;n<a.length;n++)this.masks[n]=new Int32Array(y.HEAP32.buffer,a[n],r[n]);e=s.getDrawableCount(t),r=new Int32Array(y.HEAP32.buffer,s.getDrawableVertexCounts(t),e),this.vertexPositions=new Array(e);var o=new Uint32Array(y.HEAPU32.buffer,s.getDrawableVertexPositions(t),e);for(n=0;n<o.length;n++)this.vertexPositions[n]=new Float32Array(y.HEAPF32.buffer,o[n],2*r[n]);e=s.getDrawableCount(t),r=new Int32Array(y.HEAP32.buffer,s.getDrawableVertexCounts(t),e),this.vertexUvs=new Array(e);var u=new Uint32Array(y.HEAPU32.buffer,s.getDrawableVertexUvs(t),e);for(n=0;n<u.length;n++)this.vertexUvs[n]=new Float32Array(y.HEAPF32.buffer,u[n],2*r[n]);e=s.getDrawableCount(t),r=new Int32Array(y.HEAP32.buffer,s.getDrawableIndexCounts(t),e),this.indices=new Array(e);var l=new Uint32Array(y.HEAPU32.buffer,s.getDrawableIndices(t),e);for(n=0;n<l.length;n++)this.indices[n]=new Uint16Array(y.HEAPU16.buffer,l[n],r[n])}return t.prototype.resetDynamicFlags=function(){s.resetDrawableDynamicFlags(this._modelPtr)},t}();o.Drawables=g;var m=function(){function t(){}return t.hasBlendAdditiveBit=function(t){return 1==(1&t)},t.hasBlendMultiplicativeBit=function(t){return 2==(2&t)},t.hasIsDoubleSidedBit=function(t){return 4==(4&t)},t.hasIsInvertedMaskBit=function(t){return 8==(8&t)},t.hasIsVisibleBit=function(t){return 1==(1&t)},t.hasVisibilityDidChangeBit=function(t){return 2==(2&t)},t.hasOpacityDidChangeBit=function(t){return 4==(4&t)},t.hasDrawOrderDidChangeBit=function(t){return 8==(8&t)},t.hasRenderOrderDidChangeBit=function(t){return 16==(16&t)},t.hasVertexPositionsDidChangeBit=function(t){return 32==(32&t)},t}();o.Utils=m,window.Live2DCubismCore=o;var _=function(){var t="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0;return t=t||e,function(e){var o;e=e||{},o=o||(void 0!==e?e:{});var s,u={};for(s in o)o.hasOwnProperty(s)&&(u[s]=o[s]);var l,c,h,f;c="object"==typeof window,h="function"==typeof importScripts,f="object"==typeof i&&"object"==typeof i.versions&&"string"==typeof i.versions.node&&!c&&!h,l=!c&&!f&&!h;var d,p,g,m,_="";f?(_=n+"/",d=function(t,e){var i=it(t);return i?e?i:i.toString():(g=g||r(926),t=(m=m||r(927)).normalize(t),g.readFileSync(t,e?null:"utf8"))},p=function(t){return(t=d(t,!0)).buffer||(t=new Uint8Array(t)),I(t.buffer),t},1<i.argv.length&&i.argv[1].replace(/\\/g,"/"),i.argv.slice(2),i.on("uncaughtException",(function(t){throw t})),i.on("unhandledRejection",Z),o.inspect=function(){return"[Emscripten Module object]"}):l?("undefined"!=typeof read&&(d=function(t){var e=it(t);return e?et(e):read(t)}),p=function(t){var e;return(e=it(t))?e:"function"==typeof readbuffer?new Uint8Array(readbuffer(t)):(I("object"==typeof(e=read(t,"binary"))),e)},"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print)):(c||h)&&(h?_=self.location.href:document.currentScript&&(_=document.currentScript.src),t&&(_=t),_=0!==_.indexOf("blob:")?_.substr(0,_.lastIndexOf("/")+1):"",d=function(t){try{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText}catch(r){if(t=it(t))return et(t);throw r}},h&&(p=function(t){try{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}catch(r){if(t=it(t))return t;throw r}}));var y,v=o.print||console.log.bind(console),b=o.printErr||console.warn.bind(console);for(s in u)u.hasOwnProperty(s)&&(o[s]=u[s]);function A(){return{exports:function(t,e,r){var i=new ArrayBuffer(8),n=new Int32Array(i),o=new Float32Array(i),s=new Float64Array(i);function u(t){return n[t]}function l(t,e){n[t]=e}function c(){return s[0]}function h(t){s[0]=t}function f(t){o[0]=t}function d(){return o[0]}var p,g,m,_,y,v,b,A,w,S,x,C,k,I,P,B,M,E,T,D,R,V,F,L,O,N,z,U=(p=e.buffer,g=new Uint8Array(p),function(t,e){var r,i;if("undefined"==typeof a)for(r=atob(e),i=0;i<r.length;i++)g[t+i]=r.charCodeAt(i);else for(r=a.from(e,"base64"),i=0;i<r.length;i++)g[t+i]=r[i]});return U(1024,"CgBbQ1NNXSBbRV1Jbml0aWFsaXplRGVmb3JtZXJzKCk6IFVua25vd24gRGVmb3JtZXIgVHlwZS4KAE1PQzMAW0NTTV0gW0VdJXM6ICVzCgBbQ1NNXSBbRV1XYXJwRGVmb3JtZXI6OlRyYW5zZm9ybVRhcmdldCgpIGVycm9yLiBbJWRdIHAwMT0oJS40ZiAsICUuNGYpCgAlcwoAICAAW0NTTV0gW0VdY3NtUmV2aXZlTW9jSW5QbGFjZSBpcyBmYWlsZWQuIENvcnJ1cHRlZCAgbW9jMyBmaWxlLgoAImFkZHJlc3MiIGlzIG51bGwuAFtDU01dIFtXXVJvdGF0aW9uRGVmb3JtZXI6IE5vdCBmb3VuZCB0cmFuc2Zvcm1lZCBEaXJlY3Rpb24uCgAlMDJYIABbQ1NNXSBbRV1jc21SZXZpdmVNb2NJblBsYWNlIGlzIGZhaWxlZC4gVGhlIENvcmUgdW5zdXBwb3J0IGxhdGVyIHRoYW4gbW9jMyB2ZXI6WyVkXS4gVGhpcyBtb2MzIHZlciBpcyBbJWRdLgoAImFkZHJlc3MiIGFsaWdubWVudCBpcyBpbnZhbGlkLgBbQ1NNXSBbRV1VcGRhdGVEZWZvcm1lckhpZXJhcmNoeSgpOiBVbmtub3duIERlZm9ybWVyIFR5cGUuCgBbQ1NNXSBbRV1jc21HZXRNb2NWZXJzaW9uIGlzIGZhaWxlZC4gQ29ycnVwdGVkIG1vYzMgZmlsZS4KACJzaXplIiBpcyBpbnZhbGlkLgBMaXZlMkQgQ3ViaXNtIFNESyBDb3JlIFZlcnNpb24gJWQuJWQuJWQAIm1vZGVsIiBpcyBpbnZhbGlkLgBjc21HZXRNb2NWZXJzaW9uAGNzbVJldml2ZU1vY0luUGxhY2UAY3NtUmVhZENhbnZhc0luZm8AIm91dFNpemVJblBpeGVscyIgaXMgbnVsbC4AIm91dE9yaWdpbkluUGl4ZWxzIiBpcyBudWxsLgAib3V0UGl4ZWxzUGVyVW5pdCIgaXMgbnVsbC4AY3NtR2V0U2l6ZW9mTW9kZWwAIm1vYyIgaXMgaW52YWxpZC4AY3NtSW5pdGlhbGl6ZU1vZGVsSW5QbGFjZQAic2l6ZSIgaXMgaW52YWxpZABjc21VcGRhdGVNb2RlbABjc21HZXRQYXJhbWV0ZXJDb3VudABjc21HZXRQYXJhbWV0ZXJJZHMAY3NtR2V0UGFyYW1ldGVyTWluaW11bVZhbHVlcwBjc21HZXRQYXJhbWV0ZXJNYXhpbXVtVmFsdWVzAGNzbUdldFBhcmFtZXRlckRlZmF1bHRWYWx1ZXMAY3NtR2V0UGFyYW1ldGVyVmFsdWVzAGNzbUdldFBhcnRDb3VudABjc21HZXRQYXJ0SWRzAGNzbUdldFBhcnRPcGFjaXRpZXMAY3NtR2V0UGFydFBhcmVudFBhcnRJbmRpY2VzAGNzbUdldERyYXdhYmxlQ291bnQAY3NtR2V0RHJhd2FibGVJZHMAY3NtR2V0RHJhd2FibGVDb25zdGFudEZsYWdzAGNzbUdldERyYXdhYmxlRHluYW1pY0ZsYWdzAGNzbUdldERyYXdhYmxlVGV4dHVyZUluZGljZXMAY3NtR2V0RHJhd2FibGVEcmF3T3JkZXJzAGNzbUdldERyYXdhYmxlUmVuZGVyT3JkZXJzAGNzbUdldERyYXdhYmxlT3BhY2l0aWVzAGNzbUdldERyYXdhYmxlTWFza0NvdW50cwBjc21HZXREcmF3YWJsZU1hc2tzAGNzbUdldERyYXdhYmxlVmVydGV4Q291bnRzAGNzbUdldERyYXdhYmxlVmVydGV4UG9zaXRpb25zAGNzbUdldERyYXdhYmxlVmVydGV4VXZzAGNzbUdldERyYXdhYmxlSW5kZXhDb3VudHMAY3NtR2V0RHJhd2FibGVJbmRpY2VzAGNzbVJlc2V0RHJhd2FibGVEeW5hbWljRmxhZ3M="),U(2572,"Cw=="),U(2611,"//////8="),U(2680,"GBgAAC0rICAgMFgweAAobnVsbCkAAAAAEQAKABEREQAAAAAFAAAAAAAACQAAAAAL"),U(2736,"EQAPChEREQMKBwABEwkLCwAACQYLAAALAAYRAAAAERER"),U(2785,"Cw=="),U(2794,"EQAKChEREQAKAAACAAkLAAAACQALAAAL"),U(2843,"DA=="),U(2855,"DAAAAAAMAAAAAAkMAAAAAAAMAAAM"),U(2901,"Dg=="),U(2913,"DQAAAAQNAAAAAAkOAAAAAAAOAAAO"),U(2959,"EA=="),U(2971,"DwAAAAAPAAAAAAkQAAAAAAAQAAAQAAASAAAAEhIS"),U(3026,"EgAAABISEgAAAAAAAAk="),U(3075,"Cw=="),U(3087,"CgAAAAAKAAAAAAkLAAAAAAALAAAL"),U(3133,"DA=="),U(3145,"DAAAAAAMAAAAAAkMAAAAAAAMAAAMAAAwMTIzNDU2Nzg5QUJDREVGLTBYKzBYIDBYLTB4KzB4IDB4AGluZgBJTkYAbmFuAE5BTgAu"),U(3232,"AwAAAAQAAAAEAAAABgAAAIP5ogBETm4A/CkVANFXJwDdNPUAYtvAADyZlQBBkEMAY1H+ALveqwC3YcUAOm4kANJNQgBJBuAACeouAByS0QDrHf4AKbEcAOg+pwD1NYIARLsuAJzphAC0JnAAQX5fANaROQBTgzkAnPQ5AItfhAAo+b0A+B87AN7/lwAPmAUAES/vAApaiwBtH20Az342AAnLJwBGT7cAnmY/AC3qXwC6J3UA5evHAD178QD3OQcAklKKAPtr6gAfsV8ACF2NADADVgB7/EYA8KtrACC8zwA29JoA46kdAF5hkQAIG+YAhZllAKAUXwCNQGgAgNj/ACdzTQAGBjEAylYVAMmocwB74mAAa4zAABnERwDNZ8MACejcAFmDKgCLdsQAphyWAESv3QAZV9EApT4FAAUH/wAzfj8AwjLoAJhP3gC7fTIAJj3DAB5r7wCf+F4ANR86AH/yygDxhx0AfJAhAGokfADVbvoAMC13ABU7QwC1FMYAwxmdAK3EwgAsTUEADABdAIZ9RgDjcS0Am8aaADNiAAC00nwAtKeXADdV1QDXPvYAoxAYAE12/ABknSoAcNerAGN8+AB6sFcAFxXnAMBJVgA71tkAp4Q4ACQjywDWincAWlQjAAAfuQDxChsAGc7fAJ8x/wBmHmoAmVdhAKz7RwB+f9gAImW3ADLoiQDmv2AA78TNAGw2CQBdP9QAFt7XAFg73gDem5IA0iIoACiG6ADiWE0AxsoyAAjjFgDgfcsAF8BQAPMdpwAY4FsALhM0AIMSYgCDSAEA9Y5bAK2wfwAe6fIASEpDABBn0wCq3dgArl9CAGphzgAKKKQA05m0AAam8gBcd38Ao8KDAGE8iACKc3gAr4xaAG/XvQAtpmMA9L/LAI2B7wAmwWcAVcpFAMrZNgAoqNIAwmGNABLJdwAEJhQAEkabAMRZxADIxUQATbKRAAAX8wDUQ60AKUnlAP3VEAAAvvwAHpTMAHDO7gATPvUA7PGAALPnwwDH+CgAkwWUAMFxPgAuCbMAC0XzAIgSnACrIHsALrWfAEeSwgB7Mi8ADFVtAHKnkABr5x8AMcuWAHkWSgBBeeIA9N+JAOiUlwDi5oQAmTGXAIjtawBfXzYAu/0OAEiatABnpGwAcXJCAI1dMgCfFbgAvOUJAI0xJQD3dDkAMAUcAA0MAQBLCGgALO5YAEeqkAB05wIAvdYkAPd9pgBuSHIAnxbvAI6UpgC0kfYA0VNRAM8K8gAgmDMA9Ut+ALJjaADdPl8AQF0DAIWJfwBVUikAN2TAAG3YEAAySDIAW0x1AE5x1ABFVG4ACwnBACr1aQAUZtUAJwedAF0EUAC0O9sA6nbFAIf5FwBJa30AHSe6AJZpKQDGzKwArRRUAJDiagCI2YkALHJQAASkvgB3B5QA8zBwAAD8JwDqcagAZsJJAGTgPQCX3YMAoz+XAEOU/QANhowAMUHeAJI5nQDdcIwAF7fnAAjfOwAVNysAXICgAFqAkwAQEZIAD+jYAGyArwDb/0sAOJAPAFkYdgBipRUAYcu7AMeJuQAQQL0A0vIEAEl1JwDrtvYA2yK7AAoUqgCJJi8AZIN2AAk7MwAOlBoAUTqqAB2jwgCv7a4AXCYSAG3CTQAtepwAwFaXAAM/gwAJ8PYAK0CMAG0xmQA5tAcADCAVANjDWwD1ksQAxq1LAE7KpQCnN80A5qk2AKuSlADdQmgAGWPeAHaM7wBoi1IA/Ns3AK6hqwDfFTEAAK6hAAz72gBkTWYA7QW3ACllMABXVr8AR/86AGr5uQB1vvMAKJPfAKuAMABmjPYABMsVAPoiBgDZ5B0APbOkAFcbjwA2zQkATkLpABO+pAAzI7UA8KoaAE9lqADSwaUACz8PAFt4zQAj+XYAe4sEAIkXcgDGplMAb27iAO/rAACbSlgAxNq3AKpmugB2z88A0QIdALHxLQCMmcEAw613AIZI2gD3XaAAxoD0AKzwLwDd7JoAP1y8ANDebQCQxx8AKtu2AKMlOgAAr5oArVOTALZXBAApLbQAS4B+ANoHpwB2qg4Ae1mhABYSKgDcty0A+uX9AInb/gCJvv0A5HZsAAap/AA+gHAAhW4VAP2H/wAoPgcAYWczACoYhgBNveoAs+evAI9tbgCVZzkAMb9bAITXSAAw3xYAxy1DACVhNQDJcM4AMMu4AL9s/QCkAKIABWzkAFrdoAAhb0cAYhLSALlchABwYUkAa1bgAJlSAQBQVTcAHtW3ADPxxAATbl8AXTDkAIUuqQAdssMAoTI2AAi3pADqsdQAFvchAI9p5AAn/3cADAOAAI1ALQBPzaAAIKWZALOi0wAvXQoAtPlCABHaywB9vtAAm9vBAKsXvQDKooEACGpcAC5VFwAnAFUAfxTwAOEHhgAUC2QAlkGNAIe+3gDa/SoAayW2AHuJNAAF8/4Aub+eAGhqTwBKKqgAT8RaAC34vADXWpgA9MeVAA1NjQAgOqYApFdfABQ/sQCAOJUAzCABAHHdhgDJ3rYAv2D1AE1lEQABB2sAjLCsALLA0ABRVUgAHvsOAJVywwCjBjsAwEA1AAbcewDgRcwATin6ANbKyADo80EAfGTeAJtk2ADZvjEApJfDAHdY1ABp48UA8NoTALo6PABGGEYAVXVfANK99QBuksYArC5dAA5E7QAcPkIAYcSHACn96QDn1vMAInzKAG+RNQAI4MUA/9eNAG5q4gCw/cYAkwjBAHxddABrrbIAzW6dAD5yewDGEWoA98+pAClz3wC1yboAtwBRAOKyDQB0uiQA5X1gAHTYigANFSwAgRgMAH5mlAABKRYAn3p2AP39vgBWRe8A2X42AOzZEwCLurkAxJf8ADGoJwDxbsMAlMU2ANioVgC0qLUAz8wOABKJLQBvVzQALFaJAJnO4wDWILkAa16qAD4qnAARX8wA/QtKAOH0+wCOO20A4oYsAOnUhAD8tKkA7+7RAC41yQAvOWEAOCFEABvZyACB/AoA+0pqAC8c2ABTtIQATpmMAFQizAAqVdwAwMbWAAsZlgAacLgAaZVkACZaYAA/Uu4AfxEPAPS1EQD8y/UANLwtADS87gDoXcwA3V5gAGeOmwCSM+8AyRe4AGFYmwDhV7wAUYPGANg+EADdcUgALRzdAK8YoQAhLEYAWfPXANl6mACeVMAAT4b6AFYG/ADlea4AiSI2ADitIgBnk9wAVeiqAIImOADK55sAUQ2kAJkzsQCp1w4AaQVIAGWy8AB/iKcAiEyXAPnRNgAhkrMAe4JKAJjPIQBAn9wA3EdVAOF0OgBn60IA/p3fAF7UXwB7Z6QAuqx6AFX2ogAriCMAQbpVAFluCAAhKoYAOUeDAInj5gDlntQASftAAP9W6QAcD8oAxVmKAJT6KwDTwcUAD8XPANtargBHxYYAhUNiACGGOwAseZQAEGGHACpMewCALBoAQ78SAIgmkAB4PIkAqMTkAOXbewDEOsIAJvTqAPdnigANkr8AZaMrAD2TsQC9fAsApFHcACfdYwBp4d0AmpQZAKgplQBozigACe20AESfIABOmMoAcIJjAH58IwAPuTIAp/WOABRW5wAh8QgAtZ0qAG9+TQClGVEAtfmrAILf1gCW3WEAFjYCAMQ6nwCDoqEAcu1tADmNegCCuKkAazJcAEYnWwAANO0A0gB3APz0VQABWU0A4HGA"),U(6019,"QPsh+T8AAAAALUR0PgAAAICYRvg8AAAAYFHMeDsAAACAgxvwOQAAAEAgJXo4AAAAgCKC4zYAAAAAHfNpNThj7T7aD0k/Xph7P9oPyT9pN6wxaCEiM7QPFDNoIaIz2w9JP9sPSb/kyxZA5MsWwAAAAAAAAACA2w9JQNsPScAAAIA/AADAPwAAAADcz9E1AAAAAADAFT8="),U(6168,"BQ=="),U(6180,"DA=="),U(6204,"DQAAAA4AAADIGQAAAAQ="),U(6228,"AQ=="),U(6243,"Cv////8="),U(6500,"9B0="),m={Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array,NaN:NaN,Infinity:1/0,Math:Math},_=t,y=e.buffer,v=_.memory,b=r,A=new m.Int8Array(y),w=new m.Int16Array(y),S=new m.Int32Array(y),x=new m.Uint8Array(y),C=new m.Uint16Array(y),k=new m.Uint32Array(y),I=new m.Float32Array(y),P=new m.Float64Array(y),B=m.Math.imul,M=m.Math.fround,E=m.Math.abs,T=m.Math.clz32,D=m.Math.min,m.Math.max,R=m.Math.floor,m.Math.ceil,m.Math.sqrt,_.abort,m.NaN,V=m.Infinity,F=_.emscripten_memcpy_big,L=_.emscripten_resize_heap,O=_.fd_write,N=5251088,z=0,b[1]=function(t,e,r,i){t|=0,e|=0,r|=0,i|=0;var n,a=0,o=M(0),s=M(0),u=0,l=M(0),c=M(0),h=M(0),f=0,d=M(0),p=M(0),g=M(0),m=M(0),_=M(0),y=M(0),v=M(0),b=M(0),A=M(0),w=M(0),x=M(0),C=M(0),k=M(0),T=M(0),D=0,R=0,V=M(0),F=M(0),L=0,O=0,z=M(0),U=M(0),j=0,Y=0,X=0,H=0,W=0,Z=0,q=0,Q=0,J=0,K=M(0),$=M(0),tt=M(0),et=M(0),rt=M(0),it=M(0),nt=M(0),at=0,ot=0;if(N=n=N-32|0,1<=(0|i))for(W=(D=S[t+4>>2])+-1|0,Z=(O=S[t>>2])+-1|0,q=Y=(f=S[t+20>>2])+(D<<3)|0,Q=X=((j=B(O,R=D+1|0))<<3)+f|0,J=H=(D+j<<3)+f|0,z=M(0|O),U=M(0|D),at=S[t+8>>2],t=0;;){h=I[4+(a=(L=t<<3)+e|0)>>2],s=M(h*z),d=I[a>>2],o=M(d*U),a=h>=M(1);t:if(h<M(0)^1&&!(a|d>=M(1)|d<M(0)))a=M(E(y=s))<M(2147483648)?~~s:-2147483648,c=M(y-M(0|a)),u=M(E(s=o))<M(2147483648)?~~o:-2147483648,l=M(s-M(0|u)),a=u+B(a,R)|0,s=at?(o=M(M(1)-c),s=M(M(1)-l),u=(a<<3)+f|0,a=(a+R<<3)+f|0,I[r+L>>2]=M(M(M(o*M(s*I[u>>2]))+M(o*M(l*I[u+8>>2])))+M(c*M(s*I[a>>2])))+M(c*M(l*I[a+8>>2])),o=M(M(M(o*M(s*I[u+4>>2]))+M(o*M(l*I[u+12>>2])))+M(c*M(s*I[a+4>>2]))),M(c*M(l*I[a+12>>2]))):M(l+c)<=M(1)?(o=M(M(M(1)-l)-c),u=(a<<3)+f|0,a=(a+R<<3)+f|0,I[r+L>>2]=M(M(o*I[u>>2])+M(l*I[u+8>>2]))+M(c*I[a>>2]),o=M(M(o*I[u+4>>2])+M(l*I[u+12>>2])),M(c*I[a+4>>2])):(o=M(M(l+M(-1))+c),u=(a+R<<3)+f|0,s=M(M(1)-l),h=M(M(1)-c),a=(a<<3)+f|0,I[r+L>>2]=M(M(o*I[u+8>>2])+M(s*I[u>>2]))+M(h*I[a+8>>2]),o=M(M(o*I[u+12>>2])+M(s*I[u+4>>2])),M(h*I[a+12>>2]));else{if(ot||(y=I[J+4>>2],K=I[f+4>>2],p=M(y-K),$=I[q+4>>2],tt=I[Q+4>>2],g=M($-tt),v=M(M(p-g)*M(.5)),et=I[H>>2],rt=I[f>>2],m=M(et-rt),it=I[Y>>2],nt=I[X>>2],_=M(it-nt),b=M(M(m-_)*M(.5)),g=M(M(g+p)*M(.5)),_=M(M(_+m)*M(.5)),ot=1,p=M(M(M(M(M(K+$)+tt)+y)*M(.25))-M(p*M(.5))),m=M(M(M(M(M(rt+it)+nt)+et)*M(.25))-M(m*M(.5)))),!(h<M(3)^1|d>M(-2)^1|d<M(3)^1|h>M(-2)^1)){e:if(d<=M(0)){if(h<=M(0)){c=M(M(h+M(2))*M(.5)),l=M(M(d+M(2))*M(.5)),o=M(v+v),V=M(p-o),s=M(b+b),F=M(m-s),k=M(p-M(g+g)),A=M(k-o),T=M(m-M(_+_)),w=M(T-s),x=I[f+4>>2],C=I[f>>2];break e}if(a){o=M(v*M(3)),s=M(p-M(g+g)),k=M(o+s),A=M(b*M(3)),w=M(m-M(_+_)),T=M(A+w),c=M(M(h+M(-1))*M(.5)),l=M(M(d+M(2))*M(.5)),x=M(o+p),C=M(A+m),A=M(v+s),w=M(b+w),V=I[Q+4>>2],F=I[X>>2];break e}o=M(p-M(g+g)),a=Z,u=M(E(s))<M(2147483648)?~~s:-2147483648,c=M(0|(a=(0|u)==(0|O)?a:u)),l=M(c/z),A=M(M(l*v)+o),y=M(l*b),l=M(m-M(_+_)),w=M(y+l),h=M(M(0|(u=a+1|0))/z),k=M(M(h*v)+o),T=M(M(h*b)+l),l=M(M(d+M(2))*M(.5)),c=M(s-c),a=(B(a,R)<<3)+f|0,V=I[a+4>>2],F=I[a>>2],a=(B(u,R)<<3)+f|0,x=I[a+4>>2],C=I[a>>2]}else if(d>=M(1)){if(h<=M(0)){c=M(M(h+M(2))*M(.5)),l=M(M(d+M(-1))*M(.5)),o=M(v+v),A=M(M(g+p)-o),s=M(b+b),w=M(M(_+m)-s),x=M(M(g*M(3))+p),V=M(x-o),C=M(M(_*M(3))+m),F=M(C-s),k=I[q+4>>2],T=I[Y>>2];break e}if(a){o=M(v*M(3)),k=M(o+M(g+p)),s=M(b*M(3)),T=M(s+M(_+m)),y=o,o=M(M(g*M(3))+p),x=M(y+o),y=s,s=M(M(_*M(3))+m),C=M(y+s),c=M(M(h+M(-1))*M(.5)),l=M(M(d+M(-1))*M(.5)),V=M(v+o),F=M(b+s),A=I[J+4>>2],w=I[H>>2];break e}o=M(M(g*M(3))+p),a=Z,u=M(E(s))<M(2147483648)?~~s:-2147483648,c=M(0|(a=(0|u)==(0|O)?a:u)),l=M(c/z),V=M(M(l*v)+o),y=M(l*b),l=M(M(_*M(3))+m),F=M(y+l),h=M(M(0|(u=a+1|0))/z),x=M(M(h*v)+o),C=M(M(h*b)+l),l=M(M(d+M(-1))*M(.5)),c=M(s-c),a=(B(a,R)+D<<3)+f|0,A=I[a+4>>2],w=I[a>>2],a=(B(u,R)+D<<3)+f|0,k=I[a+4>>2],T=I[a>>2]}else h<=M(0)?(c=M(M(h+M(2))*M(.5)),a=W,u=M(E(s=o))<M(2147483648)?~~o:-2147483648,o=M(0|(a=(0|u)==(0|D)?a:u)),l=M(s-o),o=M(o/U),s=M(v+v),A=M(M(M(o*g)+p)-s),y=M(M(o*_)+m),o=M(b+b),w=M(y-o),h=M(M(0|(u=a+1|0))/U),V=M(M(M(h*g)+p)-s),F=M(M(M(h*_)+m)-o),k=I[4+(a=(a<<3)+f|0)>>2],T=I[a>>2],x=I[4+(a=(u<<3)+f|0)>>2],C=I[a>>2]):a?(y=s=M(v*M(3)),a=W,u=M(E(o))<M(2147483648)?~~o:-2147483648,l=M(0|(a=(0|u)==(0|D)?a:u)),c=M(l/U),k=M(y+M(M(c*g)+p)),d=M(b*M(3)),T=M(d+M(M(c*_)+m)),y=s,s=M(M(0|(u=a+1|0))/U),x=M(y+M(M(s*g)+p)),C=M(d+M(M(s*_)+m)),c=M(M(h+M(-1))*M(.5)),l=M(o-l),A=I[4+(a=(a+j<<3)+f|0)>>2],w=I[a>>2],V=I[4+(a=(u+j<<3)+f|0)>>2],F=I[a>>2]):(P[16+n>>3]=h,S[n>>2]=t,P[8+n>>3]=d,G(4,1104,n));if(M(l+c)<=M(1)){I[r+L>>2]=M(w+M(M(F-w)*l))+M(M(T-w)*c),o=M(A+M(M(V-A)*l)),s=M(M(k-A)*c);break t}o=M(M(1)-l),s=M(M(1)-c),I[r+L>>2]=M(C+M(M(T-C)*o))+M(M(F-C)*s),o=M(x+M(M(k-x)*o)),s=M(M(V-x)*s);break t}I[r+L>>2]=M(h*b)+M(M(d*_)+m),o=M(h*v),s=M(M(d*g)+p)}if(I[4+(r+L|0)>>2]=o+s,(0|i)==(0|(t=t+1|0)))break}N=32+n|0},b[2]=function(t,e,r){t|=0,e|=0;var i,n,a,o=0;if(n=S[140+(r|=0)>>2],a=S[r+136>>2],i=S[t+24>>2],-1==(0|(o=S[t+4>>2])))return S[(t=e<<2)+a>>2]=S[i+16>>2],void(S[t+n>>2]=1065353216);r=S[r+4>>2]+(o<<5)|0,o=S[i+20>>2],b[S[r+20>>2]](S[r+24>>2],o,o,S[i+12>>2]),e<<=2,t=S[t+4>>2]<<2,I[e+a>>2]=I[i+16>>2]*I[t+a>>2],S[e+n>>2]=S[t+n>>2]},b[3]=function(t,e,r,i){t|=0,e|=0,r|=0,i|=0;var n,a=M(0),o=M(0),s=M(0),l=M(0),c=0,h=M(0),d=0,p=M(0),g=M(0),m=M(0);if(c=S[t+28>>2],o=function(t){var e,r=M(0),i=0,n=0,a=0;N=e=N-16|0,f(t);t:if((i=2147483647&(n=u(0)))>>>0<=1061752794){if(r=M(1),i>>>0<964689920)break t;r=W(+t)}else if(i>>>0<=1081824209){if(a=+t,1075235812<=i>>>0){r=M(-W(((0|n)<0?3.141592653589793:-3.141592653589793)+a));break t}if((0|n)<=-1){r=H(a+1.5707963267948966);break t}r=H(1.5707963267948966-a)}else if(i>>>0<=1088565717){if(1085271520<=i>>>0){r=W(+t+((0|n)<0?6.283185307179586:-6.283185307179586));break t}if((0|n)<=-1){r=H(-4.71238898038469-t);break t}r=H(t-4.71238898038469)}else if(r=M(t-t),!(2139095040<=i>>>0))if((i=3&nt(t,8+e|0))>>>0<=2){switch(i-1|0){default:r=W(P[8+e>>3]);break t;case 0:r=H(-P[8+e>>3]);break t;case 1:}r=M(-W(P[8+e>>3]))}else r=H(P[8+e>>3]);return N=16+e|0,r}(a=M(M(M(I[t>>2]+I[t+20>>2])*M(3.1415927410125732))/M(180))),s=I[t+8>>2],n=S[t+24>>2],a=function(t){var e,r=0,i=0,n=0;N=e=N-16|0,f(t);t:if((r=2147483647&(n=u(0)))>>>0<=1061752794){if(r>>>0<964689920)break t;t=H(+t)}else if(r>>>0<=1081824209){if(i=+t,r>>>0<=1075235811){if((0|n)<=-1){t=M(-W(i+1.5707963267948966));break t}t=W(i+-1.5707963267948966);break t}t=H(-(((0|n)<0?3.141592653589793:-3.141592653589793)+i))}else if(r>>>0<=1088565717){if(i=+t,r>>>0<=1085271519){if((0|n)<=-1){t=W(i+4.71238898038469);break t}t=M(-W(i+-4.71238898038469));break t}t=H(((0|n)<0?6.283185307179586:-6.283185307179586)+i)}else if(2139095040<=r>>>0)t=M(t-t);else if((r=3&nt(t,8+e|0))>>>0<=2){switch(r-1|0){default:t=H(P[8+e>>3]);break t;case 0:t=W(P[8+e>>3]);break t;case 1:}t=H(-P[8+e>>3])}else t=M(-W(P[8+e>>3]));return N=16+e|0,t}(a),0<(0|i))for(o=M(s*o),h=M(c?-1:1),g=M(o*h),l=M(n?-1:1),m=M(l*M(s*a)),o=M(l*o),s=M(M(s*M(-a))*h),a=I[t+16>>2],h=I[t+12>>2];c=(t=d<<3)+r|0,l=I[(t=t+e|0)>>2],p=I[t+4>>2],I[c+4>>2]=a+M(M(m*l)+M(g*p)),I[c>>2]=h+M(M(o*l)+M(s*p)),(0|(d=d+1|0))!=(0|i););},b[4]=function(t,e,r){t|=0,e|=0,r|=0;var i,n,a,o,s,u=0,l=M(0),c=M(0),h=0,f=M(0),d=M(0),p=M(0),g=M(0);if(N=i=N+-64|0,a=S[r+140>>2],o=S[r+136>>2],n=S[t+24>>2],-1!=(0|(s=S[t+4>>2]))){u=S[r+4>>2],h=S[n+12>>2],S[24+i>>2]=h,r=S[n+16>>2],S[28+i>>2]=r,S[16+i>>2]=0,d=1==S[8+(u=u+(s<<5)|0)>>2]?M(-10):M(-.10000000149011612),I[20+i>>2]=d,S[60+i>>2]=r,S[56+i>>2]=h,b[S[u+20>>2]](S[u+24>>2],56+i|0,48+i|0,1),f=M(1),h=9;t:{for(;;){if(r=h,p=M(f*M(0)),I[32+i>>2]=p+I[56+i>>2],g=M(d*f),I[36+i>>2]=g+I[60+i>>2],b[S[u+20>>2]](S[u+24>>2],32+i|0,40+i|0,1),c=M(I[44+i>>2]-I[52+i>>2]),I[44+i>>2]=c,l=M(I[40+i>>2]-I[48+i>>2]),I[40+i>>2]=l,c!=M(0)||l!=M(0)){r=S[44+i>>2],S[8+i>>2]=S[40+i>>2],S[12+i>>2]=r;break t}if(I[32+i>>2]=I[56+i>>2]-p,I[36+i>>2]=I[60+i>>2]-g,b[S[u+20>>2]](S[u+24>>2],32+i|0,40+i|0,1),c=M(I[40+i>>2]-I[48+i>>2]),I[40+i>>2]=c,l=M(I[44+i>>2]-I[52+i>>2]),(I[44+i>>2]=l)!=M(0)||c!=M(0)){I[12+i>>2]=-l,I[8+i>>2]=-c;break t}if(h=r+-1|0,f=M(f*M(.10000000149011612)),!r)break}G(3,1265,0)}l=function(t,e){var r=M(0);if((r=M(yt(I[t+4>>2],I[t>>2])-yt(I[e+4>>2],I[e>>2])))<M(-3.1415927410125732))for(;(r=M(r+M(6.2831854820251465)))<M(-3.1415927410125732););if(r>M(3.1415927410125732))for(;(r=M(r+M(-6.2831854820251465)))>M(3.1415927410125732););return r}(16+i|0,8+i|0),b[S[u+20>>2]](S[u+24>>2],24+i|0,24+i|0,1),S[n+12>>2]=S[24+i>>2],S[n+16>>2]=S[28+i>>2],I[n+20>>2]=I[n+20>>2]+M(M(l*M(-180))/M(3.1415927410125732)),e<<=2,t=S[t+4>>2]<<2,I[e+o>>2]=I[n+4>>2]*I[t+o>>2],l=M(I[n+8>>2]*I[t+a>>2]),I[e+a>>2]=l,I[n+8>>2]=l}else S[(t=e<<2)+o>>2]=S[n+4>>2],S[t+a>>2]=S[n+8>>2];N=64+i|0},b[5]=function(t){t|=0;var e,r,i=0,n=0,a=0,o=0,s=0,u=M(0),l=0,c=0,h=0,f=0,d=0,p=0,g=0,m=0,_=0,y=0,v=0;if(h=S[t+248>>2],r=S[t+204>>2],e=S[t+200>>2],!((0|(s=S[t+220>>2]))<1)){for(l=S[t+236>>2],o=S[t+216>>2],a=S[t+224>>2];I[(n=i<<2)+l>>2]=I[n+a>>2]*I[n+o>>2],(0|s)!=(0|(i=i+1|0)););if(!((0|s)<1))for(l=S[t+240>>2],o=S[t+216>>2],a=S[t+228>>2],i=0;I[(n=i<<2)+l>>2]=I[n+a>>2]*I[n+o>>2],(0|s)!=(0|(i=i+1|0)););}if(1<=(0|e))for(m=S[t+208>>2],s=l=0;;){if(S[h>>2]){f=(a=S[(n=l<<2)+S[t+212>>2]>>2])+s|0;t:{if((0|a)<=0)S[n+S[t+276>>2]>>2]=0;else{for(o=S[t+236>>2],u=M(0),i=s;u=M(u+I[o+(i<<2)>>2]),(0|(i=i+1|0))<(0|f););if(I[n+S[t+276>>2]>>2]=u,!((0|a)<1)){for(o=S[t+240>>2],u=M(0),i=s;u=M(u+I[o+(i<<2)>>2]),(0|(i=i+1|0))<(0|f););break t}}u=M(0)}if(i=n+S[t+268>>2]|0,u=M(u+M(.0010000000474974513)),o=M(E(u))<M(2147483648)?~~u:-2147483648,S[i>>2]=o,o=(i=S[12+((l<<4)+r|0)>>2])<<1,d=S[n+S[t+272>>2]>>2],(i=(0|i)<1)||Z(d,0,(1<(0|o)?o:1)<<2),!(i|(0|a)<1))for(p=S[t+244>>2],_=S[t+216>>2],y=S[t+232>>2],n=s;;){for(c=(i=n<<2)+_|0,v=S[i+y>>2],a=i=0;I[p+(g=a<<2)>>2]=I[v+g>>2]*I[c>>2],(0|(a=a+1|0))<(0|o););for(;I[(c=(a=i<<2)+d|0)>>2]=I[a+p>>2]+I[c>>2],(0|(i=i+1|0))<(0|o););if(!((0|(n=n+1|0))<(0|f)))break}}if(h=h+4|0,s=S[(l<<2)+m>>2]+s|0,(0|e)==(0|(l=l+1|0)))break}},b[6]=function(t){t|=0;var e,r,i=0,n=0,a=0,o=0,s=0,u=0,l=M(0),c=0,h=0,f=0,d=0,p=0,g=0,m=0,_=0,y=0,v=0;if(h=S[t+172>>2],e=S[t- -64>>2],r=S[t+68>>2],1<=(0|(a=S[t+92>>2])))for(s=S[t+104>>2],u=S[t+88>>2],n=S[t+96>>2];I[(o=i<<2)+s>>2]=I[n+o>>2]*I[u+o>>2],(0|a)!=(0|(i=i+1|0)););if(1<=(0|e))for(g=S[t+80>>2],o=s=0;;){if(S[h>>2]){if(f=(i=S[S[t+84>>2]+(s<<2)>>2])+o|0,a=(0|i)<1)l=M(0);else for(u=S[t+104>>2],l=M(0),i=o;l=M(l+I[u+(i<<2)>>2]),(0|(i=i+1|0))<(0|f););if(i=B(s,24)+r|0,I[i+16>>2]=l,u=(n=S[i+12>>2])<<1,(n=(0|n)<1)||Z(S[i+20>>2],0,(1<(0|u)?u:1)<<2),!(n|a))for(m=S[i+20>>2],d=S[t+108>>2],_=S[t+88>>2],y=S[t+100>>2],a=o;;){for(c=(i=a<<2)+_|0,v=S[i+y>>2],n=i=0;I[(p=n<<2)+d>>2]=I[v+p>>2]*I[c>>2],(0|(n=n+1|0))<(0|u););for(;I[(c=(n=i<<2)+m|0)>>2]=I[n+d>>2]+I[c>>2],(0|(i=i+1|0))<(0|u););if(!((0|(a=a+1|0))<(0|f)))break}}if(h=h+4|0,o=S[(s<<2)+g>>2]+o|0,(0|e)==(0|(s=s+1|0)))break}},b[7]=function(t){t|=0;var e,r=0,i=M(0),n=0,a=0,o=0,s=0,u=0,l=0,c=0;if(u=S[t+36>>2],e=S[t+4>>2],1<=(0|(a=S[t+24>>2])))for(l=S[t+32>>2],c=S[t+20>>2],n=S[t+28>>2];I[(o=r<<2)+l>>2]=I[n+o>>2]*I[o+c>>2],(0|a)!=(0|(r=r+1|0)););if(1<=(0|e))for(o=S[t+12>>2],n=0;;){if(S[u>>2]){if((0|(r=S[(a=s<<2)+S[t+16>>2]>>2]))<1)i=M(0);else for(l=r+n|0,c=S[t+32>>2],i=M(0),r=n;i=M(i+I[c+(r<<2)>>2]),(0|(r=r+1|0))<(0|l););r=a+S[t+44>>2]|0,i=M(i+M(.0010000000474974513)),M(E(i))<M(2147483648)?S[r>>2]=~~i:S[r>>2]=-2147483648}if(u=u+4|0,n=S[o+(s<<2)>>2]+n|0,(0|e)==(0|(s=s+1|0)))break}},b[8]=function(t){t|=0;var e,r,i=0,n=0,a=M(0),o=0,s=0,u=0,l=0,c=0,h=0,f=0;if(f=S[t+176>>2],r=S[t+72>>2],e=S[t+76>>2],!((0|(u=S[t+124>>2]))<1)){for(l=S[t+148>>2],o=S[t+120>>2],s=S[t+128>>2];I[(n=i<<2)+l>>2]=I[n+s>>2]*I[n+o>>2],(0|u)!=(0|(i=i+1|0)););if(!((0|u)<1)){for(l=S[t+152>>2],o=S[t+120>>2],s=S[t+132>>2],i=0;I[(n=i<<2)+l>>2]=I[n+s>>2]*I[n+o>>2],(0|u)!=(0|(i=i+1|0)););if(!((0|u)<1)){for(l=S[t+156>>2],o=S[t+120>>2],s=S[t+136>>2],i=0;I[(n=i<<2)+l>>2]=I[n+s>>2]*I[n+o>>2],(0|u)!=(0|(i=i+1|0)););if(!((0|u)<1)){for(l=S[t+160>>2],o=S[t+120>>2],s=S[t+140>>2],i=0;I[(n=i<<2)+l>>2]=I[n+s>>2]*I[n+o>>2],(0|u)!=(0|(i=i+1|0)););if(!((0|u)<1))for(l=S[t+164>>2],o=S[t+120>>2],s=S[t+144>>2],i=0;I[(n=i<<2)+l>>2]=I[n+s>>2]*I[n+o>>2],(0|u)!=(0|(i=i+1|0)););}}}}if(1<=(0|r))for(l=S[t+112>>2],s=0;;){if(S[f>>2]){t:{e:{r:{i:{if((0|(n=S[S[t+116>>2]+(c<<2)>>2]))<=0)S[4+((c<<5)+e|0)>>2]=0;else{for(h=n+s|0,o=S[t+148>>2],a=M(0),i=s;a=M(a+I[o+(i<<2)>>2]),(0|(i=i+1|0))<(0|h););if(I[4+(u=(c<<5)+e|0)>>2]=a,!(n=(0|n)<1)){for(o=S[t+152>>2],a=M(0),i=s;a=M(a+I[o+(i<<2)>>2]),(0|(i=i+1|0))<(0|h););if(I[u+20>>2]=a,n)break i;for(o=S[t+156>>2],a=M(0),i=s;a=M(a+I[o+(i<<2)>>2]),(0|(i=i+1|0))<(0|h););if(I[u+12>>2]=a,n)break r;for(o=S[t+160>>2],a=M(0),i=s;a=M(a+I[o+(i<<2)>>2]),(0|(i=i+1|0))<(0|h););if(I[u+16>>2]=a,n)break e;for(o=S[t+164>>2],a=M(0),i=s;a=M(a+I[o+(i<<2)>>2]),(0|(i=i+1|0))<(0|h););break t}}S[20+((c<<5)+e|0)>>2]=0}S[12+((c<<5)+e|0)>>2]=0}S[16+((c<<5)+e|0)>>2]=0}a=M(0)}I[8+((c<<5)+e|0)>>2]=a}if(f=f+4|0,s=S[l+(c<<2)>>2]+s|0,(0|r)==(0|(c=c+1|0)))break}},b[9]=function(t){t|=0;var e,r=0,i=0,n=0,a=0,o=0,s=M(0),u=0,l=0,c=0,h=0;if(e=S[t+340>>2],1<=(0|(n=S[t+360>>2])))for(u=S[t+368>>2],l=S[t+356>>2],i=S[t+364>>2];I[(a=r<<2)+u>>2]=I[i+a>>2]*I[a+l>>2],(0|n)!=(0|(r=r+1|0)););if(1<=(0|e))for(c=S[t+348>>2],h=S[t+344>>2],a=S[t+352>>2],i=0;;){if((0|(r=S[(n=o<<2)+a>>2]))<1)s=M(0);else for(u=r+i|0,l=S[t+368>>2],s=M(0),r=i;s=M(s+I[l+(r<<2)>>2]),(0|(r=r+1|0))<(0|u););if(I[20+(B(o,24)+h|0)>>2]=s,i=S[n+c>>2]+i|0,(0|e)==(0|(o=o+1|0)))break}},b[10]=function(t){var e=0,r=0,i=0,n=0,a=0,o=0,s=0;if(!(S[380+(t|=0)>>2]||(0|(e=S[t+200>>2]))<1))for(o=(r=S[t+204>>2])+(e<<4)|0,e=S[t+248>>2],n=S[t+272>>2];;){if(S[e>>2]&&(t=1,!((0|(i=S[r+12>>2]))<1)))for(i<<=1,s=S[n>>2];I[(a=(t<<2)+s|0)>>2]=-I[a>>2],(0|(t=t+2|0))<(0|i););if(n=n+4|0,e=e+4|0,!((r=r+16|0)>>>0<o>>>0))break}},b[11]=function(t,e,r){e|=0,r|=0;var i,n=0;return K(i=S[20+(t|=0)>>2],e,n=r>>>0<(n=S[t+16>>2]-i|0)>>>0?r:n),S[t+20>>2]=n+S[t+20>>2],0|r},b[12]=function(t){return 0},b[13]=function(t,e,r){e|=0,r|=0;var i,n=0,a=0,o=0,s=0,u=0;for(N=i=N-32|0,n=S[28+(t|=0)>>2],S[16+i>>2]=n,o=S[t+20>>2],S[28+i>>2]=r,S[24+i>>2]=e,e=o-n|0,o=(S[20+i>>2]=e)+r|0,s=2,e=16+i|0;;){t:{if((a=(n=0)|O(S[t+60>>2],0|e,0|s,12+i|0))&&(S[1906]=a,n=-1),(0|(n=n?S[12+i>>2]=-1:S[12+i>>2]))!=(0|o)){if(-1<(0|n))break t;S[t+28>>2]=0,S[t+16>>2]=0,S[t+20>>2]=0,S[t>>2]=32|S[t>>2],2!=((t=0)|s)&&(t=r-S[e+4>>2]|0)}else e=S[t+44>>2],S[t+28>>2]=e,S[t+20>>2]=e,S[t+16>>2]=e+S[t+48>>2],t=r;return N=32+i|0,0|t}a=n-((u=(a=S[e+4>>2])>>>0<n>>>0)?a:0)|0,S[(e=u?e+8|0:e)>>2]=a+S[e>>2],S[e+4>>2]=S[e+4>>2]-a,o=o-n|0,s=s-u|0}},b[14]=function(t,e,r,i){return z=0},b[15]=function(t,e,r,i,n,a){t|=0,e=+e,r|=0,i|=0,n|=0,a|=0;var o,s,f,d=0,p=0,g=0,m=0,_=0,y=0,v=0,b=0,w=0,C=0,k=0,I=0,P=0,M=0,T=0,D=0,R=0;if(S[44+(N=o=N-560|0)>>2]=0,h(+e),d=0|u(1),1,f=4294967295<u(0)>>>0?0:1,s=(0|d)<-1||(0|d)<=-1&&f?(h(+(e=-e)),d=0|u(1),u(0),T=1,3184):2048&n?(T=1,3187):(T=1&n)?3190:3185,2146435072!=(2146435072&d))if(e=function t(e,r){var i,n,a=0;if(h(+e),a=0|u(1),i=0|u(0),2047!=(0|(a=(n=a)>>>20&2047))){if(!a)return a=r,r=0==e?0:(e=t(0x10000000000000000*e,r),S[r>>2]+-64|0),S[a>>2]=r,e;S[r>>2]=a+-1022,l(0,0|i),l(1,-2146435073&n|1071644672),e=+c()}return e}(e,44+o|0),0!=(e+=e)&&(S[44+o>>2]=S[44+o>>2]+-1),I=16+o|0,97!=(0|(D=32|a))){for(d=(0|i)<0,0!=e?(m=S[44+o>>2]+-28|0,S[44+o>>2]=m,e*=268435456):m=S[44+o>>2],y=d?6:i,g=C=(0|m)<0?48+o|0:336+o|0;d=e<4294967296&0<=e?~~e>>>0:0,g=(i=g)+4|0,0!=(e=1e9*(e-((S[i>>2]=d)>>>0))););if((0|m)<1)d=g,p=C;else for(p=C;;){if(k=(0|m)<29?m:29,!((d=g+-4|0)>>>0<p>>>0)){for(i=k,b=0;v=0,R=b,b=S[(w=d)>>2],_=31&i,_=32<=(63&i)>>>0?(m=b<<_,0):(m=(1<<_)-1&b>>>32-_,b<<_),v=m+v|0,v=(b=R+_|0)>>>0<_>>>0?v+1|0:v,R=w,w=Ct(b=kt(_=b,v,1e9),z,1e9),S[R>>2]=_-w,p>>>0<=(d=d+-4|0)>>>0;);(i=b)&&(S[(p=p+-4|0)>>2]=i)}for(;p>>>0<(d=g)>>>0&&!S[(g=d+-4|0)>>2];);if(m=S[44+o>>2]-k|0,g=d,!(0<(0|(S[44+o>>2]=m))))break}if((0|m)<=-1)for(M=1+((y+25|0)/9|0)|0,k=102==(0|D);;){if(b=(0|m)<-9?9:0-m|0,d>>>0<=p>>>0)p=S[p>>2]?p:p+4|0;else{for(w=1e9>>>b,_=-1<<b^-1,m=0,g=p;i=S[g>>2],S[g>>2]=(i>>>b)+m,m=B(w,i&_),(g=g+4|0)>>>0<d>>>0;);p=S[p>>2]?p:p+4|0,m&&(S[d>>2]=m,d=d+4|0)}if(m=b+S[44+o>>2]|0,d=(0|M)<d-(i=k?C:p)>>2?i+(M<<2)|0:d,!((0|(S[44+o>>2]=m))<0))break}if(!(d>>>(g=0)<=p>>>0||(g=B(C-p>>2,9),m=10,(i=S[p>>2])>>>0<10)))for(;g=g+1|0,(m=B(m,10))>>>0<=i>>>0;);if((0|(i=(y-(102==(0|D)?0:g)|0)-(103==(0|D)&0!=(0|y))|0))<(B(d-C>>2,9)+-9|0)){if(v=(C+((_=(0|(w=i+9216|0))/9|0)<<2)|0)-4092|0,i=10,(0|(m=w-B(_,9)|0))<=7)for(;i=B(i,10),_=(0|m)<7,m=m+1|0,_;);if(M=v+4|0,((b=(k=S[v>>2])-B(i,w=(k>>>0)/(i>>>0)|0)|0)||(0|M)!=(0|d))&&(P=b>>>0<(_=i>>>1)>>>0?.5:(0|d)==(0|M)&&(0|_)==(0|b)?1:1.5,e=1&w?9007199254740994:9007199254740992,!T|45!=x[0|s]||(P=-P,e=-e),_=k-b|0,S[v>>2]=_,e+P!=e)){if(i=i+_|0,1e9<=(S[v>>2]=i)>>>0)for(;(v=v+-4|(S[v>>2]=0))>>>0<p>>>0&&(S[(p=p+-4|0)>>2]=0),i=S[v>>2]+1|0,999999999<(S[v>>2]=i)>>>0;);if(g=B(C-p>>2,9),m=10,!((i=S[p>>2])>>>0<10))for(;g=g+1|0,(m=B(m,10))>>>0<=i>>>0;);}d=(i=v+4|0)>>>0<d>>>0?i:d}t:{for(;;){if((k=d)>>>(w=0)<=p>>>0)break t;if(S[(d=k+-4|0)>>2])break}w=1}if(103==(0|D)){if(y=((i=(0|g)<(0|(d=y||1))&-5<(0|g))?-1^g:-1)+d|0,a=(i?-1:-2)+a|0,!(_=8&n)){if(d=9,w&&(_=S[k+-4>>2])&&!((_>>>(d=0))%(i=10)))for(;d=d+1|0,!((_>>>0)%((i=B(i,10))>>>0)););i=B(k-C>>2,9)+-9|0,y=102!=(32|a)?((_=0)|y)<(0|(i=0<(0|(i=(i+g|0)-d|0))?i:0))?y:i:((_=0)|y)<(0|(i=0<(0|(i=i-d|0))?i:0))?y:i}}else _=8&n;if(v=0!=(0|(m=y|_)),i=t,R=r,d=0<(0|g)?g:0,102!=(0|(b=32|a))){if((I-(d=J((d=g>>31)+g^d,0,I))|0)<=1)for(;A[0|(d=d+-1|0)]=48,(I-d|0)<2;);A[0|(M=d+-2|0)]=a,A[d+-1|0]=(0|g)<0?45:43,d=I-M|0}X(i,32,R,v=1+(d+(v+(y+T|0)|0)|0)|0,n),Y(t,s,T),X(t,48,r,v,65536^n);t:{e:{r:{if(102==(0|b)){for(i=16+o|8,g=16+o|9,p=a=C>>>0<p>>>0?C:p;;){d=J(S[p>>2],0,g);i:if((0|a)==(0|p))(0|d)==(0|g)&&(A[24+o|0]=48,d=i);else{if(d>>>0<=16+o>>>0)break i;for(;A[0|(d=d+-1|0)]=48,16+o>>>0<d>>>0;);}if(Y(t,d,g-d|0),!((p=p+4|0)>>>0<=C>>>0))break}if(m&&Y(t,3219,1),(0|y)<1|k>>>0<=p>>>0)break r;for(;;){if(16+o>>>0<(d=J(S[p>>2],0,g))>>>0)for(;A[0|(d=d+-1|0)]=48,16+o>>>0<d>>>0;);if(Y(t,d,(0|y)<9?y:9),d=y+-9|0,k>>>0<=(p=p+4|0)>>>0)break e;if(i=9<(0|y),y=d,!i)break}break e}i:if(!((0|y)<0))for(a=w?k:p+4|0,i=16+o|8,C=16+o|9,g=p;;){(0|C)==(0|(d=J(S[g>>2],0,C)))&&(A[24+o|0]=48,d=i);n:if((0|p)==(0|g))Y(t,d,1),d=d+1|0,(0|y)<1&&!_||Y(t,3219,1);else{if(d>>>0<=16+o>>>0)break n;for(;A[0|(d=d+-1|0)]=48,16+o>>>0<d>>>0;);}if(Y(t,b=d,(0|(d=C-d|0))<(0|y)?d:y),y=y-d|0,a>>>0<=(g=g+4|0)>>>0)break i;if(!(-1<(0|y)))break}X(t,48,y+18|0,18,0),Y(t,M,I-M|0);break t}d=y}X(t,48,d+9|0,9,0)}}else{if(_=(C=32&a)?s+9|0:s,!(11<i>>>0)&&(d=12-i|0)){for(P=8;P*=16,d=d+-1|0;);e=45!=x[0|_]?e+P-P:-(P+(-e-P))}for((0|I)==(0|(d=J((g=(d=S[44+o>>2])>>31)^d+g,0,I)))&&(A[15+o|0]=48,d=15+o|0),y=2|T,g=S[44+o>>2],A[0|(w=d+-2|0)]=a+15,A[d+-1|0]=(0|g)<0?45:43,d=8&n,p=16+o|0;a=p,b=C,g=E(e)<2147483648?~~e:-2147483648,A[0|p]=b|x[g+3168|0],1!=((p=a+1|0)-(16+o|0)|0)|(0==(e=16*(e-(0|g)))?!(d|0<(0|i)):0)||(A[a+1|0]=46,p=a+2|0),0!=e;);X(t,32,r,v=(a=!i|(0|i)<=((p-o|0)-18|0)?((I-(16+o|0)|0)-w|0)+p|0:2+((i+I|0)-w|0)|0)+y|0,n),Y(t,_,y),X(t,48,r,v,65536^n),Y(t,16+o|0,i=p-(16+o|0)|0),X(t,48,a-((d=i)+(i=I-w|0)|0)|0,0,0),Y(t,w,i)}else X(t,32,r,v=T+3|0,-65537&n),Y(t,s,T),i=a>>>5&1,Y(t,e!=e?i?3211:3215:i?3203:3207,3);return X(t,32,r,v,8192^n),N=560+o|0,0|((0|v)<(0|r)?r:v)},b[16]=function(t,e){var r,i,n;t|=0,e=S[(r=e|=0)>>2]+15&-16,S[r>>2]=e+16,i=t,n=function(t,e,r,i){var n,a,o,s=0,u=0,h=0;N=n=N-32|0,s=(a=s=2147483647&i)-1006698496|0,(u=h=r)>>>0<0&&(s=s+1|0),o=u,u=s,s=a+-1140785152|0,h>>>0<0&&(s=s+1|0);t:if((0|s)==(0|u)&o>>>0<h>>>0|u>>>0<s>>>0){if(s=i<<4|r>>>28,r=r<<4|e>>>28,134217728==(0|(h=e&=268435455))&1<=t>>>0|134217728<e>>>0){s=s+1073741824|0,(t=r+1|0)>>>0<1&&(s=s+1|0),u=t;break t}if(s=s-(((u=r)>>>0<0)+-1073741824|0)|0,t|134217728^h)break t;(t=u+(1&u)|0)>>>0<u>>>0&&(s=s+1|0),u=t}else(!h&2147418112==(0|a)?!(t|e):2147418112==(0|a)&h>>>0<0|a>>>0<2147418112)?(s=2146435072,1140785151==((u=0)|a)&4294967295<h>>>0|1140785151<a>>>0||(h=a>>>16)>>>(s=0)<15249||(function(t,e,r,i,n,a){var o=0,s=0,u=0,l=0;e:if(64&a)e=31&(r=a+-64|0),e=32<=(63&r)>>>0?(r=0,n>>>e):(r=n>>>e,((1<<e)-1&n)<<32-e|i>>>e),n=i=0;else{if(!a)break e;s=n,u=i,o=31&(l=64-a|0),l=32<=(63&l)>>>0?(s=u<<o,0):(s=(1<<o)-1&u>>>32-o|s<<o,u<<o),u=e,e=31&(o=a),e=32<=(63&o)>>>0?(o=0,r>>>e):(o=r>>>e,((1<<e)-1&r)<<32-e|u>>>e),e|=l,r=o|s,o=i,i=31&a,i=32<=(63&a)>>>0?(s=0,n>>>i):(s=n>>>i,((1<<i)-1&n)<<32-i|o>>>i),n=s}S[t>>2]=e,S[t+4>>2]=r,S[t+8>>2]=i,S[t+12>>2]=n}(n,t,e,r,s=65535&i|65536,15361-h|0),function(t,e,r,i,n,a){var o=0,s=0,u=0,l=0;64&a?(i=e,e=31&(n=a+-64|0),32<=(63&n)>>>0?(n=i<<e,i=0):(n=(1<<e)-1&i>>>32-e|r<<e,i<<=e),r=e=0):a&&(o=i,i=31&(u=a),l=32<=(63&a)>>>0?(s=o<<i,0):(s=(1<<i)-1&o>>>32-i|n<<i,o<<i),i=r,o=e,n=31&(a=64-a|0),32<=(63&a)>>>0?(a=0,i>>>=n):(a=i>>>n,i=((1<<n)-1&i)<<32-n|o>>>n),i|=l,n=a|s,a=e,e=31&u,e=32<=(63&u)>>>0?(s=a<<e,0):(s=(1<<e)-1&a>>>32-e|r<<e,a<<e),r=s),S[t>>2]=e,S[t+4>>2]=r,S[t+8>>2]=i,S[t+12>>2]=n}(16+n|0,t,e,r,s,h+-15233|0),r=S[4+n>>2],t=S[8+n>>2],s=S[12+n>>2]<<4|t>>>28,u=t<<4|r>>>28,134217728==(0|(r=t=268435455&r))&1<=(e=S[n>>2]|0!=(S[16+n>>2]|S[24+n>>2])|0!=(S[20+n>>2]|S[28+n>>2]))>>>0|134217728<t>>>0?((t=u+1|0)>>>0<1&&(s=s+1|0),u=t):e|134217728^r||((t=u+(1&u)|0)>>>0<u>>>0&&(s=s+1|0),u=t))):(u=r<<4|e>>>28,s=524287&(s=i<<4|r>>>28)|2146959360);return N=32+n|0,l(0,0|u),l(1,-2147483648&i|s),+c()}(S[e>>2],S[e+4>>2],S[e+8>>2],S[e+12>>2]),P[i>>3]=n},{__wasm_call_ctors:function(){},csmGetVersion:function(){return 67108864},csmGetLatestMocVersion:function(){return 3},csmGetMocVersion:function(t,e){return e|=0,N=e=N-16|0,t=(t|=0)?at(t)?(G(4,1533,0),0):x[t+4|0]:(S[e+4>>2]=1246,S[e>>2]=1671,G(4,1087,e),0),N=e+16|0,0|t},csmSetLogFunction:function(t){t|=0,S[1641]=t},csmReviveMocInPlace:function(t,e){var r;return e|=0,N=r=N-48|0,t=(t|=0)?(t+63&-64)==(0|t)?(e+63&-64)==(0|e)&&e?function(t){var e,r=0,i=0,n=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0;if(S[24+(N=e=N-32|0)>>2]=0,S[16+e>>2]=4,function(t){var e;ct(16+(N=e=N-272|0)|0,1611,S[12+e>>2]=t),function(t){var e;S[(N=e=N-16|0)>>2]=t,function(t,e){var r;lt(t,1176,S[12+(N=r=N-16|0)>>2]=e,0,0),N=16+r|0}(S[670],e),N=16+e|0}(16+e|0),N=272+e|0}(16+e|(S[20+e>>2]=0)),at(t))G(4,1183,0),t=0;else if(4<=(i=x[t+4|0])>>>0)S[4+e>>2]=i,S[e>>2]=3,G(4,1332,e),t=0;else{for(1!=(0|(a=!x[t+5|0]))&&(q(t+4|0,1),j(t- -64|0,4,160),A[t+5|0]=0),r=t- -64|0,n=102,i=t+704|0;S[i>>2]=S[r>>2]+t,i=i+4|0,r=r+4|0,n=n+-1|0;);if(1!=(0|a)&&(i=x[t+4|0],j(S[t+704>>2],4,32),q(S[t+708>>2],4),q(S[t+708>>2]+4|0,4),q(S[t+708>>2]+8|0,4),q(S[t+708>>2]+12|0,4),q(S[t+708>>2]+16|0,4),q(S[t+708>>2]+20|0,1),j(S[t+720>>2],4,S[S[t+704>>2]>>2]),j(S[t+724>>2],4,S[S[t+704>>2]>>2]),j(S[t+728>>2],4,S[S[t+704>>2]>>2]),j(S[t+732>>2],4,S[S[t+704>>2]>>2]),j(S[t+736>>2],4,S[S[t+704>>2]>>2]),j(S[t+740>>2],4,S[S[t+704>>2]>>2]),j(S[t+752>>2],4,S[S[t+704>>2]+4>>2]),j(S[t+756>>2],4,S[S[t+704>>2]+4>>2]),j(S[t+760>>2],4,S[S[t+704>>2]+4>>2]),j(S[t+764>>2],4,S[S[t+704>>2]+4>>2]),j(S[t+768>>2],4,S[S[t+704>>2]+4>>2]),j(S[t+772>>2],4,S[S[t+704>>2]+4>>2]),j(S[t+776>>2],4,S[S[t+704>>2]+4>>2]),j(S[t+780>>2],4,S[S[t+704>>2]+8>>2]),j(S[t+784>>2],4,S[S[t+704>>2]+8>>2]),j(S[t+788>>2],4,S[S[t+704>>2]+8>>2]),j(S[t+792>>2],4,S[S[t+704>>2]+8>>2]),j(S[t+796>>2],4,S[S[t+704>>2]+8>>2]),j(S[t+800>>2],4,S[S[t+704>>2]+8>>2]),j(S[t+804>>2],4,S[S[t+704>>2]+12>>2]),j(S[t+808>>2],4,S[S[t+704>>2]+12>>2]),j(S[t+812>>2],4,S[S[t+704>>2]+12>>2]),j(S[t+816>>2],4,S[S[t+704>>2]+12>>2]),j(S[t+840>>2],4,S[S[t+704>>2]+16>>2]),j(S[t+844>>2],4,S[S[t+704>>2]+16>>2]),j(S[t+848>>2],4,S[S[t+704>>2]+16>>2]),j(S[t+852>>2],4,S[S[t+704>>2]+16>>2]),j(S[t+856>>2],4,S[S[t+704>>2]+16>>2]),j(S[t+860>>2],4,S[S[t+704>>2]+16>>2]),j(S[t+864>>2],4,S[S[t+704>>2]+16>>2]),j(S[t+868>>2],4,S[S[t+704>>2]+16>>2]),j(S[t+872>>2],1,S[S[t+704>>2]+16>>2]),j(S[t+876>>2],4,S[S[t+704>>2]+16>>2]),j(S[t+880>>2],4,S[S[t+704>>2]+16>>2]),j(S[t+884>>2],4,S[S[t+704>>2]+16>>2]),j(S[t+888>>2],4,S[S[t+704>>2]+16>>2]),j(S[t+892>>2],4,S[S[t+704>>2]+16>>2]),j(S[t+896>>2],4,S[S[t+704>>2]+16>>2]),j(S[t+908>>2],4,S[S[t+704>>2]+20>>2]),j(S[t+912>>2],4,S[S[t+704>>2]+20>>2]),j(S[t+916>>2],4,S[S[t+704>>2]+20>>2]),j(S[t+920>>2],4,S[S[t+704>>2]+20>>2]),j(S[t+924>>2],4,S[S[t+704>>2]+20>>2]),j(S[t+928>>2],4,S[S[t+704>>2]+20>>2]),j(S[t+932>>2],4,S[S[t+704>>2]+20>>2]),j(S[t+936>>2],4,S[S[t+704>>2]+24>>2]),j(S[t+940>>2],4,S[S[t+704>>2]+28>>2]),j(S[t+944>>2],4,S[S[t+704>>2]+28>>2]),j(S[t+948>>2],4,S[S[t+704>>2]+32>>2]),j(S[t+952>>2],4,S[S[t+704>>2]+32>>2]),j(S[t+956>>2],4,S[S[t+704>>2]+32>>2]),j(S[t+960>>2],4,S[S[t+704>>2]+32>>2]),j(S[t+964>>2],4,S[S[t+704>>2]+32>>2]),j(S[t+968>>2],4,S[S[t+704>>2]+32>>2]),j(S[t+972>>2],4,S[S[t+704>>2]+32>>2]),j(S[t+976>>2],4,S[S[t+704>>2]+36>>2]),j(S[t+980>>2],4,S[S[t+704>>2]+36>>2]),j(S[t+984>>2],4,S[S[t+704>>2]+36>>2]),j(S[t+988>>2],4,S[S[t+704>>2]+40>>2]),j(S[t+992>>2],4,S[S[t+704>>2]+44>>2]),j(S[t+996>>2],4,S[S[t+704>>2]+48>>2]),j(S[t+1e3>>2],4,S[S[t+704>>2]+48>>2]),j(S[t+1004>>2],4,S[S[t+704>>2]+52>>2]),j(S[t+1008>>2],4,S[S[t+704>>2]+52>>2]),j(S[t+1012>>2],4,S[S[t+704>>2]+56>>2]),j(S[t+1016>>2],4,S[S[t+704>>2]+60>>2]),j(S[t+1020>>2],2,S[S[t+704>>2]+64>>2]),j(S[t+1024>>2],4,S[S[t+704>>2]+68>>2]),j(S[t+1028>>2],4,S[S[t+704>>2]+72>>2]),j(S[t+1032>>2],4,S[S[t+704>>2]+72>>2]),j(S[t+1036>>2],4,S[S[t+704>>2]+72>>2]),j(S[t+1040>>2],4,S[S[t+704>>2]+72>>2]),j(S[t+1044>>2],4,S[S[t+704>>2]+72>>2]),j(S[t+1048>>2],4,S[S[t+704>>2]+76>>2]),j(S[t+1052>>2],4,S[S[t+704>>2]+76>>2]),j(S[t+1056>>2],4,S[S[t+704>>2]+76>>2]),j(S[t+1068>>2],4,S[S[t+704>>2]+80>>2]),j(S[t+1072>>2],4,S[S[t+704>>2]+80>>2]),j(S[t+1076>>2],4,S[S[t+704>>2]+80>>2]),j(S[t+1080>>2],4,S[S[t+704>>2]+80>>2]),j(S[t+1084>>2],4,S[S[t+704>>2]+80>>2]),j(S[t+1088>>2],4,S[S[t+704>>2]+80>>2]),j(S[t+1092>>2],4,S[S[t+704>>2]+80>>2]),j(S[t+1096>>2],4,S[S[t+704>>2]+84>>2]),j(S[t+1100>>2],2,S[S[t+704>>2]+84>>2]),j(S[t+1104>>2],4,S[S[t+704>>2]+88>>2]),i>>>0<2||j(S[t+1108>>2],4,S[S[t+704>>2]+8>>2])),S[1643]=5,S[1642]=6,S[1644]=7,S[1645]=8,S[1646]=9,S[1647]=10,r=S[t+704>>2],1<=S[r>>2])for(i=0;S[S[t+712>>2]+(i<<2)>>2]=S[t+716>>2]+(i<<6),i=i+1|0,r=S[t+704>>2],(0|i)<S[r>>2];);if(1<=S[r+4>>2])for(i=0;S[S[t+744>>2]+(i<<2)>>2]=S[t+748>>2]+(i<<6),i=i+1|0,r=S[t+704>>2],(0|i)<S[r+4>>2];);if(1<=S[r+16>>2])for(i=0;S[(r=i<<2)+S[t+820>>2]>>2]=S[t+836>>2]+(i<<6),S[r+S[t+824>>2]>>2]=S[t+1016>>2]+(S[r+S[t+880>>2]>>2]<<2),S[r+S[t+828>>2]>>2]=S[t+1020>>2]+(S[r+S[t+884>>2]>>2]<<1),S[r+S[t+832>>2]>>2]=S[t+1024>>2]+(S[r+S[t+892>>2]>>2]<<2),i=i+1|0,r=S[t+704>>2],(0|i)<S[r+16>>2];);if(1<=S[r+20>>2])for(i=0;S[S[t+900>>2]+(i<<2)>>2]=S[t+904>>2]+(i<<6),i=i+1|0,r=S[t+704>>2],(0|i)<S[r+20>>2];);if(1<=S[r+80>>2])for(i=0;S[S[t+1060>>2]+(i<<2)>>2]=S[t+1064>>2]+(i<<6),i=i+1|0,r=S[t+704>>2],(0|i)<S[r+80>>2];);if(!(1&A[S[t+708>>2]+20|0]||(0|(a=S[r+16>>2]))<1)){for(s=S[t+888>>2],u=S[t+884>>2],o=S[t+1020>>2],i=0;;){if(1<(0|(n=S[(r=i<<2)+s>>2])))for(l=n+-1|0,c=o+(S[r+u>>2]<<1)|0,r=0;h=C[(n=(r<<1)+c|0)>>1],w[n>>1]=C[n+4>>1],w[n+4>>1]=h,(0|(r=r+3|0))<(0|l););if((0|a)==(0|(i=i+1|0)))break}for(i=S[t+876>>2],s=S[t+880>>2],u=S[t+1016>>2],n=0;;){if(1<=(0|(o=S[(r=n<<2)+i>>2])))for(o=(r=u+(S[r+s>>2]<<2)|0)+(o<<3)|0,r=r+4|0;I[r>>2]=M(1)-I[r>>2],(r=r+8|0)>>>0<o>>>0;);if((0|a)==(0|(n=n+1|0)))break}}}return N=32+e|0,t}(t):(S[20+r>>2]=1592,S[16+r>>2]=1688,G(4,1087,16+r|0),0):(S[36+r>>2]=1441,S[32+r>>2]=1688,G(4,1087,32+r|0),0):(S[4+r>>2]=1246,S[r>>2]=1688,G(4,1087,r),0),N=48+r|0,0|t},csmReadCanvasInfo:function(t,e,r,i){var n;e|=0,r|=0,i|=0,N=n=N+-64|0,(t|=0)?e?r?i?(t=S[S[t>>2]+708>>2],S[e>>2]=S[t+12>>2],S[e+4>>2]=S[t+16>>2],S[r>>2]=S[t+4>>2],S[r+4>>2]=S[t+8>>2],S[i>>2]=S[t>>2]):(S[52+n>>2]=1782,S[48+n>>2]=1708,G(4,1087,48+n|0)):(S[36+n>>2]=1753,S[32+n>>2]=1708,G(4,1087,32+n|0)):(S[20+n>>2]=1726,S[16+n>>2]=1708,G(4,1087,16+n|0)):(S[4+n>>2]=1651,S[n>>2]=1708,G(4,1087,n)),N=64+n|0},csmGetSizeofModel:pt,csmInitializeModelInPlace:dt,csmUpdateModel:function(t){var e;N=e=N-16|0,(t|=0)?ht(t):(S[4+e>>2]=1651,S[e>>2]=1890,G(4,1087,e)),N=16+e|0},csmGetParameterCount:function(t){var e;return N=e=N-16|0,t=(t|=0)?S[t+292>>2]:(S[4+e>>2]=1651,S[e>>2]=1905,G(4,1087,e),-1),N=16+e|0,0|t},csmGetParameterIds:function(t){var e;return N=e=N-16|0,t=(t|=0)?S[S[t>>2]+900>>2]:(S[4+e>>2]=1651,S[e>>2]=1926,G(4,1087,e),0),N=16+e|0,0|t},csmGetParameterMinimumValues:function(t){var e;return N=e=N-16|0,t=(t|=0)?S[S[t>>2]+912>>2]:(S[4+e>>2]=1651,S[e>>2]=1945,G(4,1087,e),0),N=16+e|0,0|t},csmGetParameterMaximumValues:function(t){var e;return N=e=N-16|0,t=(t|=0)?S[S[t>>2]+908>>2]:(S[4+e>>2]=1651,S[e>>2]=1974,G(4,1087,e),0),N=16+e|0,0|t},csmGetParameterDefaultValues:function(t){var e;return N=e=N-16|0,t=(t|=0)?S[S[t>>2]+916>>2]:(S[4+e>>2]=1651,S[e>>2]=2003,G(4,1087,e),0),N=16+e|0,0|t},csmGetParameterValues:function(t){var e;return N=e=N-16|0,t=(t|=0)?S[t+300>>2]:(S[4+e>>2]=1651,S[e>>2]=2032,G(4,1087,e),0),N=16+e|0,0|t},csmGetPartCount:function(t){var e;return N=e=N-16|0,t=(t|=0)?S[t+4>>2]:(S[4+e>>2]=1651,S[e>>2]=2054,G(4,1087,e),-1),N=16+e|0,0|t},csmGetPartIds:function(t){var e;return N=e=N-16|0,t=(t|=0)?S[S[t>>2]+712>>2]:(S[4+e>>2]=1651,S[e>>2]=2070,G(4,1087,e),0),N=16+e|0,0|t},csmGetPartOpacities:function(t){var e;return N=e=N-16|0,t=(t|=0)?S[t+52>>2]:(S[4+e>>2]=1651,S[e>>2]=2084,G(4,1087,e),0),N=16+e|0,0|t},csmGetPartParentPartIndices:function(t){var e;return N=e=N-16|0,t=(t|=0)?S[S[t>>2]+740>>2]:(S[4+e>>2]=1651,S[e>>2]=2104,G(4,1087,e),0),N=16+e|0,0|t},csmGetDrawableCount:function(t){var e;return N=e=N-16|0,t=(t|=0)?S[t+200>>2]:(S[4+e>>2]=1651,S[e>>2]=2132,G(4,1087,e),-1),N=16+e|0,0|t},csmGetDrawableIds:function(t){var e;return N=e=N-16|0,t=(t|=0)?S[S[t>>2]+820>>2]:(S[4+e>>2]=1651,S[e>>2]=2152,G(4,1087,e),0),N=16+e|0,0|t},csmGetDrawableConstantFlags:function(t){var e;return N=e=N-16|0,t=(t|=0)?S[S[t>>2]+872>>2]:(S[4+e>>2]=1651,S[e>>2]=2170,G(4,1087,e),0),N=16+e|0,0|t},csmGetDrawableDynamicFlags:function(t){var e;return N=e=N-16|0,t=(t|=0)?S[t+260>>2]:(S[4+e>>2]=1651,S[e>>2]=2198,G(4,1087,e),0),N=16+e|0,0|t},csmGetDrawableTextureIndices:function(t){var e;return N=e=N-16|0,t=(t|=0)?S[S[t>>2]+868>>2]:(S[4+e>>2]=1651,S[e>>2]=2225,G(4,1087,e),0),N=16+e|0,0|t},csmGetDrawableDrawOrders:function(t){var e;return N=e=N-16|0,t=(t|=0)?S[t+268>>2]:(S[4+e>>2]=1651,S[e>>2]=2254,G(4,1087,e),0),N=16+e|0,0|t},csmGetDrawableRenderOrders:function(t){var e;return N=e=N-16|0,t=(t|=0)?S[t+264>>2]:(S[4+e>>2]=1651,S[e>>2]=2279,G(4,1087,e),0),N=16+e|0,0|t},csmGetDrawableOpacities:function(t){var e;return N=e=N-16|0,t=(t|=0)?S[t+276>>2]:(S[4+e>>2]=1651,S[e>>2]=2306,G(4,1087,e),0),N=16+e|0,0|t},csmGetDrawableMaskCounts:function(t){var e;return N=e=N-16|0,t=(t|=0)?S[S[t>>2]+896>>2]:(S[4+e>>2]=1651,S[e>>2]=2330,G(4,1087,e),0),N=16+e|0,0|t},csmGetDrawableMasks:function(t){var e;return N=e=N-16|0,t=(t|=0)?S[S[t>>2]+832>>2]:(S[4+e>>2]=1651,S[e>>2]=2355,G(4,1087,e),0),N=16+e|0,0|t},csmGetDrawableVertexCounts:function(t){var e;return N=e=N-16|0,t=(t|=0)?S[S[t>>2]+876>>2]:(S[4+e>>2]=1651,S[e>>2]=2375,G(4,1087,e),0),N=16+e|0,0|t},csmGetDrawableVertexPositions:function(t){var e;return N=e=N-16|0,t=(t|=0)?S[t+272>>2]:(S[4+e>>2]=1651,S[e>>2]=2402,G(4,1087,e),0),N=16+e|0,0|t},csmGetDrawableVertexUvs:function(t){var e;return N=e=N-16|0,t=(t|=0)?S[S[t>>2]+824>>2]:(S[4+e>>2]=1651,S[e>>2]=2432,G(4,1087,e),0),N=16+e|0,0|t},csmGetDrawableIndexCounts:function(t){var e;return N=e=N-16|0,t=(t|=0)?S[S[t>>2]+888>>2]:(S[4+e>>2]=1651,S[e>>2]=2456,G(4,1087,e),0),N=16+e|0,0|t},csmGetDrawableIndices:function(t){var e;return N=e=N-16|0,t=(t|=0)?S[S[t>>2]+828>>2]:(S[4+e>>2]=1651,S[e>>2]=2482,G(4,1087,e),0),N=16+e|0,0|t},csmResetDrawableDynamicFlags:function(t){var e;N=e=N-16|0,(t|=0)?S[t+256>>2]=1:(S[4+e>>2]=1651,S[e>>2]=2504,G(4,1087,e)),N=16+e|0},csmMallocMoc:function(t){var e;return mt(12+(N=e=N-16|0)|0,64,t|=0),N=16+e|0,S[12+e>>2]},csmMallocModelAndInitialize:function(t){var e,r=0,i=0;return N=e=N-16|0,(t|=0)&&(mt(12+e|0,16,i=pt(t))||(r=dt(t,S[12+e>>2],i))||(_t(S[12+e>>2]),r=0)),N=16+e|0,0|r},csmMalloc:function(t){return 0|rt(t|=0)},csmFree:function(t){_t(t|=0)},stackSave:function(){return 0|N},stackAlloc:function(t){return 0|(N=N-(t|=0)&-16)},stackRestore:function(t){N=t|=0},__growWasmMemory:function(t){return 0|function(t){t|=0;var e=0|Pt(),r=e+t|0;if(e<r&&r<65536){var i=new ArrayBuffer(B(r,65536)),n=new m.Int8Array(i);n.set(A),A=n,A=new m.Int8Array(i),w=new m.Int16Array(i),S=new m.Int32Array(i),x=new m.Uint8Array(i),C=new m.Uint16Array(i),k=new m.Uint32Array(i),I=new m.Float32Array(i),P=new m.Float64Array(i),y=i,v.buffer=i}return e}(0|(t|=0))},dynCall_vi:function(t,e){e|=0,b[t|=0](e)}};function j(t,e,r){var i=0,n=0,a=0;if(r)for(;;){if(r=r+-1|0,t>>>0<(i=(n=t+e|0)-1|0)>>>0)for(;a=x[0|t],A[0|t]=x[0|i],A[0|i]=a,(t=t+1|0)>>>0<(i=i+-1|0)>>>0;);if(t=n,!r)break}}function G(t,e,r){var i;N=i=N-272|0,k[1640]>t>>>0||(t=S[1641])&&(ct(16+i|0,e,S[12+i>>2]=r),b[t](16+i|0)),N=272+i|0}function Y(t,e,r){32&x[0|t]||function(t,e,r){var i=0,n=0,a=0;t:{if(!(i=S[r+16>>2])){if(function(t){var e=0;return e=x[t+74|0],A[t+74|0]=e+-1|e,8&(e=S[t>>2])?(S[t>>2]=32|e,1):(S[t+4>>2]=0,S[t+8>>2]=0,e=S[t+44>>2],S[t+28>>2]=e,S[t+20>>2]=e,S[t+16>>2]=e+S[t+48>>2],0)}(r))break t;i=S[r+16>>2]}if(i-(a=S[r+20>>2])>>>0<e>>>0)return b[S[r+36>>2]](r,t,e);e:if(!(A[r+75|0]<0)){for(i=e;;){if(!(n=i))break e;if(10==x[(i=n+-1|0)+t|0])break}if(b[S[r+36>>2]](r,t,n)>>>0<n>>>0)break t;e=e-n|0,t=t+n|0,a=S[r+20>>2]}K(a,t,e),S[r+20>>2]=S[r+20>>2]+e}}(e,r,t)}function X(t,e,r,i,n){var a,o=0,s=0;if(N=a=N-256|0,!(73728&n|(0|r)<=(0|i))){if(Z(a,e,(o=(n=r-i|0)>>>0<256)?n:256),e=t,s=a,!o){for(r=r-i|0;Y(t,a,256),255<(n=n+-256|0)>>>0;);n=255&r}Y(e,s,n)}N=256+a|0}function H(t){var e,r;return M((e=t*t)*e*(r=e*t)*(2718311493989822e-21*e-.00019839334836096632)+(r*(.008333329385889463*e-.16666666641626524)+t))}function W(t){var e;return M(-.499999997251031*(t*=t)+1+.04166662332373906*(e=t*t)+t*e*(2439044879627741e-20*t-.001388676377460993))}function Z(t,e,r){var i=0,n=0,a=0,o=0;if(r&&(A[(i=t+r|0)-1|0]=e,A[0|t]=e,!(r>>>0<3||(A[i+-2|0]=e,A[t+1|0]=e,A[i+-3|0]=e,A[t+2|0]=e,r>>>0<7||(A[i+-4|0]=e,A[t+3|0]=e,r>>>0<9||(n=(i=0-t&3)+t|0,e=B(255&e,16843009),S[n>>2]=e,S[(i=(r=r-i&-4)+n|0)-4>>2]=e,r>>>0<9||(S[n+8>>2]=e,S[n+4>>2]=e,S[i+-8>>2]=e,S[i+-12>>2]=e,r>>>0<25||(S[n+24>>2]=e,S[n+20>>2]=e,S[n+16>>2]=e,S[n+12>>2]=e,S[i+-16>>2]=e,S[i+-20>>2]=e,S[i+-24>>2]=e,S[i+-28>>2]=e,(r=r-(o=4&n|24)|0)>>>0<32))))))))for(a=i=e,e=n+o|0;S[e+24>>2]=a,S[e+28>>2]=i,S[e+16>>2]=a,S[e+20>>2]=i,S[e+8>>2]=a,S[e+12>>2]=i,S[e>>2]=a,S[e+4>>2]=i,e=e+32|0,31<(r=r+-32|0)>>>0;);return t}function q(t,e){var r=0;if(t>>>0<(e=(t+e|0)-1|0)>>>0)for(;r=x[0|t],A[0|t]=x[0|e],A[0|e]=r,(t=t+1|0)>>>0<(e=e+-1|0)>>>0;);}function Q(t){var e;return(0|(t=(e=S[2052])+t|0))<=-1?(S[1906]=48,-1):t>>>0<=Pt()<<16>>>0||L(0|t)?(S[2052]=t,e):(S[1906]=48,-1)}function J(t,e,r){var i=0,n=0,a=0;if(1==(0|e)&t>>>0<0|e>>>0<1)i=t;else for(;n=Ct(i=kt(t,e,10),a=n=z,10),A[0|(r=r+-1|0)]=t-n|48,n=9==(0|e)&4294967295<t>>>0|9<e>>>0,t=i,e=a,n;);if(i)for(;t=(i>>>0)/10|0,A[0|(r=r+-1|0)]=i-B(t,10)|48,e=9<i>>>0,i=t,e;);return r}function K(t,e,r){var i,n=0;if(8192<=r>>>0)F(0|t,0|e,0|r);else{i=t+r|0;t:if(3&(t^e))if(i>>>0<4)r=t;else if((n=i-4|0)>>>0<t>>>0)r=t;else for(r=t;A[0|r]=x[0|e],A[r+1|0]=x[e+1|0],A[r+2|0]=x[e+2|0],A[r+3|0]=x[e+3|0],e=e+4|0,(r=r+4|0)>>>0<=n>>>0;);else{e:if((0|r)<1)r=t;else if(3&t)for(r=t;;){if(A[0|r]=x[0|e],e=e+1|0,i>>>0<=(r=r+1|0)>>>0)break e;if(!(3&r))break}else r=t;if(!((t=-4&i)>>>0<64||(n=t+-64|0)>>>0<r>>>0))for(;S[r>>2]=S[e>>2],S[r+4>>2]=S[e+4>>2],S[r+8>>2]=S[e+8>>2],S[r+12>>2]=S[e+12>>2],S[r+16>>2]=S[e+16>>2],S[r+20>>2]=S[e+20>>2],S[r+24>>2]=S[e+24>>2],S[r+28>>2]=S[e+28>>2],S[r+32>>2]=S[e+32>>2],S[r+36>>2]=S[e+36>>2],S[r+40>>2]=S[e+40>>2],S[r+44>>2]=S[e+44>>2],S[r+48>>2]=S[e+48>>2],S[r+52>>2]=S[e+52>>2],S[r+56>>2]=S[e+56>>2],S[r+60>>2]=S[e+60>>2],e=e- -64|0,(r=r- -64|0)>>>0<=n>>>0;);if(t>>>0<=r>>>0)break t;for(;S[r>>2]=S[e>>2],e=e+4|0,(r=r+4|0)>>>0<t>>>0;);}if(r>>>0<i>>>0)for(;A[0|r]=x[0|e],e=e+1|0,(0|i)!=(0|(r=r+1|0)););}}function $(t){return t+-48>>>0<10}function tt(t,e){t:if(1024<=(0|e)){if(t*=898846567431158e293,(0|e)<2047){e=e+-1023|0;break t}t*=898846567431158e293,e=((0|e)<3069?e:3069)+-2046|0}else-1023<(0|e)||(t*=22250738585072014e-324,e=-2045<(0|e)?e+1022|0:(t*=22250738585072014e-324,(-3066<(0|e)?e:-3066)+2044|0));return l(0,0),l(1,e+1023<<20),t*c()}function et(t,e,r,i,n,a,o){var s,u,l,c=0,h=0,f=0,d=0,p=0,g=0,m=0,_=0,y=0,v=0,C=0,k=0;S[76+(N=s=N-80|0)>>2]=e,l=55+s|0,u=56+s|0,e=0;t:{e:for(;;){(0|y)<0||(y=(2147483647-y|0)<(0|e)?(S[1906]=61,-1):e+y|0);r:{i:{n:{a:{o:{s:{u:{l:{c:{h:{f:{d:{p:{g:{if(d=S[76+s>>2],f=x[0|(e=d)]){for(;;){m:{_:{y:if(c=255&f){if(37!=(0|c))break _;for(f=e;;){if(37!=x[e+1|0])break y;if(c=e+2|0,S[76+s>>2]=c,f=f+1|0,h=x[e+2|0],e=c,37!=(0|h))break}}else f=e;if(e=f-d|0,t&&Y(t,d,e),e)continue e;v=-1,f=1,p=!$(A[S[76+(c=s)>>2]+1|0]),e=S[76+s>>2],p|36!=x[e+2|0]||(v=A[e+1|0]+-48|0,C=1,f=3),e=f+e|0,S[c+76>>2]=e;y:if(31<(h=(g=A[(f=0)|e])+-32|0)>>>0)c=e;else if(c=e,75913&(h=1<<h))for(;;){if(c=e+1|0,S[76+s>>2]=c,f|=h,31<(h=(g=A[e+1|0])+-32|0)>>>0)break y;if(e=c,!(75913&(h=1<<h)))break}y:if(42!=(0|g)){if((0|(m=ut(76+s|0)))<0)break g;e=S[76+s>>2]}else{if(p=s,$(A[c+1|0])&&(e=S[76+s>>2],36==x[e+2|0]))S[((A[e+1|0]<<2)+n|0)-192>>2]=10,m=S[((A[e+1|0]<<3)+i|0)-384>>2],C=1,e=e+3|0;else{if(C)break g;m=C=0,t&&(e=S[r>>2],S[r>>2]=e+4,m=S[e>>2]),e=S[76+s>>2]+1|0}if(S[p+76>>2]=e,-1<(0|m))break y;m=0-m|0,f|=8192}h=-1;y:if(46==x[0|e])if(42!=x[e+1|0])S[76+s>>2]=e+1,h=ut(76+s|0),e=S[76+s>>2];else{if($(A[e+2|0])&&(e=S[76+s>>2],36==x[e+3|0])){S[((A[e+2|0]<<2)+n|0)-192>>2]=10,h=S[((A[e+2|0]<<3)+i|0)-384>>2],e=e+4|0,S[76+s>>2]=e;break y}if(C)break g;h=t?(e=S[r>>2],S[r>>2]=e+4,S[e>>2]):0,e=S[76+s>>2]+2|0,S[76+s>>2]=e}for(c=0;;){if(k=c,_=-1,57<A[0|e]+-65>>>0)break t;if(g=e+1|0,S[76+s>>2]=g,c=A[0|e],e=g,!((c=x[2639+(c+B(k,58)|0)|0])+-1>>>0<8))break}if(!c)break t;y:{v:{b:{if(19==(0|c)){if((0|v)<=-1)break b;break t}if((0|v)<0)break v;S[(v<<2)+n>>2]=c,c=S[4+(e=(v<<3)+i|0)>>2],S[64+s>>2]=S[e>>2],S[68+s>>2]=c}if(e=0,!t)continue e;break y}if(!t)break r;st(s+64|0,c,r,o),g=S[76+s>>2]}if(p=-65537&f,f=8192&f?p:f,v=2684,c=u,e=A[g+-1|(_=0)],(g=(e=k&&3==(15&e)?-33&e:e)+-88|0)>>>0<=32)break m;y:{v:{b:{A:{if(6<(p=e+-65|0)>>>0){if(83!=(0|e))break i;if(!h)break A;c=S[64+s>>2];break v}switch(p-1|0){case 1:break b;case 0:case 2:break i;default:break p}}X(t,32,m,e=0,f);break y}S[12+s>>2]=0,S[8+s>>2]=S[64+s>>2],S[64+s>>2]=8+s,h=-1,c=8+s|0}e=0;v:{for(;;){if(!(d=S[c>>2]))break v;if((p=(0|(d=ot(4+s|0,d)))<0)|h-e>>>0<d>>>0)break;if(c=c+4|0,!((e=e+d|0)>>>0<h>>>0))break v}if(_=-1,p)break t}if(X(t,32,m,e,f),e)for(h=0,c=S[64+s>>2];;){if(!(d=S[c>>2]))break y;if((0|e)<(0|(h=(d=ot(4+s|0,d))+h|0)))break y;if(Y(t,4+s|0,d),c=c+4|0,!(h>>>0<e>>>0))break}else e=0}X(t,32,m,e,8192^f),e=(0|e)<(0|m)?m:e;continue e}c=e+1|0,S[76+s>>2]=c,f=x[e+1|0],e=c;continue}break}switch(g-1|0){case 21:break s;case 23:break l;case 22:break c;case 11:case 16:break h;case 10:break f;case 26:break d;case 8:case 12:case 13:case 14:break p;case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 9:case 15:case 17:case 18:case 19:case 20:case 24:case 25:case 27:case 29:case 30:break i;case 28:break o;default:break u}}if(_=y,t)break t;if(!C)break r;for(e=1;;){if(t=S[(e<<2)+n>>2]){if(st((e<<3)+i|0,t,r,o),10!=(0|(e=e+(_=1)|0)))continue;break t}break}if(_=1,10<=e>>>0)break t;for(;;){if(S[(e<<2)+n>>2])break g;if(t=8<e>>>0,e=e+1|0,t)break}break t}_=-1;break t}e=0|b[a](t,P[64+s>>3],m,h,f,e);continue}c=(e=bt(d=(e=S[64+s>>2])||2694,h))||h+d|0,f=p,h=e?e-d|0:h;break i}A[55+s|0]=S[64+s>>2],h=1,d=l,f=p;break i}if(e=p=S[68+s>>2],d=S[64+s>>2],(0|e)<-1||(0|e)<=-1&&!(4294967295<d>>>0)){e=0-(e+(0<d>>>0)|0)|0,d=0-d|0,S[64+s>>2]=d,S[68+s>>2]=e,_=1,v=2684;break a}if(2048&f){_=1,v=2685;break a}v=(_=1&f)?2686:2684;break a}if(d=wt(S[64+s>>2],S[68+s>>2],u),!(8&f))break n;h=(0|(e=u-d|0))<(0|h)?h:e+1|0;break n}h=8<h>>>0?h:8,f|=8,e=120}if(d=At(S[64+s>>2],S[68+s>>2],u,32&e),!(8&f)|!(S[64+s>>2]|S[68+s>>2]))break n;v=2684+(e>>>4)|0,_=2;break n}if(7<(c=255&k)>>>(e=0))continue;s:switch(c-1|0){default:case 0:S[S[64+s>>2]>>2]=y;continue;case 1:c=S[64+s>>2],S[c>>2]=y,S[c+4>>2]=y>>31;continue;case 2:w[S[64+s>>2]>>1]=y;continue;case 3:A[S[64+s>>2]]=y;continue;case 5:S[S[64+s>>2]>>2]=y;continue;case 4:continue;case 6:}c=S[64+s>>2],S[c>>2]=y,S[c+4>>2]=y>>31;continue}d=S[64+s>>2],e=S[68+s>>2],v=2684}d=J(d,e,u)}f=-1<(0|h)?-65537&f:f,h=!!((p=e=S[68+s>>2])|(g=S[64+s>>2]))|h?(0|(e=!(p|g)+(u-d|0)|0))<(0|h)?h:e:(d=u,0)}X(t,32,e=(0|m)<(0|(c=(h=(0|h)<(0|(p=c-d|0))?p:h)+_|0))?c:m,c,f),Y(t,v,_),X(t,48,e,c,65536^f),X(t,48,h,p,0),Y(t,d,p),X(t,32,e,c,8192^f);continue}break}_=0}return N=80+s|0,_}function rt(t){var e,r=0,i=0,n=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,f=0,d=0;N=e=N-16|0;t:{e:{r:{i:{n:{a:{o:{s:{u:{l:{c:{if(t>>>0<=244){if(3&(r=(o=S[1923])>>>(t=(s=t>>>0<11?16:t+11&-8)>>>3))){t=(r=S[7740+(a=(i=t+(1&(-1^r))|0)<<3)>>2])+8|0,(0|(n=S[r+8>>2]))!=(0|(a=a+7732|0))?(S[n+12>>2]=a,S[a+8>>2]=n):(f=7692,d=It(i)&o,S[f>>2]=d),i<<=3,S[r+4>>2]=3|i,S[4+(r=r+i|0)>>2]=1|S[r+4>>2];break t}if(s>>>0<=(l=S[1925])>>>0)break c;if(r){i=r=(t=(0-(t=(0-(i=2<<t)|i)&r<<t)&t)-1|0)>>>12&16,i|=r=(t>>>=r)>>>5&8,i|=r=(t>>>=r)>>>2&4,r=S[7740+(n=(i=((i|=r=(t>>>=r)>>>1&2)|(r=(t>>>=r)>>>1&1))+(t>>>r)|0)<<3)>>2],(0|(t=S[r+8>>2]))!=(0|(n=n+7732|0))?(S[t+12>>2]=n,S[n+8>>2]=t):(o=It(i)&o,S[1923]=o),t=r+8|0,S[r+4>>2]=3|s,a=(i<<=3)-s|0,S[4+(u=r+s|0)>>2]=1|a,S[r+i>>2]=a,l&&(r=7732+((i=l>>>3)<<3)|0,n=S[1928],i=(i=1<<i)&o?S[r+8>>2]:(S[1923]=i|o,r),S[r+8>>2]=n,S[i+12>>2]=n,S[n+12>>2]=r,S[n+8>>2]=i),S[1928]=u,S[1925]=a;break t}if(!(h=S[1924]))break c;for(i=r=(t=(h&0-h)-1|0)>>>12&16,i|=r=(t>>>=r)>>>5&8,i|=r=(t>>>=r)>>>2&4,r=S[7996+(((i|=r=(t>>>=r)>>>1&2)|(r=(t>>>=r)>>>1&1))+(t>>>r)<<2)>>2],n=(-8&S[r+4>>2])-s|0,i=r;t=(t=S[i+16>>2])||S[i+20>>2];)n=(i=(a=(-8&S[t+4>>2])-s|0)>>>0<n>>>0)?a:n,r=i?t:r,i=t;if(c=S[r+24>>2],(0|(a=S[r+12>>2]))!=(0|r)){t=S[r+8>>2],S[t+12>>2]=a,S[a+8>>2]=t;break e}if(!(t=S[(i=r+20|0)>>2])){if(!(t=S[r+16>>2]))break l;i=r+16|0}for(;u=i,(t=S[(i=(a=t)+20|0)>>2])||(i=a+16|0,t=S[a+16>>2]););S[u>>2]=0;break e}if(s=-1,!(4294967231<t>>>0)&&(s=-8&(r=t+11|0),l=S[1924])){i=0-s|0,o=0,(r>>>=8)&&(o=31,16777215<s>>>0||(o=28+((t=((o=(r<<=n=r+1048320>>>16&8)<<(t=r+520192>>>16&4))<<(r=o+245760>>>16&2)>>>15)-(r|t|n)|0)<<1|s>>>t+21&1)|0));h:{f:{if(n=S[7996+(o<<2)>>2])for(r=s<<(31==(0|o)?0:25-(o>>>1)|0),t=0;;){if(!(i>>>0<=(u=(-8&S[n+4>>2])-s|0)>>>0||(a=n,i=u))){i=0,t=n;break f}if(u=S[n+20>>2],n=S[16+((r>>>29&4)+n|0)>>2],t=u?(0|u)==(0|n)?t:u:t,r<<=0!=(0|n),!n)break}else t=0;if(!(t|a)){if(!(t=(0-(t=2<<o)|t)&l))break c;n=r=(t=(t&0-t)-1|0)>>>12&16,n|=r=(t>>>=r)>>>5&8,n|=r=(t>>>=r)>>>2&4,t=S[7996+(((n|=r=(t>>>=r)>>>1&2)|(r=(t>>>=r)>>>1&1))+(t>>>r)<<2)>>2]}if(!t)break h}for(;i=(r=(n=(-8&S[t+4>>2])-s|0)>>>0<i>>>0)?n:i,a=r?t:a,t=(r=S[t+16>>2])||S[t+20>>2];);}if(!(!a|i>>>0>=S[1925]-s>>>0)){if(u=S[a+24>>2],(0|a)!=(0|(r=S[a+12>>2]))){t=S[a+8>>2],S[t+12>>2]=r,S[r+8>>2]=t;break r}if(!(t=S[(n=a+20|0)>>2])){if(!(t=S[a+16>>2]))break u;n=a+16|0}for(;o=n,(t=S[(n=(r=t)+20|0)>>2])||(n=r+16|0,t=S[r+16>>2]););S[o>>2]=0;break r}}}if(s>>>0<=(r=S[1925])>>>0){t=S[1928],16<=(i=r-s|0)>>>0?(S[1925]=i,n=t+s|0,S[1928]=n,S[n+4>>2]=1|i,S[t+r>>2]=i,S[t+4>>2]=3|s):(S[1928]=0,S[1925]=0,S[t+4>>2]=3|r,S[4+(r=t+r|0)>>2]=1|S[r+4>>2]),t=t+8|0;break t}if(s>>>0<(n=S[1926])>>>0){r=n-s|0,S[1926]=r,i=(t=S[1929])+s|0,S[1929]=i,S[i+4>>2]=1|r,S[t+4>>2]=3|s,t=t+8|0;break t}if((i=(o=(i=a=s+47|(t=0))+(r=S[2041]?S[2043]:(S[2044]=-1,S[2045]=-1,S[2042]=4096,S[2043]=4096,S[2041]=12+e&-16^1431655768,S[2046]=0,S[2034]=0,4096))|0)&(u=0-r|0))>>>0<=s>>>0)break t;if((r=S[2033])&&(c=(l=S[2031])+i|0)>>>0<=l>>>0|r>>>0<c>>>0)break t;if(4&x[8136])break a;c:{h:{if(r=S[1929])for(t=8140;;){if((l=S[t>>2])+S[t+4>>2]>>>0>r>>>0&&l>>>0<=r>>>0)break h;if(!(t=S[t+8>>2]))break}if(-1==(0|(r=Q(0))))break o;if(o=i,(n=(t=S[2042])+-1|0)&r&&(o=(i-r|0)+(r+n&0-t)|0),o>>>0<=s>>>0|2147483646<o>>>0)break o;if((t=S[2033])&&(u=(n=S[2031])+o|0)>>>0<=n>>>0|t>>>0<u>>>0)break o;if((0|r)!=(0|(t=Q(o))))break c;break n}if(2147483646<(o=u&o-n)>>>0)break o;if((0|(r=Q(o)))==(S[t>>2]+S[t+4>>2]|0))break s;t=r}if(!(s+48>>>0<=o>>>0|2147483646<o>>>0|-1==(0|(r=t)))){if(2147483646<(t=(t=S[2043])+(a-o|0)&0-t)>>>0)break n;if(-1!=(0|Q(t))){o=t+o|0;break n}Q(0-o|0);break o}if(-1!=(0|r))break n;break o}a=0;break e}r=0;break r}if(-1!=(0|r))break n}S[2034]=4|S[2034]}if(2147483646<i>>>0)break i;if(r=Q(i),(t=Q(0))>>>0<=r>>>0|-1==(0|r)|-1==(0|t))break i;if((o=t-r|0)>>>0<=s+40>>>0)break i}t=S[2031]+o|0,(S[2031]=t)>>>0>k[2032]&&(S[2032]=t);n:{a:{o:{if(i=S[1929]){for(t=8140;;){if(((n=S[t>>2])+(a=S[t+4>>2])|0)==(0|r))break o;if(!(t=S[t+8>>2]))break}break a}for((t=S[1927])>>>0<=r>>>0&&t||(S[1927]=r),t=0,S[2036]=o,S[2035]=r,S[1931]=-1,S[1932]=S[2041],S[2038]=0;n=7732+(i=t<<3)|0,S[i+7740>>2]=n,S[i+7744>>2]=n,32!=(0|(t=t+1|0)););n=(t=o+-40|0)-(i=r+8&7?-8-r&7:0)|0,S[1926]=n,i=r+i|0,S[1929]=i,S[i+4>>2]=1|n,S[4+(t+r|0)>>2]=40,S[1930]=S[2045];break n}if(!(8&x[t+12|0]|r>>>0<=i>>>0|i>>>0<n>>>0)){S[t+4>>2]=a+o,r=(t=i+8&7?-8-i&7:0)+i|0,S[1929]=r,t=(n=S[1926]+o|0)-t|0,S[1926]=t,S[r+4>>2]=1|t,S[4+(i+n|0)>>2]=40,S[1930]=S[2045];break n}}r>>>0<(a=S[1927])>>>0&&(S[1927]=r,a=0),n=r+o|0,t=8140;a:{o:{s:{u:{l:{c:{for(;(0|n)!=S[t>>2];)if(!(t=S[t+8>>2]))break c;if(!(8&x[t+12|0]))break l}for(t=8140;;){if((n=S[t>>2])>>>0<=i>>>0&&i>>>0<(a=n+S[t+4>>2]|0)>>>0)break u;t=S[t+8>>2]}}if(S[t>>2]=r,S[t+4>>2]=S[t+4>>2]+o,S[4+(c=(r+8&7?-8-r&7:0)+r|0)>>2]=3|s,t=((r=n+(n+8&7?-8-n&7:0)|0)-c|0)-s|0,u=s+c|0,(0|r)==(0|i)){S[1929]=u,t=S[1926]+t|0,S[1926]=t,S[u+4>>2]=1|t;break o}if(S[1928]==(0|r)){S[1928]=u,t=S[1925]+t|0,S[1925]=t,S[u+4>>2]=1|t,S[t+u>>2]=t;break o}if(1==(3&(i=S[r+4>>2]))){h=-8&i;l:if(i>>>0<=255){if(a=i>>>3,i=S[r+8>>2],(0|(n=S[r+12>>2]))==(0|i)){f=7692,d=S[1923]&It(a),S[f>>2]=d;break l}S[i+12>>2]=n,S[n+8>>2]=i}else{if(l=S[r+24>>2],(0|(o=S[r+12>>2]))==(0|r))if((s=S[(n=r+20|0)>>2])||(s=S[(n=r+16|0)>>2])){for(;i=n,(s=S[(n=(o=s)+20|0)>>2])||(n=o+16|0,s=S[o+16>>2]););S[i>>2]=0}else o=0;else i=S[r+8>>2],S[i+12>>2]=o,S[o+8>>2]=i;if(l){i=S[r+28>>2];c:{if(S[(n=7996+(i<<2)|0)>>2]==(0|r)){if(S[n>>2]=o)break c;f=7696,d=S[1924]&It(i),S[f>>2]=d;break l}if(!(S[l+(S[l+16>>2]==(0|r)?16:20)>>2]=o))break l}S[o+24>>2]=l,(i=S[r+16>>2])&&(S[o+16>>2]=i,S[i+24>>2]=o),(i=S[r+20>>2])&&(S[o+20>>2]=i,S[i+24>>2]=o)}}r=r+h|0,t=t+h|0}if(S[r+4>>2]=-2&S[r+4>>2],S[u+4>>2]=1|t,(S[t+u>>2]=t)>>>0<=255){t=7732+((r=t>>>3)<<3)|0,r=(i=S[1923])&(r=1<<r)?S[t+8>>2]:(S[1923]=r|i,t),S[t+8>>2]=u,S[r+12>>2]=u,S[u+12>>2]=t,S[u+8>>2]=r;break o}if(r=0,(n=t>>>8)&&(r=31,16777215<t>>>0||(r=28+((r=((s=(n<<=a=n+1048320>>>16&8)<<(r=n+520192>>>16&4))<<(n=s+245760>>>16&2)>>>15)-(n|r|a)|0)<<1|t>>>r+21&1)|0)),S[(i=u)+28>>2]=r,S[u+16>>2]=0,i=7996+(r<<2)|(S[u+20>>2]=0),(n=S[1924])&(a=1<<r)){for(n=t<<(31==(0|r)?0:25-(r>>>1)|0),r=S[i>>2];;){if((-8&S[(i=r)+4>>2])==(0|t))break s;if(r=n>>>29,n<<=1,!(r=S[16+(a=(4&r)+i|0)>>2]))break}S[a+16>>2]=u}else S[1924]=n|a,S[i>>2]=u;S[u+24>>2]=i,S[u+12>>2]=u,S[u+8>>2]=u;break o}for(u=(t=o+-40|0)-(n=r+8&7?-8-r&7:0)|0,S[1926]=u,n=r+n|0,S[1929]=n,S[n+4>>2]=1|u,S[4+(t+r|0)>>2]=40,S[1930]=S[2045],S[(n=(t=(a+(a+-39&7?39-a&7:0)|0)-47|0)>>>0<i+16>>>0?i:t)+4>>2]=27,t=S[2038],S[n+16>>2]=S[2037],S[n+20>>2]=t,t=S[2036],S[n+8>>2]=S[2035],S[n+12>>2]=t,S[2037]=n+8,S[2036]=o,S[2035]=r,t=n+24|(S[2038]=0);S[t+4>>2]=7,r=t+8|0,t=t+4|0,r>>>0<a>>>0;);if((0|i)==(0|n))break n;if(S[n+4>>2]=-2&S[n+4>>2],a=n-i|0,S[i+4>>2]=1|a,(S[n>>2]=a)>>>0<=255){t=7732+((r=a>>>3)<<3)|0,r=(n=S[1923])&(r=1<<r)?S[t+8>>2]:(S[1923]=r|n,t),S[t+8>>2]=i,S[r+12>>2]=i,S[i+12>>2]=t,S[i+8>>2]=r;break n}if(S[i+16>>2]=0,t=S[i+20>>2]=0,(n=a>>>8)&&(t=31,16777215<a>>>0||(t=28+((t=((u=(n<<=o=n+1048320>>>16&8)<<(t=n+520192>>>16&4))<<(n=u+245760>>>16&2)>>>15)-(n|t|o)|0)<<1|a>>>t+21&1)|0)),r=7996+((S[(r=i)+28>>2]=t)<<2)|0,(n=S[1924])&(o=1<<t)){for(t=a<<(31==(0|t)?0:25-(t>>>1)|0),r=S[r>>2];;){if((0|a)==(-8&S[(n=r)+4>>2]))break a;if(r=t>>>29,t<<=1,!(r=S[16+(o=n+(4&r)|0)>>2]))break}S[o+16>>2]=i,S[i+24>>2]=n}else S[1924]=n|o,S[r>>2]=i,S[i+24>>2]=r;S[i+12>>2]=i,S[i+8>>2]=i;break n}t=S[i+8>>2],S[t+12>>2]=u,S[i+8>>2]=u,S[u+24>>2]=0,S[u+12>>2]=i,S[u+8>>2]=t}t=c+8|0;break t}t=S[n+8>>2],S[t+12>>2]=i,S[n+8>>2]=i,S[i+24>>2]=0,S[i+12>>2]=n,S[i+8>>2]=t}if(!((t=S[1926])>>>0<=s>>>0)){r=t-s|0,S[1926]=r,i=(t=S[1929])+s|0,S[1929]=i,S[i+4>>2]=1|r,S[t+4>>2]=3|s,t=t+8|0;break t}}S[1906]=48,t=0;break t}r:if(u){t=S[a+28>>2];i:{if(S[(n=7996+(t<<2)|0)>>2]==(0|a)){if(S[n>>2]=r)break i;l=It(t)&l,S[1924]=l;break r}if(!(S[u+(S[u+16>>2]==(0|a)?16:20)>>2]=r))break r}S[r+24>>2]=u,(t=S[a+16>>2])&&(S[r+16>>2]=t,S[t+24>>2]=r),(t=S[a+20>>2])&&(S[r+20>>2]=t,S[t+24>>2]=r)}r:if(i>>>0<=15)t=i+s|0,S[a+4>>2]=3|t,S[4+(t=t+a|0)>>2]=1|S[t+4>>2];else if(S[a+4>>2]=3|s,S[4+(n=a+s|0)>>2]=1|i,(S[i+n>>2]=i)>>>0<=255)t=7732+((r=i>>>3)<<3)|0,r=(i=S[1923])&(r=1<<r)?S[t+8>>2]:(S[1923]=r|i,t),S[t+8>>2]=n,S[r+12>>2]=n,S[n+12>>2]=t,S[n+8>>2]=r;else{t=0,(s=i>>>8)&&(t=31,16777215<i>>>0||(t=28+((t=((u=(s<<=o=s+1048320>>>16&8)<<(t=s+520192>>>16&4))<<(s=u+245760>>>16&2)>>>15)-(s|t|o)|0)<<1|i>>>t+21&1)|0)),S[(r=n)+28>>2]=t,S[n+16>>2]=0,r=7996+(t<<2)|(S[n+20>>2]=0);i:{if((s=1<<t)&l){for(t=i<<(31==(0|t)?0:25-(t>>>1)|0),s=S[r>>2];;){if((-8&S[(r=s)+4>>2])==(0|i))break i;if(s=t>>>29,t<<=1,!(s=S[16+(o=(4&s)+r|0)>>2]))break}S[o+16>>2]=n}else S[1924]=s|l,S[r>>2]=n;S[n+24>>2]=r,S[n+12>>2]=n,S[n+8>>2]=n;break r}t=S[r+8>>2],S[t+12>>2]=n,S[r+8>>2]=n,S[n+24>>2]=0,S[n+12>>2]=r,S[n+8>>2]=t}t=a+8|0;break t}e:if(c){t=S[r+28>>2];r:{if(S[(i=7996+(t<<2)|0)>>2]==(0|r)){if(S[i>>2]=a)break r;f=7696,d=It(t)&h,S[f>>2]=d;break e}if(!(S[c+(S[c+16>>2]==(0|r)?16:20)>>2]=a))break e}S[a+24>>2]=c,(t=S[r+16>>2])&&(S[a+16>>2]=t,S[t+24>>2]=a),(t=S[r+20>>2])&&(S[a+20>>2]=t,S[t+24>>2]=a)}n>>>0<=15?(t=n+s|0,S[r+4>>2]=3|t,S[4+(t=t+r|0)>>2]=1|S[t+4>>2]):(S[r+4>>2]=3|s,S[4+(s=r+s|0)>>2]=1|n,S[n+s>>2]=n,l&&(t=7732+((i=l>>>3)<<3)|0,a=S[1928],i=(i=1<<i)&o?S[t+8>>2]:(S[1923]=i|o,t),S[t+8>>2]=a,S[i+12>>2]=a,S[a+12>>2]=t,S[a+8>>2]=i),S[1928]=s,S[1925]=n),t=r+8|0}return N=16+e|0,t}function it(t){var e=0,r=M(0),i=0,n=0,a=M(0),o=M(0);f(t);t:{if(1283457024<=(e=2147483647&(n=u(0)))>>>0){if(2139095040<e>>>0)break t;return M((0|n)<0?-1.570796251296997:1.570796251296997)}e:{if(e>>>0<=1054867455){if(i=-1,964689920<=e>>>0)break e;break t}if(t=M(E(t)),e>>>0<=1066926079){if(e>>>0<=1060110335){t=M(M(M(t+t)+M(-1))/M(t+M(2))),i=0;break e}t=M(M(t+M(-1))/M(t+M(1))),i=1}else i=e>>>0<=1075576831?(t=M(M(t+M(-1.5))/M(M(t*M(1.5))+M(1))),2):(t=M(M(-1)/t),3)}if(e=i,a=M(t*t),r=M(a*a),o=M(r*M(M(r*M(-.106480173766613))+M(-.19999158382415771))),r=M(a*M(M(r*M(M(r*M(.06168760731816292))+M(.14253635704517365)))+M(.333333283662796))),(0|e)<=-1)return M(t-M(t*M(o+r)));t=M(I[6080+(e<<=2)>>2]-M(M(M(t*M(o+r))-I[e+6096>>2])-t)),t=(0|n)<0?M(-t):t}return t}function nt(t,e){var r,i=0,n=0,a=0,o=0,s=0;N=r=N-16|0,f(t);t:if((i=2147483647&(a=u(0)))>>>0<=1305022426){if(n=.6366197723675814*(o=+t)+6755399441055744-6755399441055744,P[e>>3]=o+-1.5707963109016418*n+-1.5893254773528196e-8*n,E(n)<2147483648){i=~~n;break t}i=-2147483648}else 2139095040<=i>>>0?(P[e>>3]=M(t-t),i=0):(i=((s=i)>>>23)-150|0,P[8+r>>3]=(l(0,s-(i<<23)|0),d()),i=vt(8+r|0,r,i),n=P[r>>3],(0|a)<=-1?(P[e>>3]=-n,i=0-i|0):P[e>>3]=n);return N=16+r|0,i}function at(t){var e=0,r=0,i=0,n=0,a=0;i=4,r=1082;t:if(e=x[0|t]){for(;!((0|(n=x[0|r]))!=(0|e)||!(i=i+-1|0)|!n);)if(r=r+1|0,e=x[t+1|0],t=t+1|0,!e)break t;a=e}return(255&a)-x[0|r]|0}function ot(t,e){return t?function(t,e){t:{if(t){if(e>>>0<=127)break t;if(S[S[1625]>>2]){if(e>>>0<=2047)return A[t+1|0]=63&e|128,A[0|t]=e>>>6|192,2;if(!(57344!=(-8192&e)&&55296<=e>>>0))return A[t+2|0]=63&e|128,A[0|t]=e>>>12|224,A[t+1|0]=e>>>6&63|128,3;if(e+-65536>>>0<=1048575)return A[t+3|0]=63&e|128,A[0|t]=e>>>18|240,A[t+2|0]=e>>>6&63|128,A[t+1|0]=e>>>12&63|128,4}else if(57216==(-128&e))break t;S[1906]=25,t=-1}else t=1;return t}return A[0|t]=e,1}(t,e):0}function st(t,e,r,i){t:{if(!(20<e>>>0||9<(e=e+-9|0)>>>0)){e:switch(e-1|0){default:return e=S[r>>2],S[r>>2]=e+4,void(S[t>>2]=S[e>>2]);case 0:return e=S[r>>2],S[r>>2]=e+4,e=S[e>>2],S[t>>2]=e,void(S[t+4>>2]=e>>31);case 1:return e=S[r>>2],S[r>>2]=e+4,S[t>>2]=S[e>>2],void(S[t+4>>2]=0);case 3:return e=S[r>>2],S[r>>2]=e+4,e=w[e>>1],S[t>>2]=e,void(S[t+4>>2]=e>>31);case 4:return e=S[r>>2],S[r>>2]=e+4,S[t>>2]=C[e>>1],void(S[t+4>>2]=0);case 5:return e=S[r>>2],S[r>>2]=e+4,e=A[0|e],S[t>>2]=e,void(S[t+4>>2]=e>>31);case 6:return e=S[r>>2],S[r>>2]=e+4,S[t>>2]=x[0|e],void(S[t+4>>2]=0);case 2:case 7:break t;case 8:}b[i](t,r)}return}e=S[r>>2]+7&-8,S[r>>2]=e+8,r=S[e+4>>2],S[t>>2]=S[e>>2],S[t+4>>2]=r}function ut(t){var e=0,r=0,i=0;if($(A[S[t>>2]]))for(;e=S[t>>2],i=A[0|e],S[t>>2]=e+1,r=(B(r,10)+i|0)-48|0,$(A[e+1|0]););return r}function lt(t,e,r,i,n){var a,o=0,s=0;S[204+(N=a=N-208|0)>>2]=r,Z(160+a|(r=0),0,40),S[200+a>>2]=S[204+a>>2],(0|et(0,e,200+a|0,80+a|0,160+a|0,i,n))<0||(r=0<=S[t+76>>2]?1:r,o=S[t>>2],A[t+74|0]<=0&&(S[t>>2]=-33&o),s=32&o,S[t+48>>2]?et(t,e,200+a|0,80+a|0,160+a|0,i,n):(S[t+48>>2]=80,S[t+16>>2]=80+a,S[t+28>>2]=a,S[t+20>>2]=a,o=S[t+44>>2],et(t,e,200+(S[t+44>>2]=a)|0,80+a|0,160+a|0,i,n),o&&(b[S[t+36>>2]](t,0,0),S[t+48>>2]=0,S[t+44>>2]=o,S[t+28>>2]=0,S[t+16>>2]=0,S[t+20>>2]=0)),S[t>>2]=S[t>>2]|s),N=208+a|0}function ct(t,e,r){var i,n=0;K(8+(N=i=N-160|0)|0,2536,144),S[52+i>>2]=t,n=(n=-2-(S[28+i>>2]=t)|0)>>>0<256?n:256,t=t+(S[56+i>>2]=n)|0,S[36+i>>2]=t,S[24+i>>2]=t,lt(8+i|0,e,r,15,16),n&&(t=S[28+i>>2],A[t-((0|t)==S[24+i>>2])|0]=0),N=160+i|0}function ht(t){var e=0,r=0,i=0,n=0,a=0,o=0,s=0,u=M(0),l=0,c=0,h=0,f=0,d=0,p=0,g=0,m=M(0),_=0,y=M(0),v=0,w=0,k=M(0),P=M(0),T=M(0),V=0,F=0,L=0,O=0,N=0,z=0,U=0;if(S[t+256>>2]&&(e=S[t+200>>2]<<2,K(S[t+280>>2],S[t+264>>2],e),K(S[t+284>>2],S[t+268>>2],e),K(S[t+288>>2],S[t+276>>2],e)),!((0|(a=S[t+292>>2]))<1)){for(l=(s=S[t+296>>2])+B(a,40)|0,i=S[t+300>>2],e=s;T=I[i>>2],(y=I[e+32>>2])==(u=(r=S[e+12>>2])?(k=I[e>>2],u=M(T-k),T=I[e+8>>2],m=M(u/T),u=M(R(m)),n=M(E(u))<M(2147483648)?~~u:-2147483648,M(k+M(T*M(m-M(0|n))))):(m=I[e>>2],u=I[e+4>>2],T<m?m:u<T?u:T))?S[e+36>>2]=0:(I[e+32>>2]=u,S[e+36>>2]=1),r||(I[i>>2]=u),i=i+4|0,(e=e+40|0)>>>0<l>>>0;);if(!((0|a)<1))for(_=S[t+308>>2],g=S[t+376>>2];;){t:if(!((0|(r=S[s+28>>2]))<1))if(c=(e=_+B(S[s+24>>2],28)|0)+B(r,28)|0,T=I[s+20>>2],P=I[s+16>>2],y=I[s+32>>2],g)for(;;){k=M(a=0);e:{r:{i:{if((0|(o=S[e>>2]))<1)i=n=0;else if(r=S[e+4>>2],m=I[r>>2],u=M(m-P),1!=(0|o)){if(y<u){n=1,i=0;break r}if(n=0,y<M(P+m))i=0;else{if(i=1,u=I[r+4>>2],!(y<M(P+u)))for(;;){if((0|o)==(0|(i=i+1|0)))break i;if(m=u,u=I[r+(i<<2)>>2],y<M(P+u))break}M(u-P)<y||(i=i+-1|0,(u=M(u-m))<T||(k=M(M(y-m)/u)))}}else n=y<M(P+m)^1|u<y^1,i=0;if(n)break r;if(p=o=1,!S[e+16>>2])break r;break e}i=o+-1|0,n=1}p=(o=(u=I[e+12>>2])!=k)&(k==M(0)|u==M(0))|S[e+8>>2]!=(0|i),a=n}if(S[e+20>>2]=p,S[e+24>>2]=o,I[e+12>>2]=k,S[e+16>>2]=a,S[e+8>>2]=i,!((e=e+28|0)>>>0<c>>>0))break}else{if(!S[s+36>>2])for(;;)if(S[e+20>>2]=0,!((e=e+28|(S[e+24>>2]=0))>>>0<c>>>0))break t;for(;;){k=M(a=0);e:{r:{i:{n:if(!(((n=0)|(i=S[(r=e)>>2]))<1)){if(f=S[e+4>>2],m=I[f>>2],u=M(m-P),1!=(0|i)){if(!(y<u)){if(n=0,y<M(P+m))break n;o=1;a:if(u=I[f+4>>2],!(y<M(P+u))){for(i=i+-1|0;m=u,(0|i)!=(0|o);)if(u=I[f+((o=o+1|0)<<2)>>2],y<M(P+u))break a;n=1;break r}if(n=0,M(u-P)<y){i=o;break i}if(i=o+-1|0,(u=M(u-m))<T)break i;k=M(M(y-m)/u);break i}n=1,i=0;break r}n=y<M(P+m)^1|u<y^1}i=0}if(!n&&(f=o=1,S[e+16>>2]))break e}a=n,f=(o=(u=I[e+12>>2])!=k)&(k==M(0)|u==M(0))|S[e+8>>2]!=(0|i)}if(S[r+20>>2]=f,S[e+24>>2]=o,I[e+12>>2]=k,S[e+16>>2]=a,S[e+8>>2]=i,!((e=e+28|0)>>>0<c>>>0))break}}if(!((s=s+40|0)>>>0<l>>>0))break}}if(1<=(0|(e=S[t+312>>2])))for(f=(h=S[t+316>>2])+B(e,36)|0,l=S[t+376>>2];;){N=(r=S[h+12>>2])+((s=S[h>>2])<<2)|0,v=S[t+308>>2],e=r;t:{if(!(s=((o=n=a=0)|s)<1))for(;;){if(i=v+B(S[e>>2],28)|0,S[i+16>>2]){p=1,w=O=0;break t}if(a=a||S[i+24>>2],o=o||S[i+20>>2],n=(I[i+12>>2]!=M(0))+n|0,!((e=e+4|0)>>>0<N>>>0))break}if(p=0,(w=l?1:o)|(O=l?1:a)&&(L=1<<n,S[h+8>>2]=L,31!=(0|n))){for(a=S[h+20>>2],i=(e=S[h+16>>2])+(o=L<<2)|0,V=Z(d=e,0,4+((c=-1^e)+((e=e+4|0)>>>0<i>>>0?i:e)|0)&-4),o=a+o|0,e=a;S[e>>2]=1065353216,(e=e+4|0)>>>0<o>>>0;);if(!s)if(o=s=1,n)for(;;){if(d=v+B(S[r>>2],28)|0,n=S[d+8>>2],c=B(n,s),e=0,(u=I[d+12>>2])==M(0))for(;S[(n=V+(e<<2)|0)>>2]=c+S[n>>2],(0|L)!=(0|(e=e+1|0)););else{for(S[V>>2]=c+S[V>>2],I[a>>2]=M(M(1)-u)*I[a>>2],_=B(n+(e=1)|0,s);u=I[d+12>>2],i=e&o,S[(n=(g=e<<2)+V|0)>>2]=S[n>>2]+(i?_:c),I[(n=a+g|0)>>2]=(i?u:M(M(1)-u))*I[n>>2],(0|L)!=(0|(e=e+1|0)););o<<=1}if(s=B(S[d>>2],s),!((r=r+4|0)>>>0<N>>>0))break}else for(;;){if(i=v+B(S[r>>2],28)|0,o=B(S[i+8>>2],s),e=0,(u=I[i+12>>2])==M(0))for(;S[(n=V+(e<<2)|0)>>2]=o+S[n>>2],(0|L)!=(0|(e=e+1|0)););else S[V>>2]=o+S[V>>2],I[a>>2]=M(M(1)-u)*I[a>>2];if(s=B(S[i>>2],s),!((r=r+4|0)>>>0<N>>>0))break}}}if(S[h+32>>2]=p,S[h+24>>2]=w,S[h+28>>2]=O,!((h=h+36|0)>>>0<f>>>0))break}if(!((0|(n=S[t+4>>2]))<=0)){for(r=(e=S[t+52>>2])+(n<<2)|0;u=I[e>>2],I[e>>2]=u<M(0)?M(0):M(D(u,M(1))),(e=e+4|0)>>>0<r>>>0;);if(!((0|n)<1)){for(s=(e=S[t+8>>2])+(n<<3)|0,c=S[t+316>>2],a=S[t+40>>2],i=o=S[t+36>>2];n=0,S[e+4>>2]&&(r=S[e>>2],!S[o+(r<<2)>>2]&&-1!=(0|r)||(n=!S[32+(c+B(S[a>>2],36)|0)>>2])),S[i>>2]=n,a=a+4|0,i=i+4|0,(e=e+8|0)>>>0<s>>>0;);if(!((0|(l=S[t+4>>2]))<1))for(f=S[t>>2],_=S[f+724>>2],r=S[t+40>>2],o=s=0;;){if(d=c+B(S[r>>2],36)|0,(S[d+28>>2]||S[d+24>>2])&&(S[(a=s<<2)+S[t+16>>2]>>2]=S[d+8>>2],S[d+24>>2]&&!((0|(n=S[d+8>>2]))<1)))for(g=(e=S[d+16>>2])+(n<<2)|0,a=S[a+_>>2],i=S[t+28>>2]+(o<<2)|0,n=S[f+936>>2];S[i>>2]=S[n+(a+S[e>>2]<<2)>>2],i=i+4|0,(e=e+4|0)>>>0<g>>>0;);if(S[d+28>>2]&&!((0|(n=S[d+8>>2]))<1))for(n=(e=S[d+20>>2])+(n<<2)|0,i=S[t+20>>2]+(o<<2)|0;S[i>>2]=S[e>>2],i=i+4|0,(e=e+4|0)>>>0<n>>>0;);if(r=r+4|0,o=S[d+4>>2]+o|0,(0|l)==(0|(s=s+1|0)))break}}}if(b[S[1644]](t),z=S[t+316>>2],1<=(0|(r=S[t+56>>2]))){for(l=(e=S[t+60>>2])+(r<<5)|0,f=S[t+176>>2],_=S[t+172>>2],g=S[t+36>>2],n=S[t+180>>2],a=i=S[t+168>>2];;){o=a,r=0,S[e+28>>2]&&(-1!=(0|(s=S[e>>2]))&&(r=0,!S[g+(s<<2)>>2])||-1!=(0|(s=S[e+4>>2]))&&(r=0,!S[i+(s<<2)>>2])||(r=!S[32+(B(S[n>>2],36)+z|0)>>2])),S[o>>2]=r;t:if((o=S[e+8>>2])>>>0<=1){if(o-1){S[_+(S[e+12>>2]<<2)>>2]=r;break t}S[f+(S[e+12>>2]<<2)>>2]=r}else G(4,1473,0);if(n=n+4|0,a=a+4|0,!((e=e+32|0)>>>0<l>>>0))break}z=S[t+316>>2]}if(s=S[t>>2],1<=(0|(l=S[t- -64>>2]))){for(f=S[s+988>>2],_=S[s+784>>2],p=S[t+184>>2],h=r=0;;){if(c=B(S[p>>2],36)+z|0,(S[c+28>>2]||S[c+24>>2])&&(S[(a=r<<2)+S[t+84>>2]>>2]=S[c+8>>2],S[c+24>>2]&&!((0|(n=S[c+8>>2]))<1)))for(g=(e=S[c+16>>2])+(n<<2)|0,o=S[a+_>>2],i=(n=h<<2)+S[t+100>>2]|0,a=n+S[t+96>>2]|0;n=o+S[e>>2]<<2,S[i>>2]=f+(S[n+S[s+944>>2]>>2]<<2),S[a>>2]=S[n+S[s+940>>2]>>2],a=a+4|0,i=i+4|0,(e=e+4|0)>>>0<g>>>0;);if(S[c+28>>2]&&!((0|(n=S[c+8>>2]))<1))for(n=(e=S[c+20>>2])+(n<<2)|0,i=S[t+88>>2]+(h<<2)|0;S[i>>2]=S[e>>2],i=i+4|0,(e=e+4|0)>>>0<n>>>0;);if(p=p+4|0,h=S[c+4>>2]+h|0,(0|l)==(0|(r=r+1|0)))break}z=S[t+316>>2],s=S[t>>2]}if(1<=(0|(L=S[t+72>>2])))for(N=S[t+76>>2],v=S[s+808>>2],O=S[t+188>>2],w=h=0;;){if(F=B(S[O>>2],36)+z|0,(S[F+28>>2]||S[F+24>>2])&&(S[(r=h<<2)+S[t+116>>2]>>2]=S[F+8>>2],S[F+24>>2])){if(e=S[F+16>>2],V=S[r+v>>2],1<=(0|(r=S[F+8>>2])))for(d=e+(r<<2)|0,i=(r=w<<2)+S[t+132>>2]|0,a=r+S[t+136>>2]|0,n=r+S[t+140>>2]|0,o=r+S[t+144>>2]|0,p=r+S[t+128>>2]|0,c=S[s+948>>2],l=S[s+964>>2],f=S[s+960>>2],_=S[s+956>>2],g=S[s+952>>2],r=e;U=V+S[r>>2]<<2,S[i>>2]=S[U+g>>2],S[a>>2]=S[_+U>>2],S[n>>2]=S[f+U>>2],S[o>>2]=S[l+U>>2],S[p>>2]=S[c+U>>2],p=p+4|0,o=o+4|0,n=n+4|0,a=a+4|0,i=i+4|0,(r=r+4|0)>>>0<d>>>0;);r=N+(h<<5)|0,e=V+S[e>>2]<<2,S[r+24>>2]=S[e+S[s+968>>2]>>2],S[r+28>>2]=S[e+S[s+972>>2]>>2]}if(S[F+28>>2]&&!((0|(r=S[F+8>>2]))<1))for(r=(e=S[F+20>>2])+(r<<2)|0,i=S[t+120>>2]+(w<<2)|0;S[i>>2]=S[e>>2],i=i+4|0,(e=e+4|0)>>>0<r>>>0;);if(O=O+4|0,w=S[F+4>>2]+w|0,(0|L)==(0|(h=h+1|0)))break}if(b[S[1642]](t),b[S[1645]](t),!((0|(r=S[t+200>>2]))<1)){for(g=(e=S[t+204>>2])+(r<<4)|0,s=S[t+168>>2],o=S[t+36>>2],c=S[t+316>>2],a=S[t+252>>2],i=S[t+248>>2];n=0,S[e+8>>2]&&(r=S[e>>2],!S[o+(r<<2)>>2]&&-1!=(0|r)||(r=S[e+4>>2],!S[s+(r<<2)>>2]&&-1!=(0|r)||(n=!S[32+(c+B(S[a>>2],36)|0)>>2]))),S[i>>2]=n,a=a+4|0,i=i+4|0,(e=e+16|0)>>>0<g>>>0;);if(!((0|(f=S[t+200>>2]))<1))for(d=S[t>>2],_=S[d+988>>2],g=S[d+844>>2],r=S[t+252>>2],p=h=0;;){if(v=c+B(S[r>>2],36)|0,(S[v+28>>2]||S[v+24>>2])&&(S[(a=h<<2)+S[t+212>>2]>>2]=S[v+8>>2],S[v+24>>2]&&!((0|(n=S[v+8>>2]))<1)))for(s=(e=S[v+16>>2])+(n<<2)|0,o=S[a+g>>2],i=(n=p<<2)+S[t+232>>2]|0,a=n+S[t+224>>2]|0,n=n+S[t+228>>2]|0;l=o+S[e>>2]<<2,S[i>>2]=_+(S[l+S[d+984>>2]>>2]<<2),S[a>>2]=S[l+S[d+976>>2]>>2],S[n>>2]=S[l+S[d+980>>2]>>2],n=n+4|0,a=a+4|0,i=i+4|0,(e=e+4|0)>>>0<s>>>0;);if(S[v+28>>2]&&!((0|(n=S[v+8>>2]))<1))for(n=(e=S[v+20>>2])+(n<<2)|0,i=S[t+216>>2]+(p<<2)|0;S[i>>2]=S[e>>2],i=i+4|0,(e=e+4|0)>>>0<n>>>0;);if(r=r+4|0,p=S[v+4>>2]+p|0,(0|f)==(0|(h=h+1|0)))break}}if(b[S[1643]](t),function(t){var e,r=0,i=0,n=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,f=0,d=0;if(1<=(0|(e=S[t+340>>2])))for(c=S[t+316>>2],l=S[t>>2],h=S[l+1072>>2],o=S[t+372>>2];;){if(n=B(S[o>>2],36)+c|0,(S[n+28>>2]||S[n+24>>2])&&(S[(r=s<<2)+S[t+352>>2]>>2]=S[n+8>>2],S[n+24>>2]&&!((0|(a=S[n+8>>2]))<1)))for(a=(i=S[n+16>>2])+(a<<2)|0,f=S[r+h>>2],r=S[t+364>>2]+(u<<2)|0,d=S[l+1104>>2];S[r>>2]=S[(S[i>>2]+f<<2)+d>>2],r=r+4|0,(i=i+4|0)>>>0<a>>>0;);if(S[n+28>>2]&&!((0|(r=S[n+8>>2]))<1))for(a=(i=S[n+20>>2])+(r<<2)|0,r=S[t+356>>2]+(u<<2)|0;S[r>>2]=S[i>>2],r=r+4|0,(i=i+4|0)>>>0<a>>>0;);if(o=o+4|0,u=S[n+4>>2]+u|0,(0|e)==(0|(s=s+1|0)))break}}(t),b[S[1646]](t),r=S[t+48>>2],1<=(0|(e=S[t+4>>2])))for(s=(a=S[t+8>>2])+(e<<3)|0,n=S[t+52>>2],i=S[t+36>>2],e=r;S[i>>2]&&(u=I[n>>2],I[e>>2]=u,-1!=(0|(o=S[a>>2]))&&(I[e>>2]=u*I[(o<<2)+r>>2])),e=e+4|0,n=n+4|0,i=i+4|0,(a=a+8|0)>>>0<s>>>0;);if(1<=(0|(n=S[t+56>>2]))){for(r=t+56|0,e=S[t+60>>2],i=S[t+168>>2],a=0;S[i>>2]&&b[S[e+16>>2]](e,a,r),i=i+4|0,e=e+32|0,(0|n)!=(0|(a=a+1|0)););r=S[t+48>>2]}if(1<=(0|(n=S[t+200>>2])))for(f=(e=S[t+204>>2])+(n<<4)|0,_=S[t+192>>2],g=S[t+60>>2],a=S[t+248>>2],i=S[t+276>>2],n=S[t+272>>2];S[a>>2]&&(-1!=(0|(o=S[e>>2]))&&(I[i>>2]=I[(o<<2)+r>>2]*I[i>>2]),-1!=(0|(o=S[e+4>>2]))&&(I[i>>2]=I[_+(o<<2)>>2]*I[i>>2],s=g+(o<<5)|0,o=S[n>>2],b[S[s+20>>2]](S[s+24>>2],o,o,S[e+12>>2]))),n=n+4|0,i=i+4|0,a=a+4|0,(e=e+16|0)>>>0<f>>>0;);if(function(t){var e=0,r=0,i=0,n=0,a=M(0),o=M(0),s=M(0),u=M(0),l=M(0),c=0,h=0,f=0,d=0,p=0,g=M(0),m=0,_=0,y=M(0),v=0;if(1<=(0|(i=S[t+340>>2])))for(v=(e=S[t+344>>2])+B(i,24)|0,i=S[t+272>>2];;){if((t=0)<(0|(c=S[e+8>>2])))for(h=S[i+(S[e+4>>2]<<2)>>2],f=S[i+(S[e>>2]<<2)>>2],a=I[e+20>>2],d=S[e+16>>2],p=S[e+12>>2];g=I[((r=1|t)<<2)+p>>2],n=C[(t<<1)+d>>1]<<3&262136,o=I[(m=(4|n)+f|0)>>2],r=C[(r<<1)+d>>1]<<3&262136,s=I[(_=(4|r)+h|0)>>2],u=I[(n=n+f|0)>>2],y=I[(t<<2)+p>>2],l=I[(r=r+h|0)>>2],I[n>>2]=u+M(a*M(y*M(l-u))),I[m>>2]=o+M(a*M(y*M(s-o))),I[r>>2]=l+M(a*M(g*M(u-l))),I[_>>2]=s+M(a*M(g*M(o-s))),(0|(t=t+2|0))<(0|c););if(!((e=e+24|0)>>>0<v>>>0))break}}(t),b[S[1647]](t),p=S[t+248>>2],h=S[t+268>>2],1<=(0|(c=S[t+320>>2]))){for(f=(n=S[t+324>>2])+B(c,28)|0,_=S[t+44>>2],g=S[t+36>>2],r=n;;){if(1<=(0|(i=S[r+4>>2])))for(s=r+20|0,o=S[r+12>>2],e=0;l=S[4+(a=o+(e<<4)|0)>>2]<<2,a=1==S[(d=a)>>2],S[d+12>>2]=S[(S[l+(a?g:p)>>2]?l+(a?_:h)|0:s)>>2],(0|i)!=(0|(e=e+1|0)););if(!((r=r+28|0)>>>0<f>>>0))break}for(_=S[t+264>>2],w=0;;){if(l=n+B(w,28)|0,!(S[(f=l)+24>>2]<1)){for(a=S[t+328>>2],e=0;S[a+(e<<2)>>2]=-1,(0|(e=e+1|0))<(0|(r=S[f+24>>2])););if(!((0|r)<1))for(r=S[t+336>>2],e=0;S[r+(e<<2)>>2]=-1,(0|(e=e+1|0))<S[f+24>>2];);}if(!(S[l+4>>2]<1)){for(g=S[t+332>>2],e=0;S[g+(e<<2)>>2]=-1,(0|(e=e+1|0))<(0|(r=S[l+4>>2])););if(!((0|r)<1))for(i=S[l+12>>2],s=S[t+336>>2],e=0;o=S[12+(i+(e<<4)|0)>>2]-S[l+20>>2]<<2,r=-1!=(0|(r=S[(a=o+s|0)>>2]))?g+(r<<2)|0:o+S[t+328>>2]|0,S[r>>2]=e,(0|(e=(S[a>>2]=e)+1|0))<S[l+4>>2];);}if(1<=(0|(a=S[f+24>>2])))for(i=S[l+8>>2],g=S[t+328>>2],s=0;;){if(-1!=(0|(e=S[g+(s<<2)>>2]))){for(o=S[t+332>>2],a=S[l+12>>2];i=(r=1!=S[(r=a+(e<<4)|0)>>2]?(S[_+(S[r+4>>2]<<2)>>2]=i,1):(r=n+B(S[r+8>>2],28)|0,S[r+8>>2]=i,S[r>>2]))+i|0,(0|e)<(0|(r=S[o+(e<<2)>>2]))&&-1!=(0|(e=r)););a=S[f+24>>2]}if(!((0|(s=s+1|0))<(0|a)))break}if((0|c)==(0|(w=w+1|0)))break}}o=S[t+200>>2];t:{if(S[t+376>>2]){if(e=0,((S[t+256>>2]=0)|o)<1)break t;for(;;){if(i=62,a=S[t+260>>2]+e|0,!S[(r=e<<2)+p>>2]|I[r+S[t+276>>2]>>2]==M(0)||(i=63),A[0|a]=i,(0|o)==(0|(e=e+1|0)))break t;p=S[t+248>>2]}}if(!S[t+256>>2]){if((0|o)<1)break t;for(e=0;;){if(!S[(r=e<<2)+p>>2]|I[r+S[t+276>>2]>>2]==M(0)?(r=S[t+260>>2]+e|0,A[0|r]=254&x[0|r]):(r=S[t+260>>2]+e|0,A[0|r]=1|x[0|r]),(0|o)==(0|(e=e+1|0)))break t;p=S[t+248>>2]}}if(!(((S[t+256>>2]=0)|o)<1))for(i=0;;){if(u=I[(a=i<<2)+S[t+276>>2]>>2],n=S[a+p>>2],e=u!=M(0)&0!=(0|n),r=S[t+260>>2]+i|0,e=(0|e)==(1&A[0|r])?e:2|e,e=u!=I[a+S[t+288>>2]>>2]?4|e:e,e=S[a+h>>2]==S[a+S[t+284>>2]>>2]?e:8|e,e=S[a+S[t+264>>2]>>2]==S[a+S[t+280>>2]>>2]?e:16|e,A[0|r]=n?32|e:e,(0|o)==(0|(i=i+1|0)))break t;h=S[t+268>>2],p=S[t+248>>2]}}S[t+376>>2]=0}function ft(t,e,r){var i=0,n=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,f=0,d=0;if(S[e>>2]=384,n=S[t>>2],1<=(0|(o=S[n>>2]))){for(u=S[t+16>>2],l=S[t+296>>2];a=(1<<S[l+(S[u+(i<<2)>>2]<<2)>>2])+a|0,(0|o)!=(0|(i=i+1|0)););i=a<<2}if(S[e+4>>2]=o<<3,S[e+8>>2]=S[n>>2]<<2,S[e+12>>2]=S[n>>2]<<2,S[e+16>>2]=S[n>>2]<<2,S[e+20>>2]=S[n>>2]<<2,S[e+24>>2]=S[n>>2]<<2,a=S[n>>2],S[e+40>>2]=i,S[e+36>>2]=i,S[e+32>>2]=i,S[e+28>>2]=a<<2,1<=((a=i=0)|(l=S[n+8>>2]))){for(h=S[t+296>>2],f=S[t+88>>2],c=S[t+76>>2],o=0;i=(0|i)<(0|(u=S[(d=a<<2)+f>>2]))?u:i,s=(15+(u<<3)&-16)+s|0,o=(1<<S[h+(S[c+d>>2]<<2)>>2])+o|0,(0|l)!=(0|(a=a+1|0)););a=i<<3,i=o<<2}if(S[e+44>>2]=S[n+4>>2]<<5,S[e+48>>2]=B(S[n+8>>2],24),S[e+52>>2]=S[n+12>>2]<<5,S[e+56>>2]=S[n+4>>2]<<2,S[e+60>>2]=S[n+8>>2]<<2,S[e+64>>2]=S[n+12>>2]<<2,S[e+68>>2]=S[n+4>>2]<<2,o=S[n+4>>2],S[e+76>>2]=s,S[e+72>>2]=o<<2,S[e+80>>2]=S[n+8>>2]<<2,o=S[n+8>>2],S[e+104>>2]=a,S[e+100>>2]=i,S[e+96>>2]=i,S[e+92>>2]=i,S[e+88>>2]=i,S[e+84>>2]=o<<2,1<=((i=s=0)|(o=S[n+12>>2]))){for(u=S[t+296>>2],l=S[t+100>>2],a=0;a=(1<<S[u+(S[l+(i<<2)>>2]<<2)>>2])+a|0,(0|o)!=(0|(i=i+1|0)););i=a<<2}if(S[e+108>>2]=o<<2,a=S[n+12>>2],S[e+156>>2]=i,S[e+152>>2]=i,S[e+148>>2]=i,S[e+144>>2]=i,S[e+140>>2]=i,S[e+136>>2]=i,S[e+132>>2]=i,S[e+128>>2]=i,S[e+124>>2]=i,S[e+120>>2]=i,S[e+116>>2]=i,S[e+112>>2]=a<<2,1<=((a=i=0)|(u=S[n+16>>2]))){for(h=S[t+136>>2],f=S[t+296>>2],c=S[t+172>>2],o=0;i=(0|i)<(0|(l=S[(d=a<<2)+c>>2]))?l:i,s=(15+(l<<3)&-16)+s|0,o=(1<<S[f+(S[h+d>>2]<<2)>>2])+o|0,(0|u)!=(0|(a=a+1|0)););a=i<<3,i=o<<2}if(S[e+160>>2]=u<<4,S[e+164>>2]=S[n+16>>2]<<2,S[e+168>>2]=S[n+16>>2],S[e+172>>2]=S[n+16>>2]<<2,S[e+176>>2]=S[n+16>>2]<<2,o=S[n+16>>2],S[e+184>>2]=s,S[e+180>>2]=o<<2,S[e+188>>2]=S[n+16>>2]<<2,S[e+192>>2]=S[n+16>>2]<<2,S[e+196>>2]=S[n+16>>2]<<2,S[e+200>>2]=S[n+16>>2]<<2,S[e+204>>2]=S[n+16>>2]<<2,o=S[n+16>>2],S[e+236>>2]=a,S[e+232>>2]=i,S[e+228>>2]=i,S[e+224>>2]=i,S[e+220>>2]=i,S[e+216>>2]=i,S[e+212>>2]=i,S[e+208>>2]=o<<2,S[e+240>>2]=B(S[n+20>>2],40),S[e+244>>2]=S[n+20>>2]<<2,S[e+248>>2]=B(S[n+52>>2],28),1<=((i=o=0)|(s=S[n+48>>2]))){for(u=S[t+296>>2],a=0;a=(1<<S[u+(i<<2)>>2])+a|0,(0|s)!=(0|(i=i+1|0)););i=a<<2}if(S[e+260>>2]=i,S[e+256>>2]=i,S[e+252>>2]=B(s,36),S[e+264>>2]=B(S[n+72>>2],28),1<=((i=0)|(u=S[n+72>>2]))){for(l=S[t+340>>2],h=S[t+336>>2],f=S[t+328>>2],a=0;a=(0|(c=S[(s=o<<2)+h>>2]-S[s+l>>2]|0))<(0|a)?a:c+1|0,i=(0|i)<(0|(s=S[s+f>>2]))?s:i,(0|u)!=(0|(o=o+1|0)););o=a<<2,i<<=2}if(a=S[n+76>>2],S[e+280>>2]=o,S[e+276>>2]=i,S[e+272>>2]=o,S[e+268>>2]=a<<4,1<=((i=0)|(o=S[n+80>>2]))){for(s=S[t+364>>2],t=S[t+296>>2],a=0;a=(1<<S[t+(S[s+(i<<2)>>2]<<2)>>2])+a|0,(0|o)!=(0|(i=i+1|0)););i=a<<2}for(S[e+284>>2]=B(o,24),S[e+288>>2]=S[n+80>>2]<<2,t=S[n+80>>2],S[e+304>>2]=i,S[e+300>>2]=i,S[e+296>>2]=i,S[e>>2]=0,S[e+292>>2]=t<<2,i=384,a=1;i=((n=S[(t=(a<<2)+e|0)>>2])+15&-16)+(S[t>>2]=i)|0,77!=(0|(a=a+1|0)););S[r>>2]=i}function dt(t,e,r){var i;e|=0,N=i=N+-64|0;t:{if(t|=0)if(e)if((e+15&-16)==(0|e)){if(e=function(t,e,r){var i,n=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,f=0,d=0,p=0,g=0,m=0,_=0,y=0,v=0,b=0,w=0,C=M(0);if(Z(16+(N=i=N-336|0)|0,0,308),ft(t+704|0,16+i|0,12+i|0),(a=S[12+i>>2])>>>0<=r>>>0){if(n=(o=Z(e,r=0,a))+S[16+i>>2]|0,S[n+8>>2]=o+S[20+i>>2],S[n+36>>2]=o+S[24+i>>2],S[n+44>>2]=o+S[28+i>>2],S[n+48>>2]=o+S[32+i>>2],S[n+52>>2]=o+S[36+i>>2],S[n+12>>2]=o+S[40+i>>2],S[n+16>>2]=o+S[44+i>>2],S[n+20>>2]=o+S[48+i>>2],S[n+28>>2]=o+S[52+i>>2],S[n+32>>2]=o+S[56+i>>2],e=S[t+704>>2],S[n+60>>2]=o+S[60+i>>2],s=o+S[64+i>>2]|0,S[n+68>>2]=s,S[n+76>>2]=o+S[68+i>>2],S[n+168>>2]=o+S[72+i>>2],S[n+172>>2]=o+S[76+i>>2],S[n+176>>2]=o+S[80+i>>2],S[n+192>>2]=o+S[84+i>>2],S[n+196>>2]=o+S[88+i>>2],1<=(0|(e=S[e+8>>2])))for(a=o+S[92+i>>2]|0,u=S[t+792>>2];S[20+(s+B(r,24)|0)>>2]=a,a=(15+(S[u+(r<<2)>>2]<<3)&-16)+a|0,(0|e)!=(0|(r=r+1|0)););if(S[n+80>>2]=o+S[96+i>>2],S[n+84>>2]=o+S[100+i>>2],S[n+88>>2]=o+S[104+i>>2],S[n+96>>2]=o+S[108+i>>2],S[n+100>>2]=o+S[112+i>>2],S[n+104>>2]=o+S[116+i>>2],S[n+108>>2]=o+S[120+i>>2],S[n+112>>2]=o+S[124+i>>2],S[n+116>>2]=o+S[128+i>>2],S[n+120>>2]=o+S[132+i>>2],S[n+128>>2]=o+S[136+i>>2],S[n+132>>2]=o+S[140+i>>2],S[n+136>>2]=o+S[144+i>>2],S[n+140>>2]=o+S[148+i>>2],S[n+144>>2]=o+S[152+i>>2],S[n+148>>2]=o+S[156+i>>2],S[n+152>>2]=o+S[160+i>>2],S[n+156>>2]=o+S[164+i>>2],S[n+160>>2]=o+S[168+i>>2],S[n+164>>2]=o+S[172+i>>2],e=S[t+704>>2],S[n+204>>2]=o+S[176+i>>2],S[n+248>>2]=o+S[180+i>>2],S[n+260>>2]=o+S[184+i>>2],S[n+264>>2]=o+S[188+i>>2],S[n+268>>2]=o+S[192+i>>2],r=o+S[196+i>>2]|0,S[n+272>>2]=r,!((0|(e=S[e+16>>2]))<1)&&(a=o+S[200+i>>2]|0,S[r>>2]=a,(r=1)!=(0|e)))for(s=0;a=(15+(S[S[t+876>>2]+(s<<2)>>2]<<3)&-16)+a|0,S[S[n+272>>2]+(r<<2)>>2]=a,(0|e)!=(0|(r=(s=r)+1|0)););if(S[n+276>>2]=o+S[204+i>>2],S[n+280>>2]=o+S[208+i>>2],S[n+284>>2]=o+S[212+i>>2],S[n+288>>2]=o+S[216+i>>2],S[n+208>>2]=o+S[220+i>>2],S[n+212>>2]=o+S[224+i>>2],S[n+216>>2]=o+S[228+i>>2],S[n+224>>2]=o+S[232+i>>2],S[n+228>>2]=o+S[236+i>>2],S[n+232>>2]=o+S[240+i>>2],S[n+236>>2]=o+S[244+i>>2],S[n+240>>2]=o+S[248+i>>2],S[n+244>>2]=o+S[252+i>>2],e=S[256+i>>2],c=o+S[260+i>>2]|0,S[n+300>>2]=c,f=e+o|0,S[n+296>>2]=f,d=o+S[264+i>>2]|0,S[n+308>>2]=d,e=S[t+704>>2],r=S[276+i>>2],a=S[272+i>>2],h=o+S[268+i>>2]|0,S[n+316>>2]=h,1<=(0|(s=S[e+48>>2])))for(a=o+a|0,e=r+o|0,u=S[t+1e3>>2],r=0;l=h+B(r,36)|0,S[l+20>>2]=e,S[l+16>>2]=a,e=(l=1<<S[u+(r<<2)>>2]<<2)+e|0,a=a+l|0,(0|s)!=(0|(r=r+1|0)););if(e=S[t+704>>2],s=o+S[280+i>>2]|0,S[n+324>>2]=s,1<=(0|(e=S[e+72>>2])))for(a=o+S[284+i>>2]|0,u=S[t+1032>>2],r=0;S[12+(s+B(r,28)|0)>>2]=a,a=(S[u+(r<<2)>>2]<<4)+a|0,(0|e)!=(0|(r=r+1|0)););if(S[n+328>>2]=o+S[288+i>>2],S[n+332>>2]=o+S[292+i>>2],S[n+336>>2]=o+S[296+i>>2],S[n+344>>2]=o+S[300+i>>2],S[n+348>>2]=o+S[304+i>>2],S[n+352>>2]=o+S[308+i>>2],S[n+356>>2]=o+S[312+i>>2],S[n+364>>2]=o+S[316+i>>2],e=S[320+i>>2],S[n+376>>2]=1,S[n+368>>2]=e+o,S[n+380>>2]=1&A[S[t+708>>2]+20|0],o=S[t+704>>2],a=S[o+20>>2],1<=(0|(S[n+292>>2]=a))){for(p=S[t+932>>2],g=S[t+928>>2],m=S[t+924>>2],l=S[t+916>>2],y=S[t+920>>2],v=S[t+908>>2],b=S[t+912>>2],e=a;s=f+B(r=e+-1|0,40)|0,_=(u=r<<2)+b|0,S[s>>2]=S[_>>2],w=u+v|0,S[s+4>>2]=S[w>>2],I[s+8>>2]=I[w>>2]-I[_>>2],S[s+12>>2]=S[u+y>>2],S[s+32>>2]=S[u+l>>2],C=St(M(S[u+m>>2])),I[s+16>>2]=C,I[s+20>>2]=C*M(1.5),S[s+24>>2]=S[u+g>>2],u=S[u+p>>2],S[s+36>>2]=1,S[s+28>>2]=u,s=1<(0|e),e=r,s;);for(;S[(r=(e=a+-1|0)<<2)+c>>2]=S[r+l>>2],r=1<(0|a),a=e,r;);}if(e=S[o+52>>2],1<=(0|(S[n+304>>2]=e)))for(s=S[t+1004>>2],u=S[t+1012>>2],l=S[t+1008>>2];a=d+B(r=e+-1|0,28)|0,c=r<<2,S[a>>2]=S[c+l>>2],c=S[s+c>>2],S[a+20>>2]=1,S[a+24>>2]=1,S[a+12>>2]=0,S[a+4>>2]=u+(c<<2),a=1<(0|e),e=r,a;);if(e=S[o+48>>2],1<=(0|(S[n+312>>2]=e)))for(s=S[t+996>>2],u=S[t+992>>2],l=S[t+1e3>>2];a=h+B(r=e+-1|0,36)|0,f=S[(c=r<<2)+l>>2],S[a>>2]=f,S[a+4>>2]=1<<f,c=S[s+c>>2],S[a+24>>2]=1,S[a+28>>2]=1,S[a+12>>2]=u+(c<<2),a=1<(0|e),e=r,a;);if(e=S[o>>2],S[n+4>>2]=e,u=S[t+720>>2],S[n+40>>2]=u,(0|e)<1)r=0;else{for(l=S[t+732>>2],c=S[t+736>>2],f=S[t+740>>2],d=S[n+52>>2],p=S[n+8>>2],a=e;s=(r=a+-1|0)<<2,S[(g=p+(r<<3)|0)>>2]=S[s+f>>2],S[g+4>>2]=S[s+c>>2],I[s+d>>2]=S[s+l>>2]?M(1):M(0),s=1<(0|a),a=r,s;);for(l=S[n+12>>2],r=0;s=S[4+(h+B(S[(c=(a=e+-1|0)<<2)+u>>2],36)|0)>>2],S[l+c>>2]=s,r=r+s|0,s=1<(0|e),e=a,s;);}if(S[n+24>>2]=r,a=S[o+4>>2],S[n+56>>2]=a,S[n+180>>2]=S[t+752>>2],S[n+184>>2]=S[t+780>>2],S[n+188>>2]=S[t+804>>2],1<=(0|a)){for(;;){a=(e=a)+-1|0,r=S[n+60>>2]+(a<<5)|0,s=a<<2,S[r>>2]=S[s+S[t+764>>2]>>2],S[r+4>>2]=S[s+S[t+768>>2]>>2],o=S[s+S[t+772>>2]>>2],S[r+8>>2]=o,u=S[s+S[t+776>>2]>>2],S[r+12>>2]=u,S[r+28>>2]=S[s+S[t+760>>2]>>2];e:if(o>>>0<=1){if(o-1){S[r+20>>2]=1,S[r+16>>2]=2,S[r+24>>2]=S[n+68>>2]+B(u,24);break e}S[r+20>>2]=3,S[r+16>>2]=4,S[r+24>>2]=S[n+76>>2]+(u<<5)}else G(4,1026,0);if(!(1<(0|e)))break}o=S[t+704>>2]}e=S[o+8>>2];e:if(!((0|(S[n+64>>2]=e))<1)){if(r=e+-1|0,u=S[t+792>>2],h=S[t+800>>2],l=S[t+796>>2],c=S[n+68>>2],x[t+4|0]<2)for(;;)if(a=c+B(r,24)|0,s=r<<2,S[a>>2]=S[s+l>>2],S[a+4>>2]=S[s+h>>2],s=S[s+u>>2],S[a+8>>2]=0,S[a+12>>2]=s,a=0<(0|r),r=r+-1|0,!a)break e;for(f=S[t+1108>>2];a=c+B(r,24)|0,s=r<<2,S[a>>2]=S[s+l>>2],S[a+4>>2]=S[s+h>>2],S[a+12>>2]=S[s+u>>2],S[a+8>>2]=S[s+f>>2],a=0<(0|r),r=r+-1|0,a;);}if(r=S[o+12>>2],1<=(0|(S[n+72>>2]=r)))for(u=S[t+816>>2],h=S[n+76>>2],a=r;S[h+((s=a+-1|0)<<5)>>2]=S[u+(s<<2)>>2],l=1<(0|a),a=s,l;);if(1<=((s=a=0)|e)){for(h=S[n+80>>2],l=S[n+184>>2],c=S[n+316>>2];u=S[4+(c+B(S[(f=(r=e+-1|0)<<2)+l>>2],36)|0)>>2],S[h+f>>2]=u,s=s+u|0,u=1<(0|e),e=r,u;);r=S[n+72>>2]}if(S[n+92>>2]=s,1<=(0|r))for(u=S[n+112>>2],h=S[n+188>>2],l=S[n+316>>2];s=S[4+(l+B(S[(c=(e=r+-1|0)<<2)+h>>2],36)|0)>>2],S[u+c>>2]=s,a=a+s|0,s=1<(0|r),r=e,s;);if(S[n+124>>2]=a,a=S[o+16>>2],S[n+200>>2]=a,h=S[t+840>>2],S[n+252>>2]=h,(0|a)<1)r=0;else{for(l=S[t+856>>2],c=S[t+876>>2],f=S[t+864>>2],d=S[t+860>>2],p=S[n+204>>2],s=a;u=(e=s+-1|0)<<2,S[(r=p+(e<<4)|0)>>2]=S[u+d>>2],S[r+4>>2]=S[u+f>>2],S[r+12>>2]=S[u+c>>2],S[r+8>>2]=S[u+l>>2],r=1<(0|s),s=e,r;);for(u=S[n+208>>2],l=S[n+316>>2],r=0;s=S[4+(l+B(S[(c=(e=a+-1|0)<<2)+h>>2],36)|0)>>2],S[u+c>>2]=s,r=r+s|0,s=1<(0|a),a=e,s;);}if(S[n+220>>2]=r,s=S[o+72>>2],1<=(0|(S[n+320>>2]=s)))for(l=S[t+1028>>2],c=S[t+1044>>2],f=S[t+1040>>2],d=S[t+1036>>2],p=S[t+1032>>2],g=S[n+324>>2],a=0;;){if(e=g+B(a,28)|0,u=S[(r=a<<2)+p>>2],S[e+4>>2]=u,S[e>>2]=S[r+d>>2],h=S[r+f>>2],S[e+16>>2]=h,m=S[r+c>>2],S[e+20>>2]=m,S[e+8>>2]=0,S[e+24>>2]=1+(h-m|0),1<=(0|u))for(m=S[r+l>>2],y=S[e+12>>2],v=S[t+1056>>2],b=S[t+1048>>2],_=S[t+1052>>2],r=0;h=r+m<<2,S[4+(e=y+(r<<4)|0)>>2]=S[h+_>>2],S[e>>2]=S[h+b>>2],h=S[h+v>>2],S[e+12>>2]=0,S[e+8>>2]=h,(0|u)!=(0|(r=r+1|0)););if((0|s)==(0|(a=a+1|0)))break}if(a=S[o+80>>2],S[n+340>>2]=a,u=S[t+1068>>2],S[n+372>>2]=u,!(((e=0)|a)<1)){for(h=S[t+1100>>2],l=S[t+1088>>2],c=S[t+1096>>2],f=S[t+1092>>2],d=S[t+1084>>2],p=S[t+1080>>2],g=S[n+344>>2];s=g+B(r=a+-1|0,24)|0,o=r<<2,S[s>>2]=S[o+p>>2],S[s+4>>2]=S[o+d>>2],S[s+8>>2]=S[o+f>>2],o=S[o+l>>2],S[s+16>>2]=h+(o<<1),S[s+12>>2]=c+(o<<2),s=1<(0|a),a=r,s;);if(!((0|(r=S[n+340>>2]))<1))for(o=S[n+348>>2],h=S[n+316>>2];s=S[4+(h+B(S[(l=(a=r+-1|0)<<2)+u>>2],36)|0)>>2],S[o+l>>2]=s,e=e+s|0,s=1<(0|r),r=a,s;);}S[n>>2]=t,S[n+360>>2]=e,ht(n)}return N=336+i|0,n}(t,e,r|=0))break t;S[36+i>>2]=1872,S[32+i>>2]=1846,G(4,1087,32+i|0)}else S[52+i>>2]=1441,S[48+i>>2]=1846,G(4,1087,48+i|0);else S[20+i>>2]=1246,S[16+i>>2]=1846,G(4,1087,16+i|0);else S[4+i>>2]=1828,S[i>>2]=1846,G(4,1087,i);e=0}return N=i+64|0,0|e}function pt(t){var e;return N=e=N-16|0,t=(t|=0)?function(t){var e;return Z(16+(N=e=N-336|0)|0,0,308),ft(t+704|0,16+e|0,12+e|0),N=336+e|0,S[12+e>>2]}(t):(S[4+e>>2]=1828,S[e>>2]=1810,G(4,1087,e),0),N=16+e|0,0|t}function gt(t,e){var r=0,i=0,n=0,a=0,o=0,s=0,u=0,l=0;a=t+e|0;t:{e:if(!(1&(r=S[t+4>>2]))){if(!(3&r))break t;if(e=(r=S[t>>2])+e|0,(0|(t=t-r|0))==S[1928]){if(3==(3&(r=S[a+4>>2])))return S[1925]=e,S[a+4>>2]=-2&r,S[t+4>>2]=1|e,void(S[a>>2]=e)}else{if(r>>>0<=255){if(n=r>>>3,r=S[t+8>>2],(0|(i=S[t+12>>2]))==(0|r)){u=7692,l=S[1923]&It(n),S[u>>2]=l;break e}S[r+12>>2]=i,S[i+8>>2]=r;break e}if(s=S[t+24>>2],(0|(r=S[t+12>>2]))==(0|t))if((n=S[(i=t+20|0)>>2])||(n=S[(i=t+16|0)>>2])){for(;o=i,(n=S[(i=(r=n)+20|0)>>2])||(i=r+16|0,n=S[r+16>>2]););S[o>>2]=0}else r=0;else i=S[t+8>>2],S[i+12>>2]=r,S[r+8>>2]=i;if(!s)break e;i=S[t+28>>2];r:{if(S[(n=7996+(i<<2)|0)>>2]==(0|t)){if(S[n>>2]=r)break r;u=7696,l=S[1924]&It(i),S[u>>2]=l;break e}if(!(S[s+(S[s+16>>2]==(0|t)?16:20)>>2]=r))break e}if(S[r+24>>2]=s,(i=S[t+16>>2])&&(S[r+16>>2]=i,S[i+24>>2]=r),!(i=S[t+20>>2]))break e;S[r+20>>2]=i,S[i+24>>2]=r}}e:{if(!(2&(r=S[a+4>>2]))){if(S[1929]==(0|a)){if(S[1929]=t,e=S[1926]+e|0,S[1926]=e,S[t+4>>2]=1|e,S[1928]!=(0|t))break t;return S[1925]=0,void(S[1928]=0)}if(S[1928]==(0|a))return S[1928]=t,e=S[1925]+e|0,S[1925]=e,S[t+4>>2]=1|e,void(S[t+e>>2]=e);e=(-8&r)+e|0;r:if(r>>>0<=255){if(n=r>>>3,r=S[a+8>>2],(0|(i=S[a+12>>2]))==(0|r)){u=7692,l=S[1923]&It(n),S[u>>2]=l;break r}S[r+12>>2]=i,S[i+8>>2]=r}else{if(s=S[a+24>>2],(0|a)==(0|(r=S[a+12>>2])))if((n=S[(i=a+20|0)>>2])||(n=S[(i=a+16|0)>>2])){for(;o=i,(n=S[(i=(r=n)+20|0)>>2])||(i=r+16|0,n=S[r+16>>2]););S[o>>2]=0}else r=0;else i=S[a+8>>2],S[i+12>>2]=r,S[r+8>>2]=i;if(s){i=S[a+28>>2];i:{if(S[(n=7996+(i<<2)|0)>>2]==(0|a)){if(S[n>>2]=r)break i;u=7696,l=S[1924]&It(i),S[u>>2]=l;break r}if(!(S[s+(S[s+16>>2]==(0|a)?16:20)>>2]=r))break r}S[r+24>>2]=s,(i=S[a+16>>2])&&(S[r+16>>2]=i,S[i+24>>2]=r),(i=S[a+20>>2])&&(S[r+20>>2]=i,S[i+24>>2]=r)}}if(S[t+4>>2]=1|e,S[t+e>>2]=e,S[1928]!=(0|t))break e;return void(S[1925]=e)}S[a+4>>2]=-2&r,S[t+4>>2]=1|e,S[t+e>>2]=e}if(e>>>0<=255)return e=7732+((r=e>>>3)<<3)|0,r=(i=S[1923])&(r=1<<r)?S[e+8>>2]:(S[1923]=r|i,e),S[e+8>>2]=t,S[r+12>>2]=t,S[t+12>>2]=e,void(S[t+8>>2]=r);S[t+16>>2]=0,r=S[t+20>>2]=0,(n=e>>>8)&&(r=31,16777215<e>>>0||(r=28+((r=((a=(n<<=o=n+1048320>>>16&8)<<(r=n+520192>>>16&4))<<(n=a+245760>>>16&2)>>>15)-(n|r|o)|0)<<1|e>>>r+21&1)|0)),n=7996+((S[(i=t)+28>>2]=r)<<2)|0;e:{if((i=S[1924])&(o=1<<r)){for(i=e<<(31==(0|r)?0:25-(r>>>1)|0),r=S[n>>2];;){if((-8&S[(n=r)+4>>2])==(0|e))break e;if(r=i>>>29,i<<=1,!(r=S[16+(o=n+(4&r)|0)>>2]))break}S[o+16>>2]=t}else S[1924]=i|o,S[n>>2]=t;return S[t+24>>2]=n,S[t+12>>2]=t,void(S[t+8>>2]=t)}e=S[n+8>>2],S[e+12>>2]=t,S[n+8>>2]=t,S[t+24>>2]=0,S[t+12>>2]=n,S[t+8>>2]=e}}function mt(t,e,r){var i=0;t:{if(8!=(0|e)){if(i=28,3&e|1!=(0|function(t){for(var e=0,r=0;r=e,t;)t&=t-1,e=e+1|0;return r}(e>>>2)))break t;if(i=48,-64-e>>>0<r>>>0)break t;e=function(t,e){var r=0,i=0,n=0,a=0,o=0;if((i=t>>>0>(r=16)?t:16)+-1&i)for(;r=(t=r)<<1,t>>>0<i>>>0;);else t=i;return-64-t>>>0<=e>>>0?(S[1906]=48,0):(r=rt(12+((i=e>>>0<11?16:e+11&-8)+t|0)|0))?(e=r+-8|0,r&t+-1?(n=(-8&(o=S[(a=r+-4|0)>>2]))-(r=(t=15<(r=((t+r|0)-1&0-t)-8|0)-e>>>0?r:t+r|0)-e|0)|0,3&o?(S[t+4>>2]=n|1&S[t+4>>2]|2,S[4+(n=t+n|0)>>2]=1|S[n+4>>2],S[a>>2]=r|1&S[a>>2]|2,S[t+4>>2]=1|S[t+4>>2],gt(e,r)):(e=S[e>>2],S[t+4>>2]=n,S[t>>2]=e+r)):t=e,3&(e=S[t+4>>2])&&((r=-8&e)>>>0<=i+16>>>0||(S[t+4>>2]=i|1&e|2,e=t+i|0,i=r-i|0,S[e+4>>2]=3|i,S[4+(r=t+r|0)>>2]=1|S[r+4>>2],gt(e,i))),t+8|0):0}(16<e>>>0?e:16,r)}else e=rt(r);if(!e)return 1;S[t>>2]=e,i=0}return i}function _t(t){var e=0,r=0,i=0,n=0,a=0,o=0,s=0,u=0,l=0;t:if(t){a=(i=t+-8|0)+(t=-8&(r=S[t+-4>>2]))|0;e:if(!(1&r)){if(!(3&r))break t;if((i=i-(r=S[i>>2])|0)>>>0<k[1927])break t;if(t=t+r|0,S[1928]==(0|i)){if(3==(3&(r=S[a+4>>2])))return S[1925]=t,S[a+4>>2]=-2&r,S[i+4>>2]=1|t,void(S[t+i>>2]=t)}else{if(r>>>0<=255){if(n=S[i+8>>2],r>>>=3,(0|(e=S[i+12>>2]))==(0|n)){u=7692,l=S[1923]&It(r),S[u>>2]=l;break e}S[n+12>>2]=e,S[e+8>>2]=n;break e}if(s=S[i+24>>2],(0|i)==(0|(r=S[i+12>>2])))if((e=S[(n=i+20|0)>>2])||(e=S[(n=i+16|0)>>2])){for(;o=n,(e=S[(n=(r=e)+20|0)>>2])||(n=r+16|0,e=S[r+16>>2]););S[o>>2]=0}else r=0;else e=S[i+8>>2],S[e+12>>2]=r,S[r+8>>2]=e;if(!s)break e;n=S[i+28>>2];r:{if(S[(e=7996+(n<<2)|0)>>2]==(0|i)){if(S[e>>2]=r)break r;u=7696,l=S[1924]&It(n),S[u>>2]=l;break e}if(!(S[s+(S[s+16>>2]==(0|i)?16:20)>>2]=r))break e}if(S[r+24>>2]=s,(e=S[i+16>>2])&&(S[r+16>>2]=e,S[e+24>>2]=r),!(e=S[i+20>>2]))break e;S[r+20>>2]=e,S[e+24>>2]=r}}if(!(a>>>0<=i>>>0)&&1&(r=S[a+4>>2])){e:{if(!(2&r)){if(S[1929]==(0|a)){if(S[1929]=i,t=S[1926]+t|0,S[1926]=t,S[i+4>>2]=1|t,S[1928]!=(0|i))break t;return S[1925]=0,void(S[1928]=0)}if(S[1928]==(0|a))return S[1928]=i,t=S[1925]+t|0,S[1925]=t,S[i+4>>2]=1|t,void(S[t+i>>2]=t);t=(-8&r)+t|0;r:if(r>>>0<=255){if(r>>>=3,(0|(e=S[a+8>>2]))==(0|(n=S[a+12>>2]))){u=7692,l=S[1923]&It(r),S[u>>2]=l;break r}S[e+12>>2]=n,S[n+8>>2]=e}else{if(s=S[a+24>>2],(0|a)==(0|(r=S[a+12>>2])))if((e=S[(n=a+20|0)>>2])||(e=S[(n=a+16|0)>>2])){for(;o=n,(e=S[(n=(r=e)+20|0)>>2])||(n=r+16|0,e=S[r+16>>2]););S[o>>2]=0}else r=0;else e=S[a+8>>2],S[e+12>>2]=r,S[r+8>>2]=e;if(s){n=S[a+28>>2];i:{if(S[(e=7996+(n<<2)|0)>>2]==(0|a)){if(S[e>>2]=r)break i;u=7696,l=S[1924]&It(n),S[u>>2]=l;break r}if(!(S[s+(S[s+16>>2]==(0|a)?16:20)>>2]=r))break r}S[r+24>>2]=s,(e=S[a+16>>2])&&(S[r+16>>2]=e,S[e+24>>2]=r),(e=S[a+20>>2])&&(S[r+20>>2]=e,S[e+24>>2]=r)}}if(S[i+4>>2]=1|t,S[t+i>>2]=t,S[1928]!=(0|i))break e;return void(S[1925]=t)}S[a+4>>2]=-2&r,S[i+4>>2]=1|t,S[t+i>>2]=t}if(t>>>0<=255)return r=7732+((t>>>=3)<<3)|0,t=(e=S[1923])&(t=1<<t)?S[r+8>>2]:(S[1923]=t|e,r),S[r+8>>2]=i,S[t+12>>2]=i,S[i+12>>2]=r,void(S[i+8>>2]=t);S[i+16>>2]=0,e=S[i+20>>2]=0,(n=t>>>8)&&(e=31,16777215<t>>>0||(e=n,e<<=n=n+1048320>>>16&8,e=28+((e=((e<<=s=e+520192>>>16&4)<<(o=e+245760>>>16&2)>>>15)-(o|n|s)|0)<<1|t>>>e+21&1)|0)),o=7996+((S[(r=i)+28>>2]=e)<<2)|0;e:if((n=S[1924])&(r=1<<e)){n=t<<(31==(0|e)?0:25-(e>>>1)|0),r=S[o>>2];r:{for(;;){if((-8&S[(e=r)+4>>2])==(0|t))break r;if(r=n>>>29,n<<=1,!(r=S[16+(o=e+(4&r)|0)>>2]))break}S[o+16>>2]=i,S[i+12>>2]=i,S[i+24>>2]=e,S[i+8>>2]=i;break e}t=S[e+8>>2],S[t+12>>2]=i,S[e+8>>2]=i,S[i+24>>2]=0,S[i+12>>2]=e,S[i+8>>2]=t}else S[1924]=r|n,S[o>>2]=i,S[i+12>>2]=i,S[i+24>>2]=o,S[i+8>>2]=i;if(t=S[1931]+-1|0,!(S[1931]=t)){for(i=8148;i=(t=S[i>>2])+8|0,t;);S[1931]=-1}}}}function yt(t,e){var r,i,n=0,a=0,o=0,s=M(0);if(f(e),!((i=2147483647&(n=u(0)))>>>0<=2139095040&&(f(t),(a=2147483647&(o=u(0)))>>>0<2139095041)))return M(t+e);if(1065353216==(0|n))return it(t);n=(r=n>>>30&2)|o>>>31;t:{e:{r:{i:{if(!a){n:switch(n-2|0){case 0:break i;case 1:break n;default:break r}return M(-3.1415927410125732)}if(2139095040!=(0|i)){if(!i|!(a>>>0<=i+218103808>>>0&&2139095040!=(0|a)))break t;if(a+218103808>>>0<i>>>0&&(s=M(0),r)||(s=it(M(E(M(t/e))))),t=s,n>>>0<=2){n:switch(n-1|0){case 0:return M(-t);case 1:break n;default:break r}return M(M(3.1415927410125732)-M(t+M(8.742277657347586e-8)))}return M(M(t+M(8.742277657347586e-8))+M(-3.1415927410125732))}if(2139095040==(0|a))break e;return I[6128+(n<<2)>>2]}t=M(3.1415927410125732)}return t}return I[6112+(n<<2)>>2]}return M((0|o)<0?-1.5707963705062866:1.5707963705062866)}function vt(t,e,r){var i,n,a,o,s,u=0,l=0,c=0,h=0,f=0,d=0,p=0,g=0,m=0,_=0,y=0,v=0;if(N=i=N-560|0,p=(l=r)+B(a=0<(0|(r=(r+-3|0)/24|0))?r:0,-24)|0,0<=(0|(n=S[808])))for(l=n+1|0,r=a;P[(320+i|0)+(c<<3)>>3]=(0|r)<0?0:+S[3248+(r<<2)>>2],r=r+1|0,(0|l)!=(0|(c=c+1|0)););for(d=p+-24|0,l=0;;){for(u=r=0;u+=P[(r<<3)+t>>3]*P[(320+i|0)+(l-r<<3)>>3],1!=(0|(r=r+1|0)););if(P[(l<<3)+i>>3]=u,r=(0|l)<(0|n),l=l+1|0,!r)break}s=23-d|0,o=24-d|0,l=n;t:{for(;;){if(u=P[(l<<3)+i>>3],!(m=((r=0)|(c=l))<1))for(;f=(480+i|0)+(r<<2)|0,g=u,h=E(u*=5.960464477539063e-8)<2147483648?~~u:-2147483648,h=E(g+=-16777216*(u=+(0|h)))<2147483648?~~g:-2147483648,S[f>>2]=h,u=P[((f=c+-1|0)<<3)+i>>3]+u,r=r+1|0,h=1<(0|c),c=f,h;);u=tt(u,d),u+=-8*R(.125*u),u-=0|(f=E(u)<2147483648?~~u:-2147483648);e:{r:{i:{if(y=(0|d)<1){if(d)break i;h=S[476+((l<<2)+i|0)>>2]>>23}else _=c=(l<<2)+i|0,c=(h=S[c+476>>2])-((r=h>>o)<<o)|0,f=r+f|0,h=(S[_+476>>2]=c)>>s;if((0|h)<1)break e;break r}if(h=2,!(.5<=u)){h=0;break e}}if(c=r=0,!m)for(;;){m=S[(v=(480+i|0)+(r<<2)|0)>>2],_=16777215;r:{i:{if(!c){if(!m)break i;_=16777216,c=1}S[v>>2]=_-m;break r}c=0}if((0|l)==(0|(r=r+1|0)))break}y||1<(r=d+-1|0)>>>0||(S[476+(r=(l<<2)+i|0)>>2]=r-1?8388607&S[r+476>>2]:4194303&S[r+476>>2]),f=f+1|0,2==(0|h)&&(u=1-u,h=2,c&&(u-=tt(1,d)))}if(0!=u)break;if(!(((c=0)|(r=l))<=(0|n))){for(;c=S[(480+i|0)+((r=r+-1|0)<<2)>>2]|c,(0|n)<(0|r););if(c){for(p=d;p=p+-24|0,!S[(480+i|0)+((l=l+-1|0)<<2)>>2];);break t}}for(r=1;r=(c=r)+1|0,!S[(480+i|0)+(n-c<<2)>>2];);for(c=l+c|0;;){for(l=f=l+1|0,P[(320+i|0)+(f<<3)>>3]=S[3248+(a+l<<2)>>2],u=r=0;u+=P[(r<<3)+t>>3]*P[(320+i|0)+(f-r<<3)>>3],1!=(0|(r=r+1|0)););if(P[(l<<3)+i>>3]=u,!((0|l)<(0|c)))break}l=c}16777216<=(u=tt(u,0-d|0))?(t=(480+i|0)+(l<<2)|0,g=u,r=E(u*=5.960464477539063e-8)<2147483648?~~u:-2147483648,c=E(u=g+-16777216*(0|r))<2147483648?~~u:-2147483648,S[t>>2]=c,l=l+1|0):(r=E(u)<2147483648?~~u:-2147483648,p=d),S[(480+i|0)+(l<<2)>>2]=r}if(u=tt(1,p),!((0|l)<=-1)){for(r=l;P[(r<<3)+i>>3]=u*S[(480+i|0)+(r<<2)>>2],u*=5.960464477539063e-8,t=0<(0|r),r=r+-1|0,t;);if(!((0|l)<=-1))for(r=l;;){for(c=l-(t=r)|0,r=u=0;u+=P[6016+(r<<3)>>3]*P[(t+r<<3)+i>>3],!((0|n)<=(0|r))&&(d=r>>>0<c>>>0,r=r+1|0,d););if(P[(160+i|0)+(c<<3)>>3]=u,r=t+-1|0,!(0<(0|t)))break}}if((u=0)<=(0|l))for(;u+=P[(160+i|0)+(l<<3)>>3],t=0<(0|l),l=l+-1|0,t;);return P[e>>3]=h?-u:u,N=560+i|0,7&f}function bt(t,e){var r=0,i=0,n=0;r=0!=(0|e);t:{e:{r:{i:if(!(!e|!(3&t)))for(;;){if(!x[0|t])break r;if(t=t+1|0,r=0!=(0|(e=e+-1|0)),!e)break i;if(!(3&t))break}if(!r)break e}if(!x[0|t])break t;r:{if(4<=e>>>0){for(r=(r=e+-4|0)-(i=-4&r)|0,i=4+(t+i|0)|0;;){if((-1^(n=S[t>>2]))&n+-16843009&-2139062144)break r;if(t=t+4|0,!(3<(e=e+-4|0)>>>0))break}e=r,t=i}if(!e)break e}for(;;){if(!x[0|t])break t;if(t=t+1|0,!(e=e+-1|0))break}}return 0}return t}function At(t,e,r,i){if(t|e)for(;A[0|(r=r+-1|0)]=x[3168+(15&t)|0]|i,(t=(15&e)<<28|t>>>4)|(e>>>=4););return r}function wt(t,e,r){if(t|e)for(;A[0|(r=r+-1|0)]=7&t|48,(t=(7&e)<<29|t>>>3)|(e>>>=3););return r}function St(t){var e=M(0),r=M(0),i=0,n=0,a=M(0),o=M(0),s=M(0),c=M(0),h=0,p=M(0),g=M(0),m=0;t:{e:{if(f(t),n=2147483647&(i=u(0))){if(!(n>>>0<2139095041))return M(M(.10000000149011612)+t);if(1065353216==(0|n))return M(-1<(0|i)?.10000000149011612:10);if(2139095040==(0|n))return M(-1<(0|i)?0:-t);if(1073741824==(0|i))return M(.010000000707805157);if(1056964608==(0|i))return M(.3162277638912201);if(1291845633<=n>>>0)return M((0|i)<0?V:0);if(a=I[1537],o=M(M(1.600000023841858)-a),s=M(M(1)/M(a+M(1.600000023841858))),l(0,-4096&(f(r=M(o*s)),u(0))),e=d(),c=M(e*e),g=I[1541],a=M(s*M(M(o-M((p=e)*M(3.099609375)))-M(e*M(M(1.600000023841858)-M(M(3.099609375)-a))))),s=M(M(r+e)*a),e=M(r*r),o=M(s+M(M(e*e)*M(M(e*M(M(e*M(M(e*M(M(e*M(M(e*M(.20697501301765442))+M(.23066075146198273)))+M(.2727281153202057)))+M(.3333333432674408)))+M(.4285714328289032)))+M(.6000000238418579)))),l(0,-4096&(f(M(M(c+M(3))+o)),u(0))),e=d(),s=M(p*e),r=M(M(a*e)+M(r*M(o-M(M(e+M(-3))-c)))),l(0,-4096&(f(M(s+r)),u(0))),e=d(),a=M(e*M(.9619140625)),c=M(I[1539]+M(M(M(r-M(e-s))*M(.9617967009544373))+M(e*M(-.00011736857413779944)))),l(0,-4096&(f(M(M(g+M(a+c))+M(-4))),u(0))),r=d(),l(0,-4096&i),o=d(),e=M(r*o),t=M(M(M(c-M(M(M(r-M(-4))-g)-a))*t)+M(M(t-o)*r)),f(r=M(e+t)),1124073473<=(0|(i=u(0))))break e;r:{i:{if((n=1124073472)==(0|i)){if(!(M(t+M(4.299566569443414e-8))>M(r-e)))break i;break e}if(n=2147483647&i,!(t<=M(r-e)^1|-1021968384!=(0|i))|1125515265<=n>>>0)break t;if(n>>>0<1056964609)break r}h=(8388607&(n=(8388608>>>(n>>>23)-126)+i|0)|8388608)>>>150-(m=n>>>23&255),h=(0|i)<0?0-h|0:h,e=M(e-(l(0,n&-8388608>>m+-127),d())),f(M(t+e)),i=u(0)}l(0,-32768&i),r=d(),a=M(r*M(.693145751953125)),r=M(M(r*M(14286065379565116e-22))+M(M(t-M(r-e))*M(.6931471824645996))),t=M(a+r),e=M(t*t),e=M(t-M(e*M(M(e*M(M(e*M(M(e*M(M(e*M(4.138136944220605e-8))+M(-16533901998627698e-22)))+M(661375597701408e-19)))+M(-.0027777778450399637)))+M(.1666666716337204)))),p=M(M(t*e)/M(e+M(-2))),e=M(r-M(t-a)),t=(0|(i=0|(f(t=M(M(t-M(p-M(e+M(t*e))))+M(1))),u(0)+(h<<23))))<=8388607?function(t,e){r:if(128<=(0|e)){if(t=M(t*M(17014118346046923e22)),(0|e)<255){e=e+-127|0;break r}t=M(t*M(17014118346046923e22)),e=((0|e)<381?e:381)+-254|0}else-127<(0|e)||(t=M(t*M(11754943508222875e-54)),e=-253<(0|e)?e+126|0:(t=M(t*M(11754943508222875e-54)),(-378<(0|e)?e:-378)+252|0));return M(t*(l(0,1065353216+(e<<23)|0),d()))}(t,h):(l(0,i),d()),t=M(M(1)*t)}else t=M(1);return t}return M(V)}return M(0)}function xt(t,e){var r,i;r=0|t,i=0|e,n[0]=r,n[1]=i}function Ct(t,e,r){return function(t,e,r){var i,n,a,o,s=0;return o=B(i=r>>>16,s=t>>>16),t=(65535&(s=((a=B(n=65535&r,t&=65535))>>>16)+B(s,n)|0))+B(t,i)|0,z=((o+B(e,r)|0)+(s>>>16)|0)+(t>>>16)|0,65535&a|t<<16}(t,e,r)}function kt(t,e,r){return function(t,e,r){var i=0,n=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0;t:{e:{r:{i:{n:{a:{o:{s:{u:{if(n=e){if(!(i=r))break u;break s}return xt((e=t)-B(t=(t>>>0)/(r>>>0)|0,r)|0,0),z=0,t}if(!t)break o;break a}if(!((o=i+-1|0)&i))break n;s=0-(o=(T(i)+33|0)-T(n)|0)|0;break r}return xt(0,n-B(t=(n>>>0)/0|0,0)|0),z=0,t}if((i=32-T(n)|0)>>>0<31)break i;break e}if(xt(t&o,0),1==(0|i))break t;return r=31&(i=i?31-T(i+-1^i)|0:32),t=32<=(63&i)>>>0?(n=0,e>>>r):(n=e>>>r,((1<<r)-1&e)<<32-r|t>>>r),z=n,t}o=i+1|0,s=63-i|0}if(i=e,a=31&(n=63&o),a=32<=n>>>0?(n=0,i>>>a):(n=i>>>a,((1<<a)-1&i)<<32-a|t>>>a),i=31&(s&=63),32<=s>>>0?(e=t<<i,t=0):(e=(1<<i)-1&t>>>32-i|e<<i,t<<=i),o)for((s=r+(i=-1)|0)>>>0<4294967295&&(i=0);a=(l=u=a<<1|e>>>31)-(c=r&(u=i-((n=n<<1|a>>>31)+(s>>>0<u>>>0)|0)>>31))|0,n=n-(l>>>0<c>>>0)|0,e=e<<1|t>>>31,t=h|t<<1,h=u&=1,o=o+-1|0;);return xt(a,n),z=e<<1|t>>>31,u|t<<1}xt(t,e),e=t=0}return z=e,t}(t,e,r)}function It(t){var e;return(-1>>>(e=31&t)&-2)<<e|(-1<<(t=0-t&31)&-2)>>>t}function Pt(){return y.byteLength/65536|0}}(nt,x,C)}}u=null,o.wasmBinary&&(y=o.wasmBinary);var w=Error,S={};y=[],"object"!=typeof S&&b("no native wasm support detected");var x,C=new function(t){var e=Array(17);return e.grow=function(){18<=e.length&&Z("Unable to grow wasm table. Use a higher value for RESERVED_FUNCTION_POINTERS or set ALLOW_TABLE_GROWTH."),e.push(null)},e.set=function(t,r){e[t]=r},e.get=function(t){return e[t]},e}({initial:17,maximum:18,element:"anyfunc"}),k=!1;function I(t,e){t||Z("Assertion failed: "+e)}var P,B,M,E,T="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function D(t,e,r){var i=e+r;for(r=e;t[r]&&!(i<=r);)++r;if(16<r-e&&t.subarray&&T)return T.decode(t.subarray(e,r));for(i="";e<r;){var n=t[e++];if(128&n){var a=63&t[e++];if(192==(224&n))i+=String.fromCharCode((31&n)<<6|a);else{var o=63&t[e++];(n=224==(240&n)?(15&n)<<12|a<<6|o:(7&n)<<18|a<<12|o<<6|63&t[e++])<65536?i+=String.fromCharCode(n):(n-=65536,i+=String.fromCharCode(55296|n>>10,56320|1023&n))}}else i+=String.fromCharCode(n)}return i}function R(t,e){return t?D(M,t,e):""}function V(t){return 0<t%65536&&(t+=65536-t%65536),t}function F(t){P=t,o.HEAP8=B=new Int8Array(t),o.HEAP16=new Int16Array(t),o.HEAP32=E=new Int32Array(t),o.HEAPU8=M=new Uint8Array(t),o.HEAPU16=new Uint16Array(t),o.HEAPU32=new Uint32Array(t),o.HEAPF32=new Float32Array(t),o.HEAPF64=new Float64Array(t)}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var L=o.TOTAL_MEMORY||16777216;function O(t){for(;0<t.length;){var e=t.shift();if("function"==typeof e)e();else{var r=e.b;"number"==typeof r?void 0===e.a?o.dynCall_v(r):o.dynCall_vi(r,e.a):r(void 0===e.a?null:e.a)}}}(x=o.wasmMemory?o.wasmMemory:new function(){return{buffer:new ArrayBuffer(L/65536*65536),grow:function(t){return ht(t)}}})&&(P=x.buffer),L=P.byteLength,F(P),E[2052]=5251248;var N=[],z=[],U=[],j=[];function G(){var t=o.preRun.shift();N.unshift(t)}if(Math.imul&&-5===Math.imul(4294967295,5)||(Math.imul=function(t,e){var r=65535&t,i=65535&e;return r*i+((t>>>16)*i+r*(e>>>16)<<16)|0}),!Math.fround){var Y=new Float32Array(1);Math.fround=function(t){return Y[0]=t,Y[0]}}Math.clz32||(Math.clz32=function(t){var e=32,r=t>>16;return r&&(e-=16,t=r),(r=t>>8)&&(e-=8,t=r),(r=t>>4)&&(e-=4,t=r),(r=t>>2)&&(e-=2,t=r),t>>1?e-2:e-t}),Math.trunc||(Math.trunc=function(t){return t<0?Math.ceil(t):Math.floor(t)});var X=0,H=null,W=null;function Z(t){throw o.onAbort&&o.onAbort(t),v(t),b(t),k=!0,new w("abort("+t+"). Build with -s ASSERTIONS=1 for more info.")}o.preloadedImages={},o.preloadedAudios={};var q="data:application/octet-stream;base64,";function Q(t){return String.prototype.startsWith?t.startsWith(q):0===t.indexOf(q)}var J="_em_module.wasm";if(!Q(J)){var K=J;J=o.locateFile?o.locateFile(K,_):_+K}function $(){try{if(y)return new Uint8Array(y);var t=it(J);if(t)return t;if(p)return p(J);throw"both async and sync fetching of the wasm failed"}catch(e){Z(e)}}z.push({b:function(){ot()}});var tt=[null,[],[]];function et(t){for(var e=[],r=0;r<t.length;r++){var i=t[r];255<i&&(i&=255),e.push(String.fromCharCode(i))}return e.join("")}var rt="function"==typeof atob?atob:function(t){var e="",r=0;t=t.replace(/[^A-Za-z0-9\+\/=]/g,"");do{var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(t.charAt(r++)),n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(t.charAt(r++)),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(t.charAt(r++)),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(t.charAt(r++));i=i<<2|n>>4,n=(15&n)<<4|a>>2;var s=(3&a)<<6|o;e+=String.fromCharCode(i),64!==a&&(e+=String.fromCharCode(n)),64!==o&&(e+=String.fromCharCode(s))}while(r<t.length);return e};function it(t){if(Q(t)){if(t=t.slice(q.length),"boolean"==typeof f&&f){try{var e=a.from(t,"base64")}catch(o){e=new a(t,"base64")}var r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}else try{var i=rt(t),n=new Uint8Array(i.length);for(e=0;e<i.length;++e)n[e]=i.charCodeAt(e);r=n}catch(o){throw Error("Converting base64 string to bytes failed.")}return r}}var nt={emscripten_memcpy_big:function(t,e,r){M.set(M.subarray(e,e+r),t)},emscripten_resize_heap:function(t){if(2147418112<t)return!1;for(var e=Math.max(B.length,16777216);e<t;)e=e<=536870912?V(2*e):Math.min(V((3*e+2147483648)/4),2147418112);t:{try{x.grow(e-P.byteLength+65535>>16),F(x.buffer);var r=1;break t}catch(i){}r=void 0}return!!r},fd_write:function(t,e,r,i){try{for(var n=0,a=0;a<r;a++){for(var o=E[e+8*a>>2],s=E[e+(8*a+4)>>2],u=0;u<s;u++){var l=M[o+u],c=tt[t];0===l||10===l?((1===t?v:b)(D(c,0)),c.length=0):c.push(l)}n+=s}return E[i>>2]=n,0}catch(h){return"undefined"!=typeof FS&&h instanceof FS.c||Z(h),h.f}},memory:x,table:C},at=function(){function t(t){o.asm=t.exports,X--,o.monitorRunDependencies&&o.monitorRunDependencies(X),0==X&&(null!==H&&(clearInterval(H),H=null),W&&(t=W,W=null,t()))}function e(e){t(e.instance)}function r(t){return(y||!c&&!h||"function"!=typeof fetch?new Promise((function(t){t($())})):fetch(J,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at '"+J+"'";return t.arrayBuffer()})).catch((function(){return $()}))).then((function(){return{then:function(t){t({instance:new A})}}})).then(t,(function(t){b("failed to asynchronously prepare wasm: "+t),Z(t)}))}var i={env:nt,wasi_snapshot_preview1:nt};if(X++,o.monitorRunDependencies&&o.monitorRunDependencies(X),o.instantiateWasm)try{return o.instantiateWasm(i,t)}catch(n){return b("Module.instantiateWasm callback failed with error: "+n),!1}return function(){if(y||"function"!=typeof S.instantiateStreaming||Q(J)||"function"!=typeof fetch)return r(e);fetch(J,{credentials:"same-origin"}).then((function(t){return S.instantiateStreaming(t,i).then(e,(function(t){b("wasm streaming compile failed: "+t),b("falling back to ArrayBuffer instantiation"),r(e)}))}))}(),{}}();o.asm=at;var ot=o.___wasm_call_ctors=function(){return o.asm.__wasm_call_ctors.apply(null,arguments)};o._csmGetVersion=function(){return o.asm.csmGetVersion.apply(null,arguments)},o._csmGetLatestMocVersion=function(){return o.asm.csmGetLatestMocVersion.apply(null,arguments)},o._csmGetMocVersion=function(){return o.asm.csmGetMocVersion.apply(null,arguments)},o._csmSetLogFunction=function(){return o.asm.csmSetLogFunction.apply(null,arguments)},o._csmReviveMocInPlace=function(){return o.asm.csmReviveMocInPlace.apply(null,arguments)},o._csmReadCanvasInfo=function(){return o.asm.csmReadCanvasInfo.apply(null,arguments)},o._csmGetSizeofModel=function(){return o.asm.csmGetSizeofModel.apply(null,arguments)},o._csmInitializeModelInPlace=function(){return o.asm.csmInitializeModelInPlace.apply(null,arguments)},o._csmUpdateModel=function(){return o.asm.csmUpdateModel.apply(null,arguments)},o._csmGetParameterCount=function(){return o.asm.csmGetParameterCount.apply(null,arguments)},o._csmGetParameterIds=function(){return o.asm.csmGetParameterIds.apply(null,arguments)},o._csmGetParameterMinimumValues=function(){return o.asm.csmGetParameterMinimumValues.apply(null,arguments)},o._csmGetParameterMaximumValues=function(){return o.asm.csmGetParameterMaximumValues.apply(null,arguments)},o._csmGetParameterDefaultValues=function(){return o.asm.csmGetParameterDefaultValues.apply(null,arguments)},o._csmGetParameterValues=function(){return o.asm.csmGetParameterValues.apply(null,arguments)},o._csmGetPartCount=function(){return o.asm.csmGetPartCount.apply(null,arguments)},o._csmGetPartIds=function(){return o.asm.csmGetPartIds.apply(null,arguments)},o._csmGetPartOpacities=function(){return o.asm.csmGetPartOpacities.apply(null,arguments)},o._csmGetPartParentPartIndices=function(){return o.asm.csmGetPartParentPartIndices.apply(null,arguments)},o._csmGetDrawableCount=function(){return o.asm.csmGetDrawableCount.apply(null,arguments)},o._csmGetDrawableIds=function(){return o.asm.csmGetDrawableIds.apply(null,arguments)},o._csmGetDrawableConstantFlags=function(){return o.asm.csmGetDrawableConstantFlags.apply(null,arguments)},o._csmGetDrawableDynamicFlags=function(){return o.asm.csmGetDrawableDynamicFlags.apply(null,arguments)},o._csmGetDrawableTextureIndices=function(){return o.asm.csmGetDrawableTextureIndices.apply(null,arguments)},o._csmGetDrawableDrawOrders=function(){return o.asm.csmGetDrawableDrawOrders.apply(null,arguments)},o._csmGetDrawableRenderOrders=function(){return o.asm.csmGetDrawableRenderOrders.apply(null,arguments)},o._csmGetDrawableOpacities=function(){return o.asm.csmGetDrawableOpacities.apply(null,arguments)},o._csmGetDrawableMaskCounts=function(){return o.asm.csmGetDrawableMaskCounts.apply(null,arguments)},o._csmGetDrawableMasks=function(){return o.asm.csmGetDrawableMasks.apply(null,arguments)},o._csmGetDrawableVertexCounts=function(){return o.asm.csmGetDrawableVertexCounts.apply(null,arguments)},o._csmGetDrawableVertexPositions=function(){return o.asm.csmGetDrawableVertexPositions.apply(null,arguments)},o._csmGetDrawableVertexUvs=function(){return o.asm.csmGetDrawableVertexUvs.apply(null,arguments)},o._csmGetDrawableIndexCounts=function(){return o.asm.csmGetDrawableIndexCounts.apply(null,arguments)},o._csmGetDrawableIndices=function(){return o.asm.csmGetDrawableIndices.apply(null,arguments)},o._csmResetDrawableDynamicFlags=function(){return o.asm.csmResetDrawableDynamicFlags.apply(null,arguments)},o._csmMallocMoc=function(){return o.asm.csmMallocMoc.apply(null,arguments)},o._csmMallocModelAndInitialize=function(){return o.asm.csmMallocModelAndInitialize.apply(null,arguments)},o._csmMalloc=function(){return o.asm.csmMalloc.apply(null,arguments)},o._csmFree=function(){return o.asm.csmFree.apply(null,arguments)};var st,ut=o.stackSave=function(){return o.asm.stackSave.apply(null,arguments)},lt=o.stackAlloc=function(){return o.asm.stackAlloc.apply(null,arguments)},ct=o.stackRestore=function(){return o.asm.stackRestore.apply(null,arguments)},ht=o.__growWasmMemory=function(){return o.asm.__growWasmMemory.apply(null,arguments)};function ft(){function t(){if(!st&&(st=!0,!k)){if(O(z),O(U),o.onRuntimeInitialized&&o.onRuntimeInitialized(),o.postRun)for("function"==typeof o.postRun&&(o.postRun=[o.postRun]);o.postRun.length;){var t=o.postRun.shift();j.unshift(t)}O(j)}}if(!(0<X)){if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;)G();O(N),0<X||(o.setStatus?(o.setStatus("Running..."),setTimeout((function(){setTimeout((function(){o.setStatus("")}),1),t()}),1)):t())}}if(o.dynCall_vi=function(){return o.asm.dynCall_vi.apply(null,arguments)},o.asm=at,o.ccall=function(t,e,r,i){var n={string:function(t){var e=0;if(null!=t&&0!==t){var r=1+(t.length<<2),i=e=lt(r),n=M;if(0<r){r=i+r-1;for(var a=0;a<t.length;++a){var o=t.charCodeAt(a);if(55296<=o&&o<=57343&&(o=65536+((1023&o)<<10)|1023&t.charCodeAt(++a)),o<=127){if(r<=i)break;n[i++]=o}else{if(o<=2047){if(r<=i+1)break;n[i++]=192|o>>6}else{if(o<=65535){if(r<=i+2)break;n[i++]=224|o>>12}else{if(r<=i+3)break;n[i++]=240|o>>18,n[i++]=128|o>>12&63}n[i++]=128|o>>6&63}n[i++]=128|63&o}}n[i]=0}}return e},array:function(t){var e=lt(t.length);return B.set(t,e),e}},a=function(t){var e=o["_"+t];return I(e,"Cannot call unknown function "+t+", make sure it is exported"),e}(t),s=[];if(t=0,i)for(var u=0;u<i.length;u++){var l=n[r[u]];l?(0===t&&(t=ut()),s[u]=l(i[u])):s[u]=i[u]}return r=function(t){return"string"===e?R(t):"boolean"===e?!!t:t}(r=a.apply(null,s)),0!==t&&ct(t),r},o.UTF8ToString=R,o.addFunction=function(t,e){var r=C.length;try{C.grow(1)}catch(i){if(!i instanceof RangeError)throw i;throw"Unable to grow wasm table. Use a higher value for RESERVED_FUNCTION_POINTERS or set ALLOW_TABLE_GROWTH."}try{C.set(r,t)}catch(i){if(!i instanceof TypeError)throw i;I(void 0!==e,"Missing signature argument to addFunction"),C.set(r,t)}return r},o.then=function(t){if(st)t(o);else{var e=o.onRuntimeInitialized;o.onRuntimeInitialized=function(){e&&e(),t(o)}}return o},W=function t(){st||ft(),st||(W=t)},o.run=ft,o.preInit)for("function"==typeof o.preInit&&(o.preInit=[o.preInit]);0<o.preInit.length;)o.preInit.pop()();return ft(),e}}();t.exports=_;var y=_()}(o||(o={}))}).call(this,"/index.js",r(145),"/",r(601).Buffer)},923:function(t,e,r){"use strict";e.byteLength=function(t){var e=l(t),r=e[0],i=e[1];return 3*(r+i)/4-i},e.toByteArray=function(t){var e,r,i=l(t),o=i[0],s=i[1],u=new a(function(t,e,r){return 3*(e+r)/4-r}(0,o,s)),c=0,h=s>0?o-4:o;for(r=0;r<h;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],u[c++]=e>>16&255,u[c++]=e>>8&255,u[c++]=255&e;2===s&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,u[c++]=255&e);1===s&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,u[c++]=e>>8&255,u[c++]=255&e);return u},e.fromByteArray=function(t){for(var e,r=t.length,n=r%3,a=[],o=16383,s=0,u=r-n;s<u;s+=o)a.push(c(t,s,s+o>u?u:s+o));1===n?(e=t[r-1],a.push(i[e>>2]+i[e<<4&63]+"==")):2===n&&(e=(t[r-2]<<8)+t[r-1],a.push(i[e>>10]+i[e>>4&63]+i[e<<2&63]+"="));return a.join("")};for(var i=[],n=[],a="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=o.length;s<u;++s)i[s]=o[s],n[o.charCodeAt(s)]=s;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function c(t,e,r){for(var n,a,o=[],s=e;s<r;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),o.push(i[(a=n)>>18&63]+i[a>>12&63]+i[a>>6&63]+i[63&a]);return o.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},924:function(t,e){e.read=function(t,e,r,i,n){var a,o,s=8*n-i-1,u=(1<<s)-1,l=u>>1,c=-7,h=r?n-1:0,f=r?-1:1,d=t[e+h];for(h+=f,a=d&(1<<-c)-1,d>>=-c,c+=s;c>0;a=256*a+t[e+h],h+=f,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=i;c>0;o=256*o+t[e+h],h+=f,c-=8);if(0===a)a=1-l;else{if(a===u)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,i),a-=l}return(d?-1:1)*o*Math.pow(2,a-i)},e.write=function(t,e,r,i,n,a){var o,s,u,l=8*a-n-1,c=(1<<l)-1,h=c>>1,f=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,d=i?0:a-1,p=i?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),(e+=o+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(o++,u/=2),o+h>=c?(s=0,o=c):o+h>=1?(s=(e*u-1)*Math.pow(2,n),o+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,n),o=0));n>=8;t[r+d]=255&s,d+=p,s/=256,n-=8);for(o=o<<n|s,l+=n;l>0;t[r+d]=255&o,d+=p,o/=256,l-=8);t[r+d-p]|=128*g}},925:function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},926:function(t,e){},927:function(t,e,r){(function(t){function r(t,e){for(var r=0,i=t.length-1;i>=0;i--){var n=t[i];"."===n?t.splice(i,1):".."===n?(t.splice(i,1),r++):r&&(t.splice(i,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}function i(t,e){if(t.filter)return t.filter(e);for(var r=[],i=0;i<t.length;i++)e(t[i],i,t)&&r.push(t[i]);return r}e.resolve=function(){for(var e="",n=!1,a=arguments.length-1;a>=-1&&!n;a--){var o=a>=0?arguments[a]:t.cwd();if("string"!==typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(e=o+"/"+e,n="/"===o.charAt(0))}return(n?"/":"")+(e=r(i(e.split("/"),(function(t){return!!t})),!n).join("/"))||"."},e.normalize=function(t){var a=e.isAbsolute(t),o="/"===n(t,-1);return(t=r(i(t.split("/"),(function(t){return!!t})),!a).join("/"))||a||(t="."),t&&o&&(t+="/"),(a?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(i(t,(function(t,e){if("string"!==typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,r){function i(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=e.resolve(t).substr(1),r=e.resolve(r).substr(1);for(var n=i(t.split("/")),a=i(r.split("/")),o=Math.min(n.length,a.length),s=o,u=0;u<o;u++)if(n[u]!==a[u]){s=u;break}var l=[];for(u=s;u<n.length;u++)l.push("..");return(l=l.concat(a.slice(s))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!==typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),r=47===e,i=-1,n=!0,a=t.length-1;a>=1;--a)if(47===(e=t.charCodeAt(a))){if(!n){i=a;break}}else n=!1;return-1===i?r?"/":".":r&&1===i?"/":t.slice(0,i)},e.basename=function(t,e){var r=function(t){"string"!==typeof t&&(t+="");var e,r=0,i=-1,n=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!n){r=e+1;break}}else-1===i&&(n=!1,i=e+1);return-1===i?"":t.slice(r,i)}(t);return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},e.extname=function(t){"string"!==typeof t&&(t+="");for(var e=-1,r=0,i=-1,n=!0,a=0,o=t.length-1;o>=0;--o){var s=t.charCodeAt(o);if(47!==s)-1===i&&(n=!1,i=o+1),46===s?-1===e?e=o:1!==a&&(a=1):-1!==e&&(a=-1);else if(!n){r=o+1;break}}return-1===e||-1===i||0===a||1===a&&e===i-1&&e===r+1?"":t.slice(e,i)};var n="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}).call(this,r(145))},928:function(t,e,r){(function(e,r,i){t.exports=function t(e,r,i){function n(o,s){if(!r[o]){if(!e[o]){if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var l=r[o]={exports:{}};e[o][0].call(l.exports,(function(t){return n(e[o][1][t]||t)}),l,l.exports,t,e,r,i)}return r[o].exports}for(var a=!1,o=0;o<i.length;o++)n(i[o]);return n}({1:[function(t,e,r){"use strict";var i=t("./utils"),n=t("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(t){for(var e,r,n,o,s,u,l,c=[],h=0,f=t.length,d=f,p="string"!==i.getTypeOf(t);h<t.length;)d=f-h,n=p?(e=t[h++],r=h<f?t[h++]:0,h<f?t[h++]:0):(e=t.charCodeAt(h++),r=h<f?t.charCodeAt(h++):0,h<f?t.charCodeAt(h++):0),o=e>>2,s=(3&e)<<4|r>>4,u=1<d?(15&r)<<2|n>>6:64,l=2<d?63&n:64,c.push(a.charAt(o)+a.charAt(s)+a.charAt(u)+a.charAt(l));return c.join("")},r.decode=function(t){var e,r,i,o,s,u,l=0,c=0,h="data:";if(t.substr(0,h.length)===h)throw new Error("Invalid base64 input, it looks like a data url.");var f,d=3*(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(t.charAt(t.length-1)===a.charAt(64)&&d--,t.charAt(t.length-2)===a.charAt(64)&&d--,d%1!=0)throw new Error("Invalid base64 input, bad content length.");for(f=n.uint8array?new Uint8Array(0|d):new Array(0|d);l<t.length;)e=a.indexOf(t.charAt(l++))<<2|(o=a.indexOf(t.charAt(l++)))>>4,r=(15&o)<<4|(s=a.indexOf(t.charAt(l++)))>>2,i=(3&s)<<6|(u=a.indexOf(t.charAt(l++))),f[c++]=e,64!==s&&(f[c++]=r),64!==u&&(f[c++]=i);return f}},{"./support":30,"./utils":32}],2:[function(t,e,r){"use strict";var i=t("./external"),n=t("./stream/DataWorker"),a=t("./stream/DataLengthProbe"),o=t("./stream/Crc32Probe");function s(t,e,r,i,n){this.compressedSize=t,this.uncompressedSize=e,this.crc32=r,this.compression=i,this.compressedContent=n}a=t("./stream/DataLengthProbe"),s.prototype={getContentWorker:function(){var t=new n(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),e=this;return t.on("end",(function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),t},getCompressedWorker:function(){return new n(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(t,e,r){return t.pipe(new o).pipe(new a("uncompressedSize")).pipe(e.compressWorker(r)).pipe(new a("compressedSize")).withStreamInfo("compression",e)},e.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,e,r){"use strict";var i=t("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(t){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},r.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,e,r){"use strict";var i=t("./utils"),n=function(){for(var t,e=[],r=0;r<256;r++){t=r;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}();e.exports=function(t,e){return void 0!==t&&t.length?"string"!==i.getTypeOf(t)?function(t,e,r,i){var a=n,o=i+r;t^=-1;for(var s=i;s<o;s++)t=t>>>8^a[255&(t^e[s])];return-1^t}(0|e,t,t.length,0):function(t,e,r,i){var a=n,o=i+r;t^=-1;for(var s=i;s<o;s++)t=t>>>8^a[255&(t^e.charCodeAt(s))];return-1^t}(0|e,t,t.length,0):0}},{"./utils":32}],5:[function(t,e,r){"use strict";r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(t,e,r){"use strict";var i=null;i="undefined"!=typeof Promise?Promise:t("lie"),e.exports={Promise:i}},{lie:37}],7:[function(t,e,r){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,n=t("pako"),a=t("./utils"),o=t("./stream/GenericWorker"),s=i?"uint8array":"array";function u(t,e){o.call(this,"FlateWorker/"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}r.magic="\b\0",a.inherits(u,o),u.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(a.transformTo(s,t.data),!1)},u.prototype.flush=function(){o.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new n[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}},r.compressWorker=function(t){return new u("Deflate",t)},r.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,e,r){"use strict";function i(t,e){var r,i="";for(r=0;r<e;r++)i+=String.fromCharCode(255&t),t>>>=8;return i}function n(t,e,r,n,o,c){var h,f,d=t.file,p=t.compression,g=c!==s.utf8encode,m=a.transformTo("string",c(d.name)),_=a.transformTo("string",s.utf8encode(d.name)),y=d.comment,v=a.transformTo("string",c(y)),b=a.transformTo("string",s.utf8encode(y)),A=_.length!==d.name.length,w=b.length!==y.length,S="",x="",C="",k=d.dir,I=d.date,P={crc32:0,compressedSize:0,uncompressedSize:0};e&&!r||(P.crc32=t.crc32,P.compressedSize=t.compressedSize,P.uncompressedSize=t.uncompressedSize);var B=0;e&&(B|=8),g||!A&&!w||(B|=2048);var M=0,E=0;k&&(M|=16),"UNIX"===o?(E=798,M|=function(t,e){var r=t;return t||(r=e?16893:33204),(65535&r)<<16}(d.unixPermissions,k)):(E=20,M|=function(t){return 63&(t||0)}(d.dosPermissions)),h=I.getUTCHours(),h<<=6,h|=I.getUTCMinutes(),h<<=5,h|=I.getUTCSeconds()/2,f=I.getUTCFullYear()-1980,f<<=4,f|=I.getUTCMonth()+1,f<<=5,f|=I.getUTCDate(),A&&(x=i(1,1)+i(u(m),4)+_,S+="up"+i(x.length,2)+x),w&&(C=i(1,1)+i(u(v),4)+b,S+="uc"+i(C.length,2)+C);var T="";return T+="\n\0",T+=i(B,2),T+=p.magic,T+=i(h,2),T+=i(f,2),T+=i(P.crc32,4),T+=i(P.compressedSize,4),T+=i(P.uncompressedSize,4),T+=i(m.length,2),T+=i(S.length,2),{fileRecord:l.LOCAL_FILE_HEADER+T+m+S,dirRecord:l.CENTRAL_FILE_HEADER+i(E,2)+T+i(v.length,2)+"\0\0\0\0"+i(M,4)+i(n,4)+m+S+v}}var a=t("../utils"),o=t("../stream/GenericWorker"),s=t("../utf8"),u=t("../crc32"),l=t("../signature");function c(t,e,r,i){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=r,this.encodeFileName=i,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(c,o),c.prototype.push=function(t){var e=t.meta.percent||0,r=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,o.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:r?(e+100*(r-i-1))/r:100}}))},c.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var r=n(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},c.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,r=n(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),e)this.push({data:function(t){return l.DATA_DESCRIPTOR+i(t.crc32,4)+i(t.compressedSize,4)+i(t.uncompressedSize,4)}(t),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},c.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var r=this.bytesWritten-t,n=function(t,e,r,n,o){var s=a.transformTo("string",o(n));return l.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(t,2)+i(t,2)+i(e,4)+i(r,4)+i(s.length,2)+s}(this.dirRecords.length,r,t,this.zipComment,this.encodeFileName);this.push({data:n,meta:{percent:100}})},c.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},c.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",(function(t){e.processChunk(t)})),t.on("end",(function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()})),t.on("error",(function(t){e.error(t)})),this},c.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},c.prototype.error=function(t){var e=this._sources;if(!o.prototype.error.call(this,t))return!1;for(var r=0;r<e.length;r++)try{e[r].error(t)}catch(t){}return!0},c.prototype.lock=function(){o.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},e.exports=c},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,e,r){"use strict";var i=t("../compressions"),n=t("./ZipFileWorker");r.generateWorker=function(t,e,r){var a=new n(e.streamFiles,r,e.platform,e.encodeFileName),o=0;try{t.forEach((function(t,r){o++;var n=function(t,e){var r=t||e,n=i[r];if(!n)throw new Error(r+" is not a valid compression method !");return n}(r.options.compression,e.compression),s=r.options.compressionOptions||e.compressionOptions||{},u=r.dir,l=r.date;r._compressWorker(n,s).withStreamInfo("file",{name:t,dir:u,date:l,comment:r.comment||"",unixPermissions:r.unixPermissions,dosPermissions:r.dosPermissions}).pipe(a)})),a.entriesCount=o}catch(t){a.error(t)}return a}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,e,r){"use strict";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var t=new i;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}(i.prototype=t("./object")).loadAsync=t("./load"),i.support=t("./support"),i.defaults=t("./defaults"),i.version="3.5.0",i.loadAsync=function(t,e){return(new i).loadAsync(t,e)},i.external=t("./external"),e.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,e,r){"use strict";var i=t("./utils"),n=t("./external"),a=t("./utf8"),o=(i=t("./utils"),t("./zipEntries")),s=t("./stream/Crc32Probe"),u=t("./nodejsUtils");function l(t){return new n.Promise((function(e,r){var i=t.decompressed.getContentWorker().pipe(new s);i.on("error",(function(t){r(t)})).on("end",(function(){i.streamInfo.crc32!==t.decompressed.crc32?r(new Error("Corrupted zip : CRC32 mismatch")):e()})).resume()}))}e.exports=function(t,e){var r=this;return e=i.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),u.isNode&&u.isStream(t)?n.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",t,!0,e.optimizedBinaryString,e.base64).then((function(t){var r=new o(e);return r.load(t),r})).then((function(t){var r=[n.Promise.resolve(t)],i=t.files;if(e.checkCRC32)for(var a=0;a<i.length;a++)r.push(l(i[a]));return n.Promise.all(r)})).then((function(t){for(var i=t.shift(),n=i.files,a=0;a<n.length;a++){var o=n[a];r.file(o.fileNameStr,o.decompressed,{binary:!0,optimizedBinaryString:!0,date:o.date,dir:o.dir,comment:o.fileCommentStr.length?o.fileCommentStr:null,unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions,createFolders:e.createFolders})}return i.zipComment.length&&(r.comment=i.zipComment),r}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,e,r){"use strict";var i=t("../utils"),n=t("../stream/GenericWorker");function a(t,e){n.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(e)}i.inherits(a,n),a.prototype._bindStream=function(t){var e=this;(this._stream=t).pause(),t.on("data",(function(t){e.push({data:t,meta:{percent:0}})})).on("error",(function(t){e.isPaused?this.generatedError=t:e.error(t)})).on("end",(function(){e.isPaused?e._upstreamEnded=!0:e.end()}))},a.prototype.pause=function(){return!!n.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,e,r){"use strict";var i=t("readable-stream").Readable;function n(t,e,r){i.call(this,e),this._helper=t;var n=this;t.on("data",(function(t,e){n.push(t)||n._helper.pause(),r&&r(e)})).on("error",(function(t){n.emit("error",t)})).on("end",(function(){n.push(null)}))}t("../utils").inherits(n,i),n.prototype._read=function(){this._helper.resume()},e.exports=n},{"../utils":32,"readable-stream":16}],14:[function(t,r,i){"use strict";r.exports={isNode:"undefined"!=typeof e,newBufferFrom:function(t,r){if(e.from&&e.from!==Uint8Array.from)return e.from(t,r);if("number"==typeof t)throw new Error('The "data" argument must not be a number');return new e(t,r)},allocBuffer:function(t){if(e.alloc)return e.alloc(t);var r=new e(t);return r.fill(0),r},isBuffer:function(t){return e.isBuffer(t)},isStream:function(t){return t&&"function"==typeof t.on&&"function"==typeof t.pause&&"function"==typeof t.resume}}},{}],15:[function(t,e,r){"use strict";function i(t,e,r){var i,n=a.getTypeOf(e),s=a.extend(r||{},u);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),"string"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(t=g(t)),s.createFolders&&(i=p(t))&&m.call(this,i,!0);var h="string"===n&&!1===s.binary&&!1===s.base64;r&&void 0!==r.binary||(s.binary=!h),(e instanceof l&&0===e.uncompressedSize||s.dir||!e||0===e.length)&&(s.base64=!1,s.binary=!0,e="",s.compression="STORE",n="string");var _=null;_=e instanceof l||e instanceof o?e:f.isNode&&f.isStream(e)?new d(t,e):a.prepareContent(t,e,s.binary,s.optimizedBinaryString,s.base64);var y=new c(t,_,s);this.files[t]=y}var n=t("./utf8"),a=t("./utils"),o=t("./stream/GenericWorker"),s=t("./stream/StreamHelper"),u=t("./defaults"),l=t("./compressedObject"),c=t("./zipObject"),h=t("./generate"),f=t("./nodejsUtils"),d=t("./nodejs/NodejsStreamInputAdapter"),p=function(t){"/"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return 0<e?t.substring(0,e):""},g=function(t){return"/"!==t.slice(-1)&&(t+="/"),t},m=function(t,e){return e=void 0!==e?e:u.createFolders,t=g(t),this.files[t]||i.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]};function _(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,r,i;for(e in this.files)this.files.hasOwnProperty(e)&&(i=this.files[e],(r=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(r,i))},filter:function(t){var e=[];return this.forEach((function(r,i){t(r,i)&&e.push(i)})),e},file:function(t,e,r){if(1!==arguments.length)return t=this.root+t,i.call(this,t,e,r),this;if(_(t)){var n=t;return this.filter((function(t,e){return!e.dir&&n.test(t)}))}var a=this.files[this.root+t];return a&&!a.dir?a:null},folder:function(t){if(!t)return this;if(_(t))return this.filter((function(e,r){return r.dir&&t.test(e)}));var e=this.root+t,r=m.call(this,e),i=this.clone();return i.root=r.name,i},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!==t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var r=this.filter((function(e,r){return r.name.slice(0,t.length)===t})),i=0;i<r.length;i++)delete this.files[r[i].name];return this},generate:function(t){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e,r={};try{if((r=a.extend(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:n.utf8encode})).type=r.type.toLowerCase(),r.compression=r.compression.toUpperCase(),"binarystring"===r.type&&(r.type="string"),!r.type)throw new Error("No output type specified.");a.checkSupport(r.type),"darwin"!==r.platform&&"freebsd"!==r.platform&&"linux"!==r.platform&&"sunos"!==r.platform||(r.platform="UNIX"),"win32"===r.platform&&(r.platform="DOS");var i=r.comment||this.comment||"";e=h.generateWorker(this,r,i)}catch(t){(e=new o("error")).error(t)}return new s(e,r.type||"string",r.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return(t=t||{}).type||(t.type="nodebuffer"),this.generateInternalStream(t).toNodejsStream(e)}};e.exports=y},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,e,r){e.exports=t("stream")},{stream:void 0}],17:[function(t,e,r){"use strict";var i=t("./DataReader");function n(t){i.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}t("../utils").inherits(n,i),n.prototype.byteAt=function(t){return this.data[this.zero+t]},n.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),r=t.charCodeAt(1),i=t.charCodeAt(2),n=t.charCodeAt(3),a=this.length-4;0<=a;--a)if(this.data[a]===e&&this.data[a+1]===r&&this.data[a+2]===i&&this.data[a+3]===n)return a-this.zero;return-1},n.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),r=t.charCodeAt(1),i=t.charCodeAt(2),n=t.charCodeAt(3),a=this.readData(4);return e===a[0]&&r===a[1]&&i===a[2]&&n===a[3]},n.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{"../utils":32,"./DataReader":18}],18:[function(t,e,r){"use strict";var i=t("../utils");function n(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}n.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,r=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)r=(r<<8)+this.byteAt(e);return this.index+=t,r},readString:function(t){return i.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readAndCheckSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},e.exports=n},{"../utils":32}],19:[function(t,e,r){"use strict";var i=t("./Uint8ArrayReader");function n(t){i.call(this,t)}t("../utils").inherits(n,i),n.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,e,r){"use strict";var i=t("./DataReader");function n(t){i.call(this,t)}t("../utils").inherits(n,i),n.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},n.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},n.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},n.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{"../utils":32,"./DataReader":18}],21:[function(t,e,r){"use strict";var i=t("./ArrayReader");function n(t){i.call(this,t)}t("../utils").inherits(n,i),n.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{"../utils":32,"./ArrayReader":17}],22:[function(t,e,r){"use strict";var i=t("../utils"),n=t("../support"),a=t("./ArrayReader"),o=t("./StringReader"),s=t("./NodeBufferReader"),u=t("./Uint8ArrayReader");e.exports=function(t){var e=i.getTypeOf(t);return i.checkSupport(e),"string"!==e||n.uint8array?"nodebuffer"===e?new s(t):n.uint8array?new u(i.transformTo("uint8array",t)):new a(i.transformTo("array",t)):new o(t)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,e,r){"use strict";r.LOCAL_FILE_HEADER="PK\x03\x04",r.CENTRAL_FILE_HEADER="PK\x01\x02",r.CENTRAL_DIRECTORY_END="PK\x05\x06",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",r.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",r.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,e,r){"use strict";var i=t("./GenericWorker"),n=t("../utils");function a(t){i.call(this,"ConvertWorker to "+t),this.destType=t}n.inherits(a,i),a.prototype.processChunk=function(t){this.push({data:n.transformTo(this.destType,t.data),meta:t.meta})},e.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(t,e,r){"use strict";var i=t("./GenericWorker"),n=t("../crc32");function a(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(a,i),a.prototype.processChunk=function(t){this.streamInfo.crc32=n(t.data,this.streamInfo.crc32||0),this.push(t)},e.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,e,r){"use strict";var i=t("../utils"),n=t("./GenericWorker");function a(t){n.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}i.inherits(a,n),a.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}n.prototype.processChunk.call(this,t)},e.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(t,e,r){"use strict";var i=t("../utils"),n=t("./GenericWorker");function a(t){n.call(this,"DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then((function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=i.getTypeOf(t),e.isPaused||e._tickAndRepeat()}),(function(t){e.error(t)}))}i.inherits(a,n),a.prototype.cleanUp=function(){n.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,e);break;case"uint8array":t=this.data.subarray(this.index,e);break;case"array":case"nodebuffer":t=this.data.slice(this.index,e)}return this.index=e,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(t,e,r){"use strict";function i(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var r=0;r<this._listeners[t].length;r++)this._listeners[t][r].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",(function(t){e.processChunk(t)})),t.on("end",(function(){e.end()})),t.on("error",(function(t){e.error(t)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var t=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}},e.exports=i},{}],29:[function(t,r,i){"use strict";var n=t("../utils"),a=t("./ConvertWorker"),o=t("./GenericWorker"),s=t("../base64"),u=t("../support"),l=t("../external"),c=null;if(u.nodestream)try{c=t("../nodejs/NodejsStreamOutputAdapter")}catch(t){}function h(t,r){return new l.Promise((function(i,a){var o=[],u=t._internalType,l=t._outputType,c=t._mimeType;t.on("data",(function(t,e){o.push(t),r&&r(e)})).on("error",(function(t){o=[],a(t)})).on("end",(function(){try{var t=function(t,e,r){switch(t){case"blob":return n.newBlob(n.transformTo("arraybuffer",e),r);case"base64":return s.encode(e);default:return n.transformTo(t,e)}}(l,function(t,r){var i,n=0,a=null,o=0;for(i=0;i<r.length;i++)o+=r[i].length;switch(t){case"string":return r.join("");case"array":return Array.prototype.concat.apply([],r);case"uint8array":for(a=new Uint8Array(o),i=0;i<r.length;i++)a.set(r[i],n),n+=r[i].length;return a;case"nodebuffer":return e.concat(r);default:throw new Error("concat : unsupported type '"+t+"'")}}(u,o),c);i(t)}catch(t){a(t)}o=[]})).resume()}))}function f(t,e,r){var i=e;switch(e){case"blob":case"arraybuffer":i="uint8array";break;case"base64":i="string"}try{this._internalType=i,this._outputType=e,this._mimeType=r,n.checkSupport(i),this._worker=t.pipe(new a(i)),t.lock()}catch(t){this._worker=new o("error"),this._worker.error(t)}}f.prototype={accumulate:function(t){return h(this,t)},on:function(t,e){var r=this;return"data"===t?this._worker.on(t,(function(t){e.call(r,t.data,t.meta)})):this._worker.on(t,(function(){n.delay(e,arguments,r)})),this},resume:function(){return n.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(n.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:"nodebuffer"!==this._outputType},t)}},r.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,r,i){"use strict";if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,i.nodebuffer="undefined"!=typeof e,i.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)i.blob=!1;else{var n=new ArrayBuffer(0);try{i.blob=0===new Blob([n],{type:"application/zip"}).size}catch(t){try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(n),i.blob=0===a.getBlob("application/zip").size}catch(t){i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch(t){i.nodestream=!1}},{"readable-stream":16}],31:[function(t,e,r){"use strict";for(var i=t("./utils"),n=t("./support"),a=t("./nodejsUtils"),o=t("./stream/GenericWorker"),s=new Array(256),u=0;u<256;u++)s[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function l(){o.call(this,"utf-8 decode"),this.leftOver=null}function c(){o.call(this,"utf-8 encode")}s[254]=s[254]=1,r.utf8encode=function(t){return n.nodebuffer?a.newBufferFrom(t,"utf-8"):function(t){var e,r,i,a,o,s=t.length,u=0;for(a=0;a<s;a++)55296==(64512&(r=t.charCodeAt(a)))&&a+1<s&&56320==(64512&(i=t.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(i-56320),a++),u+=r<128?1:r<2048?2:r<65536?3:4;for(e=n.uint8array?new Uint8Array(u):new Array(u),a=o=0;o<u;a++)55296==(64512&(r=t.charCodeAt(a)))&&a+1<s&&56320==(64512&(i=t.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(i-56320),a++),r<128?e[o++]=r:(r<2048?e[o++]=192|r>>>6:(r<65536?e[o++]=224|r>>>12:(e[o++]=240|r>>>18,e[o++]=128|r>>>12&63),e[o++]=128|r>>>6&63),e[o++]=128|63&r);return e}(t)},r.utf8decode=function(t){return n.nodebuffer?i.transformTo("nodebuffer",t).toString("utf-8"):function(t){var e,r,n,a,o=t.length,u=new Array(2*o);for(e=r=0;e<o;)if((n=t[e++])<128)u[r++]=n;else if(4<(a=s[n]))u[r++]=65533,e+=a-1;else{for(n&=2===a?31:3===a?15:7;1<a&&e<o;)n=n<<6|63&t[e++],a--;1<a?u[r++]=65533:n<65536?u[r++]=n:(n-=65536,u[r++]=55296|n>>10&1023,u[r++]=56320|1023&n)}return u.length!==r&&(u.subarray?u=u.subarray(0,r):u.length=r),i.applyFromCharCode(u)}(t=i.transformTo(n.uint8array?"uint8array":"array",t))},i.inherits(l,o),l.prototype.processChunk=function(t){var e=i.transformTo(n.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(n.uint8array){var a=e;(e=new Uint8Array(a.length+this.leftOver.length)).set(this.leftOver,0),e.set(a,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var o=function(t,e){var r;for((e=e||t.length)>t.length&&(e=t.length),r=e-1;0<=r&&128==(192&t[r]);)r--;return r<0||0===r?e:r+s[t[r]]>e?r:e}(e),u=e;o!==e.length&&(n.uint8array?(u=e.subarray(0,o),this.leftOver=e.subarray(o,e.length)):(u=e.slice(0,o),this.leftOver=e.slice(o,e.length))),this.push({data:r.utf8decode(u),meta:t.meta})},l.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=l,i.inherits(c,o),c.prototype.processChunk=function(t){this.push({data:r.utf8encode(t.data),meta:t.meta})},r.Utf8EncodeWorker=c},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,e,r){"use strict";var i=t("./support"),n=t("./base64"),a=t("./nodejsUtils"),o=t("set-immediate-shim"),s=t("./external");function u(t){return t}function l(t,e){for(var r=0;r<t.length;++r)e[r]=255&t.charCodeAt(r);return e}r.newBlob=function(e,i){r.checkSupport("blob");try{return new Blob([e],{type:i})}catch(t){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return n.append(e),n.getBlob(i)}catch(t){throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(t,e,r){var i=[],n=0,a=t.length;if(a<=r)return String.fromCharCode.apply(null,t);for(;n<a;)"array"===e||"nodebuffer"===e?i.push(String.fromCharCode.apply(null,t.slice(n,Math.min(n+r,a)))):i.push(String.fromCharCode.apply(null,t.subarray(n,Math.min(n+r,a)))),n+=r;return i.join("")},stringifyByChar:function(t){for(var e="",r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&1===String.fromCharCode.apply(null,a.allocBuffer(1)).length}catch(t){return!1}}()}};function h(t){var e=65536,i=r.getTypeOf(t),n=!0;if("uint8array"===i?n=c.applyCanBeUsed.uint8array:"nodebuffer"===i&&(n=c.applyCanBeUsed.nodebuffer),n)for(;1<e;)try{return c.stringifyByChunk(t,i,e)}catch(t){e=Math.floor(e/2)}return c.stringifyByChar(t)}function f(t,e){for(var r=0;r<t.length;r++)e[r]=t[r];return e}r.applyFromCharCode=h;var d={};d.string={string:u,array:function(t){return l(t,new Array(t.length))},arraybuffer:function(t){return d.string.uint8array(t).buffer},uint8array:function(t){return l(t,new Uint8Array(t.length))},nodebuffer:function(t){return l(t,a.allocBuffer(t.length))}},d.array={string:h,array:u,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return a.newBufferFrom(t)}},d.arraybuffer={string:function(t){return h(new Uint8Array(t))},array:function(t){return f(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:u,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return a.newBufferFrom(new Uint8Array(t))}},d.uint8array={string:h,array:function(t){return f(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:u,nodebuffer:function(t){return a.newBufferFrom(t)}},d.nodebuffer={string:h,array:function(t){return f(t,new Array(t.length))},arraybuffer:function(t){return d.nodebuffer.uint8array(t).buffer},uint8array:function(t){return f(t,new Uint8Array(t.length))},nodebuffer:u},r.transformTo=function(t,e){if(e=e||"",!t)return e;r.checkSupport(t);var i=r.getTypeOf(e);return d[i][t](e)},r.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":i.nodebuffer&&a.isBuffer(t)?"nodebuffer":i.uint8array&&t instanceof Uint8Array?"uint8array":i.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(t){if(!i[t.toLowerCase()])throw new Error(t+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(t){var e,r,i="";for(r=0;r<(t||"").length;r++)i+="\\x"+((e=t.charCodeAt(r))<16?"0":"")+e.toString(16).toUpperCase();return i},r.delay=function(t,e,r){o((function(){t.apply(r||null,e||[])}))},r.inherits=function(t,e){function r(){}r.prototype=e.prototype,t.prototype=new r},r.extend=function(){var t,e,r={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&void 0===r[e]&&(r[e]=arguments[t][e]);return r},r.prepareContent=function(t,e,a,o,u){return s.Promise.resolve(e).then((function(t){return i.blob&&(t instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(t)))&&"undefined"!=typeof FileReader?new s.Promise((function(e,r){var i=new FileReader;i.onload=function(t){e(t.target.result)},i.onerror=function(t){r(t.target.error)},i.readAsArrayBuffer(t)})):t})).then((function(e){var c=r.getTypeOf(e);return c?("arraybuffer"===c?e=r.transformTo("uint8array",e):"string"===c&&(u?e=n.decode(e):a&&!0!==o&&(e=function(t){return l(t,i.uint8array?new Uint8Array(t.length):new Array(t.length))}(e))),e):s.Promise.reject(new Error("Can't read the data of '"+t+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(t,e,r){"use strict";var i=t("./reader/readerFor"),n=t("./utils"),a=t("./signature"),o=t("./zipEntry"),s=(t("./utf8"),t("./support"));function u(t){this.files=[],this.loadOptions=t}u.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+n.pretty(e)+", expected "+n.pretty(t)+")")}},isSignature:function(t,e){var r=this.reader.index;this.reader.setIndex(t);var i=this.reader.readString(4)===e;return this.reader.setIndex(r),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=s.uint8array?"uint8array":"array",r=n.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,r,i=this.zip64EndOfCentralSize-44;0<i;)t=this.reader.readInt(2),e=this.reader.readInt(4),r=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(t=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(t<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(t);var e=t;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===n.MAX_VALUE_16BITS||this.diskWithCentralDirStart===n.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===n.MAX_VALUE_16BITS||this.centralDirRecords===n.MAX_VALUE_16BITS||this.centralDirSize===n.MAX_VALUE_32BITS||this.centralDirOffset===n.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20,r+=12+this.zip64EndOfCentralSize);var i=e-r;if(0<i)this.isSignature(e,a.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(t){this.reader=i(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(t,e,r){"use strict";var i=t("./reader/readerFor"),n=t("./utils"),a=t("./compressedObject"),o=t("./crc32"),s=t("./utf8"),u=t("./compressions"),l=t("./support");function c(t,e){this.options=t,this.loadOptions=e}c.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(t){var e,r;if(t.skip(22),this.fileNameLength=t.readInt(2),r=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(r),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(e=function(t){for(var e in u)if(u.hasOwnProperty(e)&&u[e].magic===t)return u[e];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+n.pretty(this.compressionMethod)+" unknown (inner file : "+n.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==t&&(this.dosPermissions=63&this.externalFileAttributes),3==t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=i(this.extraFields[1].value);this.uncompressedSize===n.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===n.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===n.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===n.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,r,i,n=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index+4<n;)e=t.readInt(2),r=t.readInt(2),i=t.readData(r),this.extraFields[e]={id:e,length:r,value:i};t.setIndex(n)},handleUTF8:function(){var t=l.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var r=n.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var a=n.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(a)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=i(t.value);return 1!==e.readInt(1)||o(this.fileName)!==e.readInt(4)?null:s.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=i(t.value);return 1!==e.readInt(1)||o(this.fileComment)!==e.readInt(4)?null:s.utf8decode(e.readData(t.length-5))}return null}},e.exports=c},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,e,r){"use strict";function i(t,e,r){this.name=t,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=e,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}}var n=t("./stream/StreamHelper"),a=t("./stream/DataWorker"),o=t("./utf8"),s=t("./compressedObject"),u=t("./stream/GenericWorker");i.prototype={internalStream:function(t){var e=null,r="string";try{if(!t)throw new Error("No output type specified.");var i="string"===(r=t.toLowerCase())||"text"===r;"binarystring"!==r&&"text"!==r||(r="string"),e=this._decompressWorker();var a=!this._dataBinary;a&&!i&&(e=e.pipe(new o.Utf8EncodeWorker)),!a&&i&&(e=e.pipe(new o.Utf8DecodeWorker))}catch(t){(e=new u("error")).error(t)}return new n(e,r,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof s&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var r=this._decompressWorker();return this._dataBinary||(r=r.pipe(new o.Utf8EncodeWorker)),s.createWorkerFrom(r,t,e)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof u?this._data:new a(this._data)}};for(var l=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],c=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<l.length;h++)i.prototype[l[h]]=c;e.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,e,i){(function(t){"use strict";var r,i,n=t.MutationObserver||t.WebKitMutationObserver;if(n){var a=0,o=new n(c),s=t.document.createTextNode("");o.observe(s,{characterData:!0}),r=function(){s.data=a=++a%2}}else if(t.setImmediate||void 0===t.MessageChannel)r="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){c(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(c,0)};else{var u=new t.MessageChannel;u.port1.onmessage=c,r=function(){u.port2.postMessage(0)}}var l=[];function c(){var t,e;i=!0;for(var r=l.length;r;){for(e=l,l=[],t=-1;++t<r;)e[t]();r=l.length}i=!1}e.exports=function(t){1!==l.push(t)||i||r()}}).call(this,"undefined"!=typeof r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(t,e,r){"use strict";var i=t("immediate");function n(){}var a={},o=["REJECTED"],s=["FULFILLED"],u=["PENDING"];function l(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,t!==n&&d(this,t)}function c(t,e,r){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function h(t,e,r){i((function(){var i;try{i=e(r)}catch(i){return a.reject(t,i)}i===t?a.reject(t,new TypeError("Cannot resolve promise with itself")):a.resolve(t,i)}))}function f(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function d(t,e){var r=!1;function i(e){r||(r=!0,a.reject(t,e))}function n(e){r||(r=!0,a.resolve(t,e))}var o=p((function(){e(n,i)}));"error"===o.status&&i(o.value)}function p(t,e){var r={};try{r.value=t(e),r.status="success"}catch(t){r.status="error",r.value=t}return r}(e.exports=l).prototype.finally=function(t){if("function"!=typeof t)return this;var e=this.constructor;return this.then((function(r){return e.resolve(t()).then((function(){return r}))}),(function(r){return e.resolve(t()).then((function(){throw r}))}))},l.prototype.catch=function(t){return this.then(null,t)},l.prototype.then=function(t,e){if("function"!=typeof t&&this.state===s||"function"!=typeof e&&this.state===o)return this;var r=new this.constructor(n);return this.state!==u?h(r,this.state===s?t:e,this.outcome):this.queue.push(new c(r,t,e)),r},c.prototype.callFulfilled=function(t){a.resolve(this.promise,t)},c.prototype.otherCallFulfilled=function(t){h(this.promise,this.onFulfilled,t)},c.prototype.callRejected=function(t){a.reject(this.promise,t)},c.prototype.otherCallRejected=function(t){h(this.promise,this.onRejected,t)},a.resolve=function(t,e){var r=p(f,e);if("error"===r.status)return a.reject(t,r.value);var i=r.value;if(i)d(t,i);else{t.state=s,t.outcome=e;for(var n=-1,o=t.queue.length;++n<o;)t.queue[n].callFulfilled(e)}return t},a.reject=function(t,e){t.state=o,t.outcome=e;for(var r=-1,i=t.queue.length;++r<i;)t.queue[r].callRejected(e);return t},l.resolve=function(t){return t instanceof this?t:a.resolve(new this(n),t)},l.reject=function(t){var e=new this(n);return a.reject(e,t)},l.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var r=t.length,i=!1;if(!r)return this.resolve([]);for(var o=new Array(r),s=0,u=-1,l=new this(n);++u<r;)c(t[u],u);return l;function c(t,n){e.resolve(t).then((function(t){o[n]=t,++s!==r||i||(i=!0,a.resolve(l,o))}),(function(t){i||(i=!0,a.reject(l,t))}))}},l.race=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var r=t.length,i=!1;if(!r)return this.resolve([]);for(var o,s=-1,u=new this(n);++s<r;)o=t[s],e.resolve(o).then((function(t){i||(i=!0,a.resolve(u,t))}),(function(t){i||(i=!0,a.reject(u,t))}));return u}},{immediate:36}],38:[function(t,e,r){"use strict";var i={};(0,t("./lib/utils/common").assign)(i,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,e,r){"use strict";var i=t("./zlib/deflate"),n=t("./utils/common"),a=t("./utils/strings"),o=t("./zlib/messages"),s=t("./zlib/zstream"),u=Object.prototype.toString,l=0,c=-1,h=0,f=8;function d(t){if(!(this instanceof d))return new d(t);this.options=n.assign({level:c,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},t||{});var e=this.options;e.raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var r=i.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==l)throw new Error(o[r]);if(e.header&&i.deflateSetHeader(this.strm,e.header),e.dictionary){var p;if(p="string"==typeof e.dictionary?a.string2buf(e.dictionary):"[object ArrayBuffer]"===u.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(r=i.deflateSetDictionary(this.strm,p))!==l)throw new Error(o[r]);this._dict_set=!0}}function p(t,e){var r=new d(e);if(r.push(t,!0),r.err)throw r.msg||o[r.err];return r.result}d.prototype.push=function(t,e){var r,o,s=this.strm,c=this.options.chunkSize;if(this.ended)return!1;o=e===~~e?e:!0===e?4:0,"string"==typeof t?s.input=a.string2buf(t):"[object ArrayBuffer]"===u.call(t)?s.input=new Uint8Array(t):s.input=t,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new n.Buf8(c),s.next_out=0,s.avail_out=c),1!==(r=i.deflate(s,o))&&r!==l)return this.onEnd(r),!(this.ended=!0);0!==s.avail_out&&(0!==s.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(a.buf2binstring(n.shrinkBuf(s.output,s.next_out))):this.onData(n.shrinkBuf(s.output,s.next_out)))}while((0<s.avail_in||0===s.avail_out)&&1!==r);return 4===o?(r=i.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===l):2!==o||(this.onEnd(l),!(s.avail_out=0))},d.prototype.onData=function(t){this.chunks.push(t)},d.prototype.onEnd=function(t){t===l&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},r.Deflate=d,r.deflate=p,r.deflateRaw=function(t,e){return(e=e||{}).raw=!0,p(t,e)},r.gzip=function(t,e){return(e=e||{}).gzip=!0,p(t,e)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,e,r){"use strict";var i=t("./zlib/inflate"),n=t("./utils/common"),a=t("./utils/strings"),o=t("./zlib/constants"),s=t("./zlib/messages"),u=t("./zlib/zstream"),l=t("./zlib/gzheader"),c=Object.prototype.toString;function h(t){if(!(this instanceof h))return new h(t);this.options=n.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&0<=e.windowBits&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(0<=e.windowBits&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),15<e.windowBits&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var r=i.inflateInit2(this.strm,e.windowBits);if(r!==o.Z_OK)throw new Error(s[r]);this.header=new l,i.inflateGetHeader(this.strm,this.header)}function f(t,e){var r=new h(e);if(r.push(t,!0),r.err)throw r.msg||s[r.err];return r.result}h.prototype.push=function(t,e){var r,s,u,l,h,f,d=this.strm,p=this.options.chunkSize,g=this.options.dictionary,m=!1;if(this.ended)return!1;s=e===~~e?e:!0===e?o.Z_FINISH:o.Z_NO_FLUSH,"string"==typeof t?d.input=a.binstring2buf(t):"[object ArrayBuffer]"===c.call(t)?d.input=new Uint8Array(t):d.input=t,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new n.Buf8(p),d.next_out=0,d.avail_out=p),(r=i.inflate(d,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&g&&(f="string"==typeof g?a.string2buf(g):"[object ArrayBuffer]"===c.call(g)?new Uint8Array(g):g,r=i.inflateSetDictionary(this.strm,f)),r===o.Z_BUF_ERROR&&!0===m&&(r=o.Z_OK,m=!1),r!==o.Z_STREAM_END&&r!==o.Z_OK)return this.onEnd(r),!(this.ended=!0);d.next_out&&(0!==d.avail_out&&r!==o.Z_STREAM_END&&(0!==d.avail_in||s!==o.Z_FINISH&&s!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(u=a.utf8border(d.output,d.next_out),l=d.next_out-u,h=a.buf2string(d.output,u),d.next_out=l,d.avail_out=p-l,l&&n.arraySet(d.output,d.output,u,l,0),this.onData(h)):this.onData(n.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(m=!0)}while((0<d.avail_in||0===d.avail_out)&&r!==o.Z_STREAM_END);return r===o.Z_STREAM_END&&(s=o.Z_FINISH),s===o.Z_FINISH?(r=i.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===o.Z_OK):s!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),!(d.avail_out=0))},h.prototype.onData=function(t){this.chunks.push(t)},h.prototype.onEnd=function(t){t===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},r.Inflate=h,r.inflate=f,r.inflateRaw=function(t,e){return(e=e||{}).raw=!0,f(t,e)},r.ungzip=f},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,e,r){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;r.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var r=e.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}}return t},r.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var n={arraySet:function(t,e,r,i,n){if(e.subarray&&t.subarray)t.set(e.subarray(r,r+i),n);else for(var a=0;a<i;a++)t[n+a]=e[r+a]},flattenChunks:function(t){var e,r,i,n,a,o;for(e=i=0,r=t.length;e<r;e++)i+=t[e].length;for(o=new Uint8Array(i),e=n=0,r=t.length;e<r;e++)a=t[e],o.set(a,n),n+=a.length;return o}},a={arraySet:function(t,e,r,i,n){for(var a=0;a<i;a++)t[n+a]=e[r+a]},flattenChunks:function(t){return[].concat.apply([],t)}};r.setTyped=function(t){t?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,n)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,a))},r.setTyped(i)},{}],42:[function(t,e,r){"use strict";var i=t("./common"),n=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(t){n=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){a=!1}for(var o=new i.Buf8(256),s=0;s<256;s++)o[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function u(t,e){if(e<65537&&(t.subarray&&a||!t.subarray&&n))return String.fromCharCode.apply(null,i.shrinkBuf(t,e));for(var r="",o=0;o<e;o++)r+=String.fromCharCode(t[o]);return r}o[254]=o[254]=1,r.string2buf=function(t){var e,r,n,a,o,s=t.length,u=0;for(a=0;a<s;a++)55296==(64512&(r=t.charCodeAt(a)))&&a+1<s&&56320==(64512&(n=t.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(n-56320),a++),u+=r<128?1:r<2048?2:r<65536?3:4;for(e=new i.Buf8(u),a=o=0;o<u;a++)55296==(64512&(r=t.charCodeAt(a)))&&a+1<s&&56320==(64512&(n=t.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(n-56320),a++),r<128?e[o++]=r:(r<2048?e[o++]=192|r>>>6:(r<65536?e[o++]=224|r>>>12:(e[o++]=240|r>>>18,e[o++]=128|r>>>12&63),e[o++]=128|r>>>6&63),e[o++]=128|63&r);return e},r.buf2binstring=function(t){return u(t,t.length)},r.binstring2buf=function(t){for(var e=new i.Buf8(t.length),r=0,n=e.length;r<n;r++)e[r]=t.charCodeAt(r);return e},r.buf2string=function(t,e){var r,i,n,a,s=e||t.length,l=new Array(2*s);for(r=i=0;r<s;)if((n=t[r++])<128)l[i++]=n;else if(4<(a=o[n]))l[i++]=65533,r+=a-1;else{for(n&=2===a?31:3===a?15:7;1<a&&r<s;)n=n<<6|63&t[r++],a--;1<a?l[i++]=65533:n<65536?l[i++]=n:(n-=65536,l[i++]=55296|n>>10&1023,l[i++]=56320|1023&n)}return u(l,i)},r.utf8border=function(t,e){var r;for((e=e||t.length)>t.length&&(e=t.length),r=e-1;0<=r&&128==(192&t[r]);)r--;return r<0||0===r?e:r+o[t[r]]>e?r:e}},{"./common":41}],43:[function(t,e,r){"use strict";e.exports=function(t,e,r,i){for(var n=65535&t|0,a=t>>>16&65535|0,o=0;0!==r;){for(r-=o=2e3<r?2e3:r;a=a+(n=n+e[i++]|0)|0,--o;);n%=65521,a%=65521}return n|a<<16|0}},{}],44:[function(t,e,r){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,e,r){"use strict";var i=function(){for(var t,e=[],r=0;r<256;r++){t=r;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}();e.exports=function(t,e,r,n){var a=i,o=n+r;t^=-1;for(var s=n;s<o;s++)t=t>>>8^a[255&(t^e[s])];return-1^t}},{}],46:[function(t,e,r){"use strict";var i,n=t("../utils/common"),a=t("./trees"),o=t("./adler32"),s=t("./crc32"),u=t("./messages"),l=0,c=4,h=0,f=-2,d=-1,p=4,g=2,m=8,_=9,y=286,v=30,b=19,A=2*y+1,w=15,S=3,x=258,C=x+S+1,k=42,I=113,P=1,B=2,M=3,E=4;function T(t,e){return t.msg=u[e],e}function D(t){return(t<<1)-(4<t?9:0)}function R(t){for(var e=t.length;0<=--e;)t[e]=0}function V(t){var e=t.state,r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(n.arraySet(t.output,e.pending_buf,e.pending_out,r,t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))}function F(t,e){a._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,V(t.strm)}function L(t,e){t.pending_buf[t.pending++]=e}function O(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function N(t,e){var r,i,n=t.max_chain_length,a=t.strstart,o=t.prev_length,s=t.nice_match,u=t.strstart>t.w_size-C?t.strstart-(t.w_size-C):0,l=t.window,c=t.w_mask,h=t.prev,f=t.strstart+x,d=l[a+o-1],p=l[a+o];t.prev_length>=t.good_match&&(n>>=2),s>t.lookahead&&(s=t.lookahead);do{if(l[(r=e)+o]===p&&l[r+o-1]===d&&l[r]===l[a]&&l[++r]===l[a+1]){a+=2,r++;do{}while(l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&a<f);if(i=x-(f-a),a=f-x,o<i){if(t.match_start=e,s<=(o=i))break;d=l[a+o-1],p=l[a+o]}}}while((e=h[e&c])>u&&0!=--n);return o<=t.lookahead?o:t.lookahead}function z(t){var e,r,i,a,u,l,c,h,f,d,p=t.w_size;do{if(a=t.window_size-t.lookahead-t.strstart,t.strstart>=p+(p-C)){for(n.arraySet(t.window,t.window,p,p,0),t.match_start-=p,t.strstart-=p,t.block_start-=p,e=r=t.hash_size;i=t.head[--e],t.head[e]=p<=i?i-p:0,--r;);for(e=r=p;i=t.prev[--e],t.prev[e]=p<=i?i-p:0,--r;);a+=p}if(0===t.strm.avail_in)break;if(l=t.strm,c=t.window,h=t.strstart+t.lookahead,d=void 0,(f=a)<(d=l.avail_in)&&(d=f),r=0===d?0:(l.avail_in-=d,n.arraySet(c,l.input,l.next_in,d,h),1===l.state.wrap?l.adler=o(l.adler,c,d,h):2===l.state.wrap&&(l.adler=s(l.adler,c,d,h)),l.next_in+=d,l.total_in+=d,d),t.lookahead+=r,t.lookahead+t.insert>=S)for(u=t.strstart-t.insert,t.ins_h=t.window[u],t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+S-1])&t.hash_mask,t.prev[u&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=u,u++,t.insert--,!(t.lookahead+t.insert<S)););}while(t.lookahead<C&&0!==t.strm.avail_in)}function U(t,e){for(var r,i;;){if(t.lookahead<C){if(z(t),t.lookahead<C&&e===l)return P;if(0===t.lookahead)break}if(r=0,t.lookahead>=S&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+S-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-C&&(t.match_length=N(t,r)),t.match_length>=S)if(i=a._tr_tally(t,t.strstart-t.match_start,t.match_length-S),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=S){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+S-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,0!=--t.match_length;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(F(t,!1),0===t.strm.avail_out))return P}return t.insert=t.strstart<S-1?t.strstart:S-1,e===c?(F(t,!0),0===t.strm.avail_out?M:E):t.last_lit&&(F(t,!1),0===t.strm.avail_out)?P:B}function j(t,e){for(var r,i,n;;){if(t.lookahead<C){if(z(t),t.lookahead<C&&e===l)return P;if(0===t.lookahead)break}if(r=0,t.lookahead>=S&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+S-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=S-1,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-C&&(t.match_length=N(t,r),t.match_length<=5&&(1===t.strategy||t.match_length===S&&4096<t.strstart-t.match_start)&&(t.match_length=S-1)),t.prev_length>=S&&t.match_length<=t.prev_length){for(n=t.strstart+t.lookahead-S,i=a._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-S),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=n&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+S-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!=--t.prev_length;);if(t.match_available=0,t.match_length=S-1,t.strstart++,i&&(F(t,!1),0===t.strm.avail_out))return P}else if(t.match_available){if((i=a._tr_tally(t,0,t.window[t.strstart-1]))&&F(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return P}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=a._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<S-1?t.strstart:S-1,e===c?(F(t,!0),0===t.strm.avail_out?M:E):t.last_lit&&(F(t,!1),0===t.strm.avail_out)?P:B}function G(t,e,r,i,n){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=i,this.func=n}function Y(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=m,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new n.Buf16(2*A),this.dyn_dtree=new n.Buf16(2*(2*v+1)),this.bl_tree=new n.Buf16(2*(2*b+1)),R(this.dyn_ltree),R(this.dyn_dtree),R(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new n.Buf16(w+1),this.heap=new n.Buf16(2*y+1),R(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new n.Buf16(2*y+1),R(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function X(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=g,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?k:I,t.adler=2===e.wrap?0:1,e.last_flush=l,a._tr_init(e),h):T(t,f)}function H(t){var e=X(t);return e===h&&function(t){t.window_size=2*t.w_size,R(t.head),t.max_lazy_match=i[t.level].max_lazy,t.good_match=i[t.level].good_length,t.nice_match=i[t.level].nice_length,t.max_chain_length=i[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=S-1,t.match_available=0,t.ins_h=0}(t.state),e}function W(t,e,r,i,a,o){if(!t)return f;var s=1;if(e===d&&(e=6),i<0?(s=0,i=-i):15<i&&(s=2,i-=16),a<1||_<a||r!==m||i<8||15<i||e<0||9<e||o<0||p<o)return T(t,f);8===i&&(i=9);var u=new Y;return(t.state=u).strm=t,u.wrap=s,u.gzhead=null,u.w_bits=i,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=a+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+S-1)/S),u.window=new n.Buf8(2*u.w_size),u.head=new n.Buf16(u.hash_size),u.prev=new n.Buf16(u.w_size),u.lit_bufsize=1<<a+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new n.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=e,u.strategy=o,u.method=r,H(t)}i=[new G(0,0,0,0,(function(t,e){var r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(z(t),0===t.lookahead&&e===l)return P;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+r;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,F(t,!1),0===t.strm.avail_out))return P;if(t.strstart-t.block_start>=t.w_size-C&&(F(t,!1),0===t.strm.avail_out))return P}return t.insert=0,e===c?(F(t,!0),0===t.strm.avail_out?M:E):(t.strstart>t.block_start&&(F(t,!1),t.strm.avail_out),P)})),new G(4,4,8,4,U),new G(4,5,16,8,U),new G(4,6,32,32,U),new G(4,4,16,16,j),new G(8,16,32,32,j),new G(8,16,128,128,j),new G(8,32,128,256,j),new G(32,128,258,1024,j),new G(32,258,258,4096,j)],r.deflateInit=function(t,e){return W(t,e,m,15,8,0)},r.deflateInit2=W,r.deflateReset=H,r.deflateResetKeep=X,r.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?f:(t.state.gzhead=e,h):f},r.deflate=function(t,e){var r,n,o,u;if(!t||!t.state||5<e||e<0)return t?T(t,f):f;if(n=t.state,!t.output||!t.input&&0!==t.avail_in||666===n.status&&e!==c)return T(t,0===t.avail_out?-5:f);if(n.strm=t,r=n.last_flush,n.last_flush=e,n.status===k)if(2===n.wrap)t.adler=0,L(n,31),L(n,139),L(n,8),n.gzhead?(L(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),L(n,255&n.gzhead.time),L(n,n.gzhead.time>>8&255),L(n,n.gzhead.time>>16&255),L(n,n.gzhead.time>>24&255),L(n,9===n.level?2:2<=n.strategy||n.level<2?4:0),L(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(L(n,255&n.gzhead.extra.length),L(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=s(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69):(L(n,0),L(n,0),L(n,0),L(n,0),L(n,0),L(n,9===n.level?2:2<=n.strategy||n.level<2?4:0),L(n,3),n.status=I);else{var d=m+(n.w_bits-8<<4)<<8;d|=(2<=n.strategy||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(d|=32),d+=31-d%31,n.status=I,O(n,d),0!==n.strstart&&(O(n,t.adler>>>16),O(n,65535&t.adler)),t.adler=1}if(69===n.status)if(n.gzhead.extra){for(o=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>o&&(t.adler=s(t.adler,n.pending_buf,n.pending-o,o)),V(t),o=n.pending,n.pending!==n.pending_buf_size));)L(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>o&&(t.adler=s(t.adler,n.pending_buf,n.pending-o,o)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=73)}else n.status=73;if(73===n.status)if(n.gzhead.name){o=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>o&&(t.adler=s(t.adler,n.pending_buf,n.pending-o,o)),V(t),o=n.pending,n.pending===n.pending_buf_size)){u=1;break}u=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,L(n,u)}while(0!==u);n.gzhead.hcrc&&n.pending>o&&(t.adler=s(t.adler,n.pending_buf,n.pending-o,o)),0===u&&(n.gzindex=0,n.status=91)}else n.status=91;if(91===n.status)if(n.gzhead.comment){o=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>o&&(t.adler=s(t.adler,n.pending_buf,n.pending-o,o)),V(t),o=n.pending,n.pending===n.pending_buf_size)){u=1;break}u=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,L(n,u)}while(0!==u);n.gzhead.hcrc&&n.pending>o&&(t.adler=s(t.adler,n.pending_buf,n.pending-o,o)),0===u&&(n.status=103)}else n.status=103;if(103===n.status&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&V(t),n.pending+2<=n.pending_buf_size&&(L(n,255&t.adler),L(n,t.adler>>8&255),t.adler=0,n.status=I)):n.status=I),0!==n.pending){if(V(t),0===t.avail_out)return n.last_flush=-1,h}else if(0===t.avail_in&&D(e)<=D(r)&&e!==c)return T(t,-5);if(666===n.status&&0!==t.avail_in)return T(t,-5);if(0!==t.avail_in||0!==n.lookahead||e!==l&&666!==n.status){var p=2===n.strategy?function(t,e){for(var r;;){if(0===t.lookahead&&(z(t),0===t.lookahead)){if(e===l)return P;break}if(t.match_length=0,r=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(F(t,!1),0===t.strm.avail_out))return P}return t.insert=0,e===c?(F(t,!0),0===t.strm.avail_out?M:E):t.last_lit&&(F(t,!1),0===t.strm.avail_out)?P:B}(n,e):3===n.strategy?function(t,e){for(var r,i,n,o,s=t.window;;){if(t.lookahead<=x){if(z(t),t.lookahead<=x&&e===l)return P;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=S&&0<t.strstart&&(i=s[n=t.strstart-1])===s[++n]&&i===s[++n]&&i===s[++n]){o=t.strstart+x;do{}while(i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&n<o);t.match_length=x-(o-n),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=S?(r=a._tr_tally(t,1,t.match_length-S),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(F(t,!1),0===t.strm.avail_out))return P}return t.insert=0,e===c?(F(t,!0),0===t.strm.avail_out?M:E):t.last_lit&&(F(t,!1),0===t.strm.avail_out)?P:B}(n,e):i[n.level].func(n,e);if(p!==M&&p!==E||(n.status=666),p===P||p===M)return 0===t.avail_out&&(n.last_flush=-1),h;if(p===B&&(1===e?a._tr_align(n):5!==e&&(a._tr_stored_block(n,0,0,!1),3===e&&(R(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),V(t),0===t.avail_out))return n.last_flush=-1,h}return e!==c?h:n.wrap<=0?1:(2===n.wrap?(L(n,255&t.adler),L(n,t.adler>>8&255),L(n,t.adler>>16&255),L(n,t.adler>>24&255),L(n,255&t.total_in),L(n,t.total_in>>8&255),L(n,t.total_in>>16&255),L(n,t.total_in>>24&255)):(O(n,t.adler>>>16),O(n,65535&t.adler)),V(t),0<n.wrap&&(n.wrap=-n.wrap),0!==n.pending?h:1)},r.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==k&&69!==e&&73!==e&&91!==e&&103!==e&&e!==I&&666!==e?T(t,f):(t.state=null,e===I?T(t,-3):h):f},r.deflateSetDictionary=function(t,e){var r,i,a,s,u,l,c,d,p=e.length;if(!t||!t.state)return f;if(2===(s=(r=t.state).wrap)||1===s&&r.status!==k||r.lookahead)return f;for(1===s&&(t.adler=o(t.adler,e,p,0)),r.wrap=0,p>=r.w_size&&(0===s&&(R(r.head),r.strstart=0,r.block_start=0,r.insert=0),d=new n.Buf8(r.w_size),n.arraySet(d,e,p-r.w_size,r.w_size,0),e=d,p=r.w_size),u=t.avail_in,l=t.next_in,c=t.input,t.avail_in=p,t.next_in=0,t.input=e,z(r);r.lookahead>=S;){for(i=r.strstart,a=r.lookahead-(S-1);r.ins_h=(r.ins_h<<r.hash_shift^r.window[i+S-1])&r.hash_mask,r.prev[i&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=i,i++,--a;);r.strstart=i,r.lookahead=S-1,z(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=S-1,r.match_available=0,t.next_in=l,t.input=c,t.avail_in=u,r.wrap=s,h},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,e,r){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,e,r){"use strict";e.exports=function(t,e){var r,i,n,a,o,s,u,l,c,h,f,d,p,g,m,_,y,v,b,A,w,S,x,C,k;r=t.state,i=t.next_in,C=t.input,n=i+(t.avail_in-5),a=t.next_out,k=t.output,o=a-(e-t.avail_out),s=a+(t.avail_out-257),u=r.dmax,l=r.wsize,c=r.whave,h=r.wnext,f=r.window,d=r.hold,p=r.bits,g=r.lencode,m=r.distcode,_=(1<<r.lenbits)-1,y=(1<<r.distbits)-1;t:do{p<15&&(d+=C[i++]<<p,p+=8,d+=C[i++]<<p,p+=8),v=g[d&_];e:for(;;){if(d>>>=b=v>>>24,p-=b,0===(b=v>>>16&255))k[a++]=65535&v;else{if(!(16&b)){if(0==(64&b)){v=g[(65535&v)+(d&(1<<b)-1)];continue e}if(32&b){r.mode=12;break t}t.msg="invalid literal/length code",r.mode=30;break t}A=65535&v,(b&=15)&&(p<b&&(d+=C[i++]<<p,p+=8),A+=d&(1<<b)-1,d>>>=b,p-=b),p<15&&(d+=C[i++]<<p,p+=8,d+=C[i++]<<p,p+=8),v=m[d&y];r:for(;;){if(d>>>=b=v>>>24,p-=b,!(16&(b=v>>>16&255))){if(0==(64&b)){v=m[(65535&v)+(d&(1<<b)-1)];continue r}t.msg="invalid distance code",r.mode=30;break t}if(w=65535&v,p<(b&=15)&&(d+=C[i++]<<p,(p+=8)<b&&(d+=C[i++]<<p,p+=8)),u<(w+=d&(1<<b)-1)){t.msg="invalid distance too far back",r.mode=30;break t}if(d>>>=b,p-=b,(b=a-o)<w){if(c<(b=w-b)&&r.sane){t.msg="invalid distance too far back",r.mode=30;break t}if(x=f,(S=0)===h){if(S+=l-b,b<A){for(A-=b;k[a++]=f[S++],--b;);S=a-w,x=k}}else if(h<b){if(S+=l+h-b,(b-=h)<A){for(A-=b;k[a++]=f[S++],--b;);if(S=0,h<A){for(A-=b=h;k[a++]=f[S++],--b;);S=a-w,x=k}}}else if(S+=h-b,b<A){for(A-=b;k[a++]=f[S++],--b;);S=a-w,x=k}for(;2<A;)k[a++]=x[S++],k[a++]=x[S++],k[a++]=x[S++],A-=3;A&&(k[a++]=x[S++],1<A&&(k[a++]=x[S++]))}else{for(S=a-w;k[a++]=k[S++],k[a++]=k[S++],k[a++]=k[S++],2<(A-=3););A&&(k[a++]=k[S++],1<A&&(k[a++]=k[S++]))}break}}break}}while(i<n&&a<s);i-=A=p>>3,d&=(1<<(p-=A<<3))-1,t.next_in=i,t.next_out=a,t.avail_in=i<n?n-i+5:5-(i-n),t.avail_out=a<s?s-a+257:257-(a-s),r.hold=d,r.bits=p}},{}],49:[function(t,e,r){"use strict";var i=t("../utils/common"),n=t("./adler32"),a=t("./crc32"),o=t("./inffast"),s=t("./inftrees"),u=1,l=2,c=0,h=-2,f=1,d=852,p=592;function g(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function m(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function _(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=f,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new i.Buf32(d),e.distcode=e.distdyn=new i.Buf32(p),e.sane=1,e.back=-1,c):h}function y(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,_(t)):h}function v(t,e){var r,i;return t&&t.state?(i=t.state,e<0?(r=0,e=-e):(r=1+(e>>4),e<48&&(e&=15)),e&&(e<8||15<e)?h:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=r,i.wbits=e,y(t))):h}function b(t,e){var r,i;return t?(i=new m,(t.state=i).window=null,(r=v(t,e))!==c&&(t.state=null),r):h}var A,w,S=!0;function x(t){if(S){var e;for(A=new i.Buf32(512),w=new i.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(s(u,t.lens,0,288,A,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;s(l,t.lens,0,32,w,0,t.work,{bits:5}),S=!1}t.lencode=A,t.lenbits=9,t.distcode=w,t.distbits=5}function C(t,e,r,n){var a,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new i.Buf8(o.wsize)),n>=o.wsize?(i.arraySet(o.window,e,r-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(n<(a=o.wsize-o.wnext)&&(a=n),i.arraySet(o.window,e,r-n,a,o.wnext),(n-=a)?(i.arraySet(o.window,e,r-n,n,0),o.wnext=n,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0}r.inflateReset=y,r.inflateReset2=v,r.inflateResetKeep=_,r.inflateInit=function(t){return b(t,15)},r.inflateInit2=b,r.inflate=function(t,e){var r,d,p,m,_,y,v,b,A,w,S,k,I,P,B,M,E,T,D,R,V,F,L,O,N=0,z=new i.Buf8(4),U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return h;12===(r=t.state).mode&&(r.mode=13),_=t.next_out,p=t.output,v=t.avail_out,m=t.next_in,d=t.input,y=t.avail_in,b=r.hold,A=r.bits,w=y,S=v,F=c;t:for(;;)switch(r.mode){case f:if(0===r.wrap){r.mode=13;break}for(;A<16;){if(0===y)break t;y--,b+=d[m++]<<A,A+=8}if(2&r.wrap&&35615===b){z[r.check=0]=255&b,z[1]=b>>>8&255,r.check=a(r.check,z,2,0),A=b=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&b)<<8)+(b>>8))%31){t.msg="incorrect header check",r.mode=30;break}if(8!=(15&b)){t.msg="unknown compression method",r.mode=30;break}if(A-=4,V=8+(15&(b>>>=4)),0===r.wbits)r.wbits=V;else if(V>r.wbits){t.msg="invalid window size",r.mode=30;break}r.dmax=1<<V,t.adler=r.check=1,r.mode=512&b?10:12,A=b=0;break;case 2:for(;A<16;){if(0===y)break t;y--,b+=d[m++]<<A,A+=8}if(r.flags=b,8!=(255&r.flags)){t.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=b>>8&1),512&r.flags&&(z[0]=255&b,z[1]=b>>>8&255,r.check=a(r.check,z,2,0)),A=b=0,r.mode=3;case 3:for(;A<32;){if(0===y)break t;y--,b+=d[m++]<<A,A+=8}r.head&&(r.head.time=b),512&r.flags&&(z[0]=255&b,z[1]=b>>>8&255,z[2]=b>>>16&255,z[3]=b>>>24&255,r.check=a(r.check,z,4,0)),A=b=0,r.mode=4;case 4:for(;A<16;){if(0===y)break t;y--,b+=d[m++]<<A,A+=8}r.head&&(r.head.xflags=255&b,r.head.os=b>>8),512&r.flags&&(z[0]=255&b,z[1]=b>>>8&255,r.check=a(r.check,z,2,0)),A=b=0,r.mode=5;case 5:if(1024&r.flags){for(;A<16;){if(0===y)break t;y--,b+=d[m++]<<A,A+=8}r.length=b,r.head&&(r.head.extra_len=b),512&r.flags&&(z[0]=255&b,z[1]=b>>>8&255,r.check=a(r.check,z,2,0)),A=b=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(y<(k=r.length)&&(k=y),k&&(r.head&&(V=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),i.arraySet(r.head.extra,d,m,k,V)),512&r.flags&&(r.check=a(r.check,d,k,m)),y-=k,m+=k,r.length-=k),r.length))break t;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===y)break t;for(k=0;V=d[m+k++],r.head&&V&&r.length<65536&&(r.head.name+=String.fromCharCode(V)),V&&k<y;);if(512&r.flags&&(r.check=a(r.check,d,k,m)),y-=k,m+=k,V)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===y)break t;for(k=0;V=d[m+k++],r.head&&V&&r.length<65536&&(r.head.comment+=String.fromCharCode(V)),V&&k<y;);if(512&r.flags&&(r.check=a(r.check,d,k,m)),y-=k,m+=k,V)break t}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;A<16;){if(0===y)break t;y--,b+=d[m++]<<A,A+=8}if(b!==(65535&r.check)){t.msg="header crc mismatch",r.mode=30;break}A=b=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=12;break;case 10:for(;A<32;){if(0===y)break t;y--,b+=d[m++]<<A,A+=8}t.adler=r.check=g(b),A=b=0,r.mode=11;case 11:if(0===r.havedict)return t.next_out=_,t.avail_out=v,t.next_in=m,t.avail_in=y,r.hold=b,r.bits=A,2;t.adler=r.check=1,r.mode=12;case 12:if(5===e||6===e)break t;case 13:if(r.last){b>>>=7&A,A-=7&A,r.mode=27;break}for(;A<3;){if(0===y)break t;y--,b+=d[m++]<<A,A+=8}switch(r.last=1&b,A-=1,3&(b>>>=1)){case 0:r.mode=14;break;case 1:if(x(r),r.mode=20,6!==e)break;b>>>=2,A-=2;break t;case 2:r.mode=17;break;case 3:t.msg="invalid block type",r.mode=30}b>>>=2,A-=2;break;case 14:for(b>>>=7&A,A-=7&A;A<32;){if(0===y)break t;y--,b+=d[m++]<<A,A+=8}if((65535&b)!=(b>>>16^65535)){t.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&b,A=b=0,r.mode=15,6===e)break t;case 15:r.mode=16;case 16:if(k=r.length){if(y<k&&(k=y),v<k&&(k=v),0===k)break t;i.arraySet(p,d,m,k,_),y-=k,m+=k,v-=k,_+=k,r.length-=k;break}r.mode=12;break;case 17:for(;A<14;){if(0===y)break t;y--,b+=d[m++]<<A,A+=8}if(r.nlen=257+(31&b),b>>>=5,A-=5,r.ndist=1+(31&b),b>>>=5,A-=5,r.ncode=4+(15&b),b>>>=4,A-=4,286<r.nlen||30<r.ndist){t.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;A<3;){if(0===y)break t;y--,b+=d[m++]<<A,A+=8}r.lens[U[r.have++]]=7&b,b>>>=3,A-=3}for(;r.have<19;)r.lens[U[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,L={bits:r.lenbits},F=s(0,r.lens,0,19,r.lencode,0,r.work,L),r.lenbits=L.bits,F){t.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;M=(N=r.lencode[b&(1<<r.lenbits)-1])>>>16&255,E=65535&N,!((B=N>>>24)<=A);){if(0===y)break t;y--,b+=d[m++]<<A,A+=8}if(E<16)b>>>=B,A-=B,r.lens[r.have++]=E;else{if(16===E){for(O=B+2;A<O;){if(0===y)break t;y--,b+=d[m++]<<A,A+=8}if(b>>>=B,A-=B,0===r.have){t.msg="invalid bit length repeat",r.mode=30;break}V=r.lens[r.have-1],k=3+(3&b),b>>>=2,A-=2}else if(17===E){for(O=B+3;A<O;){if(0===y)break t;y--,b+=d[m++]<<A,A+=8}A-=B,V=0,k=3+(7&(b>>>=B)),b>>>=3,A-=3}else{for(O=B+7;A<O;){if(0===y)break t;y--,b+=d[m++]<<A,A+=8}A-=B,V=0,k=11+(127&(b>>>=B)),b>>>=7,A-=7}if(r.have+k>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=30;break}for(;k--;)r.lens[r.have++]=V}}if(30===r.mode)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,L={bits:r.lenbits},F=s(u,r.lens,0,r.nlen,r.lencode,0,r.work,L),r.lenbits=L.bits,F){t.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,L={bits:r.distbits},F=s(l,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,L),r.distbits=L.bits,F){t.msg="invalid distances set",r.mode=30;break}if(r.mode=20,6===e)break t;case 20:r.mode=21;case 21:if(6<=y&&258<=v){t.next_out=_,t.avail_out=v,t.next_in=m,t.avail_in=y,r.hold=b,r.bits=A,o(t,S),_=t.next_out,p=t.output,v=t.avail_out,m=t.next_in,d=t.input,y=t.avail_in,b=r.hold,A=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;M=(N=r.lencode[b&(1<<r.lenbits)-1])>>>16&255,E=65535&N,!((B=N>>>24)<=A);){if(0===y)break t;y--,b+=d[m++]<<A,A+=8}if(M&&0==(240&M)){for(T=B,D=M,R=E;M=(N=r.lencode[R+((b&(1<<T+D)-1)>>T)])>>>16&255,E=65535&N,!(T+(B=N>>>24)<=A);){if(0===y)break t;y--,b+=d[m++]<<A,A+=8}b>>>=T,A-=T,r.back+=T}if(b>>>=B,A-=B,r.back+=B,r.length=E,0===M){r.mode=26;break}if(32&M){r.back=-1,r.mode=12;break}if(64&M){t.msg="invalid literal/length code",r.mode=30;break}r.extra=15&M,r.mode=22;case 22:if(r.extra){for(O=r.extra;A<O;){if(0===y)break t;y--,b+=d[m++]<<A,A+=8}r.length+=b&(1<<r.extra)-1,b>>>=r.extra,A-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;M=(N=r.distcode[b&(1<<r.distbits)-1])>>>16&255,E=65535&N,!((B=N>>>24)<=A);){if(0===y)break t;y--,b+=d[m++]<<A,A+=8}if(0==(240&M)){for(T=B,D=M,R=E;M=(N=r.distcode[R+((b&(1<<T+D)-1)>>T)])>>>16&255,E=65535&N,!(T+(B=N>>>24)<=A);){if(0===y)break t;y--,b+=d[m++]<<A,A+=8}b>>>=T,A-=T,r.back+=T}if(b>>>=B,A-=B,r.back+=B,64&M){t.msg="invalid distance code",r.mode=30;break}r.offset=E,r.extra=15&M,r.mode=24;case 24:if(r.extra){for(O=r.extra;A<O;){if(0===y)break t;y--,b+=d[m++]<<A,A+=8}r.offset+=b&(1<<r.extra)-1,b>>>=r.extra,A-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(0===v)break t;if(k=S-v,r.offset>k){if((k=r.offset-k)>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=30;break}I=k>r.wnext?(k-=r.wnext,r.wsize-k):r.wnext-k,k>r.length&&(k=r.length),P=r.window}else P=p,I=_-r.offset,k=r.length;for(v<k&&(k=v),v-=k,r.length-=k;p[_++]=P[I++],--k;);0===r.length&&(r.mode=21);break;case 26:if(0===v)break t;p[_++]=r.length,v--,r.mode=21;break;case 27:if(r.wrap){for(;A<32;){if(0===y)break t;y--,b|=d[m++]<<A,A+=8}if(S-=v,t.total_out+=S,r.total+=S,S&&(t.adler=r.check=r.flags?a(r.check,p,S,_-S):n(r.check,p,S,_-S)),S=v,(r.flags?b:g(b))!==r.check){t.msg="incorrect data check",r.mode=30;break}A=b=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;A<32;){if(0===y)break t;y--,b+=d[m++]<<A,A+=8}if(b!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=30;break}A=b=0}r.mode=29;case 29:F=1;break t;case 30:F=-3;break t;case 31:return-4;case 32:default:return h}return t.next_out=_,t.avail_out=v,t.next_in=m,t.avail_in=y,r.hold=b,r.bits=A,(r.wsize||S!==t.avail_out&&r.mode<30&&(r.mode<27||4!==e))&&C(t,t.output,t.next_out,S-t.avail_out)?(r.mode=31,-4):(w-=t.avail_in,S-=t.avail_out,t.total_in+=w,t.total_out+=S,r.total+=S,r.wrap&&S&&(t.adler=r.check=r.flags?a(r.check,p,S,t.next_out-S):n(r.check,p,S,t.next_out-S)),t.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0==w&&0===S||4===e)&&F===c&&(F=-5),F)},r.inflateEnd=function(t){if(!t||!t.state)return h;var e=t.state;return e.window&&(e.window=null),t.state=null,c},r.inflateGetHeader=function(t,e){var r;return t&&t.state?0==(2&(r=t.state).wrap)?h:((r.head=e).done=!1,c):h},r.inflateSetDictionary=function(t,e){var r,i=e.length;return t&&t.state?0!==(r=t.state).wrap&&11!==r.mode?h:11===r.mode&&n(1,e,i,0)!==r.check?-3:C(t,e,i,i)?(r.mode=31,-4):(r.havedict=1,c):h},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,e,r){"use strict";var i=t("../utils/common"),n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,r,u,l,c,h,f){var d,p,g,m,_,y,v,b,A,w=f.bits,S=0,x=0,C=0,k=0,I=0,P=0,B=0,M=0,E=0,T=0,D=null,R=0,V=new i.Buf16(16),F=new i.Buf16(16),L=null,O=0;for(S=0;S<=15;S++)V[S]=0;for(x=0;x<u;x++)V[e[r+x]]++;for(I=w,k=15;1<=k&&0===V[k];k--);if(k<I&&(I=k),0===k)return l[c++]=20971520,l[c++]=20971520,f.bits=1,0;for(C=1;C<k&&0===V[C];C++);for(I<C&&(I=C),S=M=1;S<=15;S++)if(M<<=1,(M-=V[S])<0)return-1;if(0<M&&(0===t||1!==k))return-1;for(F[1]=0,S=1;S<15;S++)F[S+1]=F[S]+V[S];for(x=0;x<u;x++)0!==e[r+x]&&(h[F[e[r+x]]++]=x);if(y=0===t?(D=L=h,19):1===t?(D=n,R-=257,L=a,O-=257,256):(D=o,L=s,-1),S=C,_=c,B=x=T=0,g=-1,m=(E=1<<(P=I))-1,1===t&&852<E||2===t&&592<E)return 1;for(;;){for(v=S-B,A=h[x]<y?(b=0,h[x]):h[x]>y?(b=L[O+h[x]],D[R+h[x]]):(b=96,0),d=1<<S-B,C=p=1<<P;l[_+(T>>B)+(p-=d)]=v<<24|b<<16|A|0,0!==p;);for(d=1<<S-1;T&d;)d>>=1;if(0!==d?(T&=d-1,T+=d):T=0,x++,0==--V[S]){if(S===k)break;S=e[r+h[x]]}if(I<S&&(T&m)!==g){for(0===B&&(B=I),_+=C,M=1<<(P=S-B);P+B<k&&!((M-=V[P+B])<=0);)P++,M<<=1;if(E+=1<<P,1===t&&852<E||2===t&&592<E)return 1;l[g=T&m]=I<<24|P<<16|_-c|0}}return 0!==T&&(l[_+T]=S-B<<24|64<<16|0),f.bits=I,0}},{"../utils/common":41}],51:[function(t,e,r){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,e,r){"use strict";var i=t("../utils/common"),n=0,a=1;function o(t){for(var e=t.length;0<=--e;)t[e]=0}var s=0,u=29,l=256,c=l+1+u,h=30,f=19,d=2*c+1,p=15,g=16,m=7,_=256,y=16,v=17,b=18,A=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],w=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],S=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],x=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],C=new Array(2*(c+2));o(C);var k=new Array(2*h);o(k);var I=new Array(512);o(I);var P=new Array(256);o(P);var B=new Array(u);o(B);var M,E,T,D=new Array(h);function R(t,e,r,i,n){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=i,this.max_length=n,this.has_stree=t&&t.length}function V(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function F(t){return t<256?I[t]:I[256+(t>>>7)]}function L(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function O(t,e,r){t.bi_valid>g-r?(t.bi_buf|=e<<t.bi_valid&65535,L(t,t.bi_buf),t.bi_buf=e>>g-t.bi_valid,t.bi_valid+=r-g):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)}function N(t,e,r){O(t,r[2*e],r[2*e+1])}function z(t,e){for(var r=0;r|=1&t,t>>>=1,r<<=1,0<--e;);return r>>>1}function U(t,e,r){var i,n,a=new Array(p+1),o=0;for(i=1;i<=p;i++)a[i]=o=o+r[i-1]<<1;for(n=0;n<=e;n++){var s=t[2*n+1];0!==s&&(t[2*n]=z(a[s]++,s))}}function j(t){var e;for(e=0;e<c;e++)t.dyn_ltree[2*e]=0;for(e=0;e<h;e++)t.dyn_dtree[2*e]=0;for(e=0;e<f;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*_]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function G(t){8<t.bi_valid?L(t,t.bi_buf):0<t.bi_valid&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function Y(t,e,r,i){var n=2*e,a=2*r;return t[n]<t[a]||t[n]===t[a]&&i[e]<=i[r]}function X(t,e,r){for(var i=t.heap[r],n=r<<1;n<=t.heap_len&&(n<t.heap_len&&Y(e,t.heap[n+1],t.heap[n],t.depth)&&n++,!Y(e,i,t.heap[n],t.depth));)t.heap[r]=t.heap[n],r=n,n<<=1;t.heap[r]=i}function H(t,e,r){var i,n,a,o,s=0;if(0!==t.last_lit)for(;i=t.pending_buf[t.d_buf+2*s]<<8|t.pending_buf[t.d_buf+2*s+1],n=t.pending_buf[t.l_buf+s],s++,0===i?N(t,n,e):(N(t,(a=P[n])+l+1,e),0!==(o=A[a])&&O(t,n-=B[a],o),N(t,a=F(--i),r),0!==(o=w[a])&&O(t,i-=D[a],o)),s<t.last_lit;);N(t,_,e)}function W(t,e){var r,i,n,a=e.dyn_tree,o=e.stat_desc.static_tree,s=e.stat_desc.has_stree,u=e.stat_desc.elems,l=-1;for(t.heap_len=0,t.heap_max=d,r=0;r<u;r++)0!==a[2*r]?(t.heap[++t.heap_len]=l=r,t.depth[r]=0):a[2*r+1]=0;for(;t.heap_len<2;)a[2*(n=t.heap[++t.heap_len]=l<2?++l:0)]=1,t.depth[n]=0,t.opt_len--,s&&(t.static_len-=o[2*n+1]);for(e.max_code=l,r=t.heap_len>>1;1<=r;r--)X(t,a,r);for(n=u;r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],X(t,a,1),i=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=i,a[2*n]=a[2*r]+a[2*i],t.depth[n]=(t.depth[r]>=t.depth[i]?t.depth[r]:t.depth[i])+1,a[2*r+1]=a[2*i+1]=n,t.heap[1]=n++,X(t,a,1),2<=t.heap_len;);t.heap[--t.heap_max]=t.heap[1],function(t,e){var r,i,n,a,o,s,u=e.dyn_tree,l=e.max_code,c=e.stat_desc.static_tree,h=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,g=e.stat_desc.extra_base,m=e.stat_desc.max_length,_=0;for(a=0;a<=p;a++)t.bl_count[a]=0;for(u[2*t.heap[t.heap_max]+1]=0,r=t.heap_max+1;r<d;r++)m<(a=u[2*u[2*(i=t.heap[r])+1]+1]+1)&&(a=m,_++),u[2*i+1]=a,l<i||(t.bl_count[a]++,o=0,g<=i&&(o=f[i-g]),s=u[2*i],t.opt_len+=s*(a+o),h&&(t.static_len+=s*(c[2*i+1]+o)));if(0!==_){do{for(a=m-1;0===t.bl_count[a];)a--;t.bl_count[a]--,t.bl_count[a+1]+=2,t.bl_count[m]--,_-=2}while(0<_);for(a=m;0!==a;a--)for(i=t.bl_count[a];0!==i;)l<(n=t.heap[--r])||(u[2*n+1]!==a&&(t.opt_len+=(a-u[2*n+1])*u[2*n],u[2*n+1]=a),i--)}}(t,e),U(a,l,t.bl_count)}function Z(t,e,r){var i,n,a=-1,o=e[1],s=0,u=7,l=4;for(0===o&&(u=138,l=3),e[2*(r+1)+1]=65535,i=0;i<=r;i++)n=o,o=e[2*(i+1)+1],++s<u&&n===o||(s<l?t.bl_tree[2*n]+=s:0!==n?(n!==a&&t.bl_tree[2*n]++,t.bl_tree[2*y]++):s<=10?t.bl_tree[2*v]++:t.bl_tree[2*b]++,a=n,l=(s=0)===o?(u=138,3):n===o?(u=6,3):(u=7,4))}function q(t,e,r){var i,n,a=-1,o=e[1],s=0,u=7,l=4;for(0===o&&(u=138,l=3),i=0;i<=r;i++)if(n=o,o=e[2*(i+1)+1],!(++s<u&&n===o)){if(s<l)for(;N(t,n,t.bl_tree),0!=--s;);else 0!==n?(n!==a&&(N(t,n,t.bl_tree),s--),N(t,y,t.bl_tree),O(t,s-3,2)):s<=10?(N(t,v,t.bl_tree),O(t,s-3,3)):(N(t,b,t.bl_tree),O(t,s-11,7));a=n,l=(s=0)===o?(u=138,3):n===o?(u=6,3):(u=7,4)}}o(D);var Q=!1;function J(t,e,r,n){O(t,(s<<1)+(n?1:0),3),function(t,e,r,n){G(t),n&&(L(t,r),L(t,~r)),i.arraySet(t.pending_buf,t.window,e,r,t.pending),t.pending+=r}(t,e,r,!0)}r._tr_init=function(t){Q||(function(){var t,e,r,i,n,a=new Array(p+1);for(i=r=0;i<u-1;i++)for(B[i]=r,t=0;t<1<<A[i];t++)P[r++]=i;for(P[r-1]=i,i=n=0;i<16;i++)for(D[i]=n,t=0;t<1<<w[i];t++)I[n++]=i;for(n>>=7;i<h;i++)for(D[i]=n<<7,t=0;t<1<<w[i]-7;t++)I[256+n++]=i;for(e=0;e<=p;e++)a[e]=0;for(t=0;t<=143;)C[2*t+1]=8,t++,a[8]++;for(;t<=255;)C[2*t+1]=9,t++,a[9]++;for(;t<=279;)C[2*t+1]=7,t++,a[7]++;for(;t<=287;)C[2*t+1]=8,t++,a[8]++;for(U(C,c+1,a),t=0;t<h;t++)k[2*t+1]=5,k[2*t]=z(t,5);M=new R(C,A,l+1,c,p),E=new R(k,w,0,h,p),T=new R(new Array(0),S,0,f,m)}(),Q=!0),t.l_desc=new V(t.dyn_ltree,M),t.d_desc=new V(t.dyn_dtree,E),t.bl_desc=new V(t.bl_tree,T),t.bi_buf=0,t.bi_valid=0,j(t)},r._tr_stored_block=J,r._tr_flush_block=function(t,e,r,i){var o,s,u=0;0<t.level?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return n;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return a;for(e=32;e<l;e++)if(0!==t.dyn_ltree[2*e])return a;return n}(t)),W(t,t.l_desc),W(t,t.d_desc),u=function(t){var e;for(Z(t,t.dyn_ltree,t.l_desc.max_code),Z(t,t.dyn_dtree,t.d_desc.max_code),W(t,t.bl_desc),e=f-1;3<=e&&0===t.bl_tree[2*x[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),o=t.opt_len+3+7>>>3,(s=t.static_len+3+7>>>3)<=o&&(o=s)):o=s=r+5,r+4<=o&&-1!==e?J(t,e,r,i):4===t.strategy||s===o?(O(t,2+(i?1:0),3),H(t,C,k)):(O(t,4+(i?1:0),3),function(t,e,r,i){var n;for(O(t,e-257,5),O(t,r-1,5),O(t,i-4,4),n=0;n<i;n++)O(t,t.bl_tree[2*x[n]+1],3);q(t,t.dyn_ltree,e-1),q(t,t.dyn_dtree,r-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,u+1),H(t,t.dyn_ltree,t.dyn_dtree)),j(t),i&&G(t)},r._tr_tally=function(t,e,r){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(P[r]+l+1)]++,t.dyn_dtree[2*F(e)]++),t.last_lit===t.lit_bufsize-1},r._tr_align=function(t){O(t,2,3),N(t,_,C),function(t){16===t.bi_valid?(L(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):8<=t.bi_valid&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},{"../utils/common":41}],53:[function(t,e,r){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,e,r){"use strict";e.exports="function"==typeof i?i:function(){var t=[].slice.apply(arguments);t.splice(1,0,0),setTimeout.apply(null,t)}},{}]},{},[10])(10)}).call(this,r(601).Buffer,r(107),r(462).setImmediate)},929:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},n=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],a=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],o=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],s="undefined"!==typeof window&&"undefined"!==typeof window.document?window.document:{},u="fullscreenEnabled"in s&&Object.keys(i)||n[0]in s&&n||a[0]in s&&a||o[0]in s&&o||[];e.default={requestFullscreen:function(t){return t[u[i.requestFullscreen]]()},requestFullscreenFunction:function(t){return t[u[i.requestFullscreen]]},get exitFullscreen(){return s[u[i.exitFullscreen]].bind(s)},get fullscreenPseudoClass(){return":"+u[i.fullscreen]},addEventListener:function(t,e,r){return s.addEventListener(u[i[t]],e,r)},removeEventListener:function(t,e,r){return s.removeEventListener(u[i[t]],e,r)},get fullscreenEnabled(){return Boolean(s[u[i.fullscreenEnabled]])},set fullscreenEnabled(t){},get fullscreenElement(){return s[u[i.fullscreenElement]]},set fullscreenElement(t){},get onfullscreenchange(){return s[("on"+u[i.fullscreenchange]).toLowerCase()]},set onfullscreenchange(t){return s[("on"+u[i.fullscreenchange]).toLowerCase()]=t},get onfullscreenerror(){return s[("on"+u[i.fullscreenerror]).toLowerCase()]},set onfullscreenerror(t){return s[("on"+u[i.fullscreenerror]).toLowerCase()]=t}}},930:function(t,e,r){"use strict";r.d(e,"a",(function(){return f}));var i,n,a=r(30),o=r(23),s=function(){function t(){Object(a.a)(this,t),this._events={}}return Object(o.a)(t,[{key:"_on",value:function(t,e,r){if(!t||!e)return this;for(var i=this._events[t]=this._events[t]||[],n=0;n<i.length;n++)if(i[n].func===e)return this;return i.push({func:e,once:r}),this}},{key:"on",value:function(t,e){return this._on(t,e,!1)}},{key:"once",value:function(t,e){return this._on(t,e,!0)}},{key:"off",value:function(t,e){if(!t||!e)return this;for(var r=this._events[t]||[],i=0;i<r.length;i++)if(r[i].func===e)return r.splice(i,1),this;return this}},{key:"emit",value:function(t){if(!t)return this;for(var e=this._events[t]||[],r=[],i=e.length-1;i>=0;i--){var n=e[i];n.once&&e.splice(i,1),r.push(n)}for(var a=arguments.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];for(var u=r.length-1;u>=0;u--)r[u].func.apply(this,o);return this}},{key:"cemit",value:function(t,e){if(!t||null==e)return this;for(var r=this._events[t]||[],i=[],n=r.length-1;n>=0;n--){var a=r[n];a.once&&r.splice(n,1),i.push(a)}for(var o=arguments.length,s=new Array(o>2?o-2:0),u=2;u<o;u++)s[u-2]=arguments[u];for(var l=i.length-1;l>=0;l--)i[l].func.apply(e,s);return this}},{key:"clear",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t?delete this._events[t]:this._events={},this}},{key:"eventNames",get:function(){return Object.keys(this._events)}}]),t}(),u={channelCount:2},l=function(){function t(e){Object(a.a)(this,t),this._blobURL=window.URL.createObjectURL(e)}return Object(o.a)(t,[{key:"createVideoElement",value:function(){if(!this._blobURL)throw new Error("[CanvasRecorder] This movie instance was destroyed.");var t=document.createElement("video");return t.src=this._blobURL,t.setAttribute("controls",""),t}},{key:"download",value:function(t){if(!this._blobURL)throw new Error("[CanvasRecorder] This movie instance was destroyed.");var e=document.createElement("a");e.download=t?"".concat(t,".webm"):"".concat(location.hostname,"_").concat((new Date).toLocaleString().replace(/[\/\s\:]/g,"-"),".webm"),e.href=this._blobURL,e.click()}},{key:"destroy",value:function(){window.URL.revokeObjectURL(this._blobURL),this._blobURL=null}},{key:"blobURL",get:function(){if(!this._blobURL)throw new Error("[CanvasRecorder] This movie instance was destroyed.");return this._blobURL}}]),t}(),c=Symbol(),h=Symbol(),f=function(){function t(e){var r=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(a.a)(this,t),this._buildPromise=null,this._buildEmitter=new s,this._movie=null,this[i]=null,this[n]=null;var u=[];this._recorder=new MediaRecorder(e,o),this._recorder.addEventListener("dataavailable",(function(t){u.push(t.data)})),this._recorder.addEventListener("stop",(function(t){r._buildEmitter.emit("finish",u),u=[]}))}return Object(o.a)(t,[{key:"start",value:function(t){var e=this;"inactive"===this._recorder.state&&(this.clearMovie(),this._buildPromise=new Promise((function(t){e._buildEmitter.once("finish",(function(r){var i=new Blob(r,{type:r[0].type});e._movie=new l(i),t(e._movie)}))})),this._recorder.start(t))}},{key:"finishAsync",value:function(){return"recording"!==this._recorder.state||this._recorder.stop(),this._buildPromise}},{key:"pause",value:function(){"recording"===this._recorder.state&&this._recorder.pause()}},{key:"resume",value:function(){"paused"===this._recorder.state&&this._recorder.resume()}},{key:"clearMovie",value:function(){this._movie&&(this._movie.destroy(),this._movie=null)}},{key:"destroy",value:function(){this.clearMovie(),this._recorder.stream.getTracks().forEach((function(t){return t.stop()})),this._releaseDisplayStream(),this._releaseUserStream()}},{key:"_releaseDisplayStream",value:function(){this[c]&&this[c].getTracks().forEach((function(t){return t.stop()}))}},{key:"_releaseUserStream",value:function(){this[h]&&this[h].getTracks().forEach((function(t){return t.stop()}))}},{key:"disabled",value:function(t){this._recorder.stream.getTracks().forEach((function(e){return e.enabled=!t}))}},{key:"hide",value:function(t){this._recorder.stream.getVideoTracks().forEach((function(e){return e.enabled=!t}))}},{key:"mute",value:function(t){this._recorder.stream.getAudioTracks().forEach((function(e){return e.enabled=!t}))}},{key:"addAudioAsync",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{display:!0},r=[];return Promise.resolve().then((function(){if(!e.display)return Promise.resolve();if(!navigator.mediaDevices||!navigator.mediaDevices.getDisplayMedia)return Promise.reject();t._releaseDisplayStream();var i=!0===e.display?u:e.display;return navigator.mediaDevices.getDisplayMedia({audio:i,video:!0}).then((function(e){t[c]=e,e.getVideoTracks().forEach((function(t){return t.stop()})),r.push(e)}))})).catch((function(t){console.error(t),console.warn("[CanvasRecorder] Can not use display media.")})).then((function(){if(!e.user)return Promise.resolve();if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)return Promise.reject();t._releaseUserStream();var i=!0===e.user?u:e.user;return navigator.mediaDevices.getUserMedia({audio:i}).then((function(e){t[h]=e,e.getVideoTracks().forEach((function(t){return t.stop()})),r.push(e)}))})).catch((function(t){console.error(t),console.warn("[CanvasRecorder] Can not use user media.")})).then((function(){if(r.length)if(r.reduce((function(t,e){return t+e.getAudioTracks().length}),0)){if(!AudioContext)return console.warn('[CanvasRecorder] Priority is given to "display media" as multiple audio tracks cannot be used.'),void r.forEach((function(e){return e.getAudioTracks().forEach((function(e){return t._recorder.stream.addTrack(e)}))}));var e=new AudioContext,i=e.createMediaStreamDestination();r.forEach((function(t){return e.createMediaStreamSource(t).connect(i)})),t._recorder.stream.addTrack(i.stream.getAudioTracks()[0])}else console.warn("[CanvasRecorder] No audio stream.");else console.warn("[CanvasRecorder] No audio stream.")}))}}],[{key:"createAsync",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new MediaStream;return e.captureStream().getVideoTracks().forEach((function(t){i.addTrack(t)})),Promise.resolve(new t(i,r))}},{key:"createWithAudioAsync",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{display:!0},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.createAsync(e,i).then((function(t){return t.addAudioAsync(r).then((function(){return t}))}))}}]),t}();i=c,n=h}}]);