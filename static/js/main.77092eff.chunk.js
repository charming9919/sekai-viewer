/*! For license information please see main.77092eff.chunk.js.LICENSE.txt */
(this["webpackJsonpsekai-viewer"]=this["webpackJsonpsekai-viewer"]||[]).push([[11],{108:function(e,t,n){"use strict";n.d(t,"e",(function(){return b})),n.d(t,"d",(function(){return j})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return h}));var a=n(26),r=n(5),c=n.n(r),s=n(9),o=n(43),i=n.n(o),u=n(0),l=n(49);function b(e){var t=Object(u.useMemo)((function(){var t=i.a.create({baseURL:"https://strapi.sekai.best"});return t.interceptors.request.use((function(t){return e&&(t.headers.authorization="Bearer ".concat(e)),t})),t.interceptors.response.use((function(e){return e}),(function(e){throw e.response.data.message?e.id=e.response.data.message[0].messages[0].id:e.id=e.message,e})),t}),[e]);return{postLoginLocal:Object(u.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.post("/auth/local",n);case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]),postRegisterLocal:Object(u.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.post("/auth/local/register",n);case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]),getRedirectConnectLoginUrl:Object(u.useCallback)((function(e){return"".concat(t.getUri({url:"".concat("https://strapi.sekai.best","/connect/").concat(e)}))}),[t]),getConnectCallback:Object(u.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(n,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get("/auth/".concat(n,"/callback").concat(a));case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[t]),getUserMe:Object(u.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get("/users/me",n?{headers:{authorization:"Bearer ".concat(n)}}:{});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]),postUpload:Object(u.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(n,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.post("/upload",n,{headers:Object.assign({"Content-Type":"multipart/form-data"},a?{authorization:"Bearer ".concat(a)}:{})});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[t]),putUserMetadataMe:Object(u.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.put("/user-metadata/me",Object.assign({},n,n.languages?{languages:n.languages.map((function(e){return e.id}))}:{}));case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]),postForgotPassword:Object(u.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.post("/auth/forgot-password",{email:n});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]),postResetPassword:Object(u.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(n,a,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.post("/auth/reset-password",{code:n,password:a,passwordConfirmation:r});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),[t]),getSekaiProfileMe:Object(u.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get("/sekai-profiles/me",n?{headers:{authorization:"Bearer ".concat(n)}}:{});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]),postSekaiProfileVerify:Object(u.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.post("/sekai-profiles/verify",{userid:n});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]),postSekaiProfileConfirm:Object(u.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(n,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.post("/sekai-profiles/".concat(n,"/confirm"),{userid:a});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[t]),putSekaiProfileUpdate:Object(u.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.put("/sekai-profiles/".concat(n,"/update"));case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]),getLanguages:Object(u.useCallback)(Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get("/languages?_sort=id:ASC");case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)}))),[t]),getUserMetadataMe:Object(u.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get("/user-metadata/me",n?{headers:{authorization:"Bearer ".concat(n)}}:{});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]),getSekaiCurrentEvent:Object(u.useCallback)(Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get("/sekai-current-event");case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)}))),[t]),getSekaiProfileEventRecordMe:Object(u.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get("/sekai-profile-event-records/me",{params:n?{eventId:n}:{}});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]),postSekaiProfileEventRecord:Object(u.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.post("/sekai-profile-event-records/record",{eventId:n});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]),putSekaiCardList:Object(u.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(n,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.put("/sekai-profiles/".concat(n,"/cardlist"),a);case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[t]),deleteSekaiCardList:Object(u.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(n,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.delete("/sekai-profiles/".concat(n,"/cardlist"),{params:{cards:a}});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[t]),putSekaiDeckList:Object(u.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(n,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.put("/sekai-profiles/".concat(n,"/decklist"),a);case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[t]),deleteSekaiDeckList:Object(u.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(n,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.delete("/sekai-profiles/".concat(n,"/decklist"),{params:{decks:a}});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[t]),getAnnouncements:Object(u.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get("/announcements?",{params:Object(a.a)({_sort:"isPin:DESC,published_at:DESC"},n||{})});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]),getAnnouncementById:Object(u.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(n,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get("/announcements/".concat(n),{params:a});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[t]),getAnnouncementPage:Object(u.useCallback)(Object(s.a)(c.a.mark((function e(){var n,r,s,o=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>0&&void 0!==o[0]?o[0]:30,r=o.length>1&&void 0!==o[1]?o[1]:0,s=o.length>2?o[2]:void 0,e.next=5,t.get("/announcements",{params:Object(a.a)({_limit:n,_start:r*n,_sort:"isPin:DESC,published_at:DESC"},s||{})});case 5:return e.abrupt("return",e.sent.data);case 6:case"end":return e.stop()}}),e)}))),[t]),getAnnouncementCount:Object(u.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Number,e.next=3,t.get("/announcements/count",{params:n});case 3:return e.t1=e.sent.data,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]),getAnnouncementByLanguagesPage:Object(u.useCallback)(Object(s.a)(c.a.mark((function e(){var n,r,s,o,i=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:30,r=i.length>1&&void 0!==i[1]?i[1]:0,s=i.length>2?i[2]:void 0,o=i.length>3?i[3]:void 0,e.next=6,t.get("/announcements/language",{params:Object(a.a)({_limit:n,_start:r*n,_sort:"isPin:DESC,published_at:DESC",targetLangs:s},o||{})});case 6:return e.abrupt("return",e.sent.data);case 7:case"end":return e.stop()}}),e)}))),[t]),getAnnouncementByLanguagesCount:Object(u.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Number,e.next=3,t.get("/announcements/language/count",{params:{targetLangs:n}});case 3:return e.t1=e.sent.data,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]),getComments:Object(u.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(n,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get("/comments/".concat(n,":").concat(a));case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[t]),postComment:Object(u.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(n,a,r,s,o){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.post("/comments/".concat(n,":").concat(a),{authorUser:r,authorAvatar:s?s.url:null,content:o,related:[{refId:a,ref:n,field:"comments"}]});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c){return e.apply(this,arguments)}}(),[t]),getUserProfile:Object(u.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get("/user-metadata/profile/user/".concat(n));case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]),patchCommentLike:Object(u.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(n,a,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.patch("/comments/".concat(n,":").concat(a,"/comment/").concat(r,"/like"));case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),[t]),postCommentAbuse:Object(u.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(n,a,r,s,o){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.post("/comments/".concat(n,":").concat(a,"/comment/").concat(r,"/report-abuse"),{reason:s,content:o});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c){return e.apply(this,arguments)}}(),[t]),getTranslations:Object(u.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(n,r,s){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get("/translations",{params:Object(a.a)({_limit:r,_start:n*r},s||{})});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),[t]),getTranslationById:Object(u.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get("/translations/".concat(n));case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]),getTranslationBySlug:Object(u.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(n,a,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get("/translations/slug/".concat(a,"/").concat(n),{params:r});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),[t]),postTranslation:Object(u.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(n,a,r,s,o){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.post("/translations",{user:n.id,sourceSlug:a,sourceLang:r,target:s,targetLang:o});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c){return e.apply(this,arguments)}}(),[t]),putTranslationId:Object(u.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(n,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.put("/translations/".concat(n),a);case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[t]),getTranslationCount:Object(u.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get("/translations/count",{params:n});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]),getTranslationBySourceSlug:Object(u.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get("/translations",{params:{sourceSlug:n}});case 2:return e.abrupt("return",e.sent.data[0]);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t])}}var d=function(){var e=Object(s.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get(t,{params:n});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function j(){var e=Object(u.useMemo)((function(){return{_sort:"id:ASC"}}),[]),t=Object(l.a)(["".concat("https://strapi.sekai.best","/languages"),e],d),n=t.data,a=t.error;return{languages:n,isLoading:!a&&!n,error:a}}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,c=Object(u.useMemo)((function(){return Object(a.a)({_limit:t,_start:e*t,_sort:"isPin:DESC,published_at:DESC",targetLangs:n},r||{})}),[n,t,e,r]),s=Object(l.a)(["".concat("https://strapi.sekai.best","/announcements/language"),c],d),o=s.data,i=s.error;return{announcements:o,isLoading:!i&&!o,error:i}}function m(){var e=Object(l.a)("".concat("https://strapi.sekai.best","/sekai-current-event"),d),t=e.data,n=e.error;return{currEvent:t,isLoading:!n&&!t,error:n}}function h(){var e=Object(l.a)("".concat(window.isChinaMainland?"https://minio.dnaroma.eu/sekai-best-assets":"".concat("https://minio.dnaroma.eu","/sekai-best-assets"),"/models.json"),d),t=e.data,n=e.error;return{modelList:t,isLoading:!n&&!t,error:n}}},115:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(99);function r(){return{decodedToken:Object(a.a)(localStorage.getItem("authToken")||"").decodedToken,isExpired:Object(a.a)(localStorage.getItem("authToken")||"").isExpired,set token(e){localStorage.setItem("authToken",e)},get token(){return localStorage.getItem("authToken")||""},set user(e){localStorage.setItem("userData",JSON.stringify(e))},get user(){return JSON.parse(localStorage.getItem("userData")||"null")},set usermeta(e){localStorage.setItem("userMetaDatum",JSON.stringify(e))},get usermeta(){return JSON.parse(localStorage.getItem("userMetaDatum")||"null")}}}},160:function(e,t,n){},185:function(e,t){!function(e,t,n){function a(e,t){return typeof e===t}function r(e){var t=b.className,n=u._config.classPrefix||"";if(d&&(t=t.baseVal),u._config.enableJSClass){var a=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");t=t.replace(a,"$1"+n+"js$2")}u._config.enableClasses&&(t+=" "+n+e.join(" "+n),d?b.className.baseVal=t:b.className=t)}function c(e,t){if("object"==typeof e)for(var n in e)l(e,n)&&c(n,e[n]);else{var a=(e=e.toLowerCase()).split("."),s=u[a[0]];if(2==a.length&&(s=s[a[1]]),"undefined"!=typeof s)return u;t="function"==typeof t?t():t,1==a.length?u[a[0]]=t:(!u[a[0]]||u[a[0]]instanceof Boolean||(u[a[0]]=new Boolean(u[a[0]])),u[a[0]][a[1]]=t),r([(t&&0!=t?"":"no-")+a.join("-")]),u._trigger(e,t)}return u}var s=[],o=[],i={_version:"3.6.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout((function(){t(n[e])}),0)},addTest:function(e,t,n){o.push({name:e,fn:t,options:n})},addAsyncTest:function(e){o.push({name:null,fn:e})}},u=function(){};u.prototype=i,u=new u;var l,b=t.documentElement,d="svg"===b.nodeName.toLowerCase();!function(){var e={}.hasOwnProperty;l=a(e,"undefined")||a(e.call,"undefined")?function(e,t){return t in e&&a(e.constructor.prototype[t],"undefined")}:function(t,n){return e.call(t,n)}}(),i._l={},i.on=function(e,t){this._l[e]||(this._l[e]=[]),this._l[e].push(t),u.hasOwnProperty(e)&&setTimeout((function(){u._trigger(e,u[e])}),0)},i._trigger=function(e,t){if(this._l[e]){var n=this._l[e];setTimeout((function(){var e;for(e=0;e<n.length;e++)(0,n[e])(t)}),0),delete this._l[e]}},u._q.push((function(){i.addTest=c})),u.addAsyncTest((function(){var e=new Image;e.onerror=function(){c("webplossless",!1)},e.onload=function(){c("webplossless",1==e.width)},e.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="})),u.addAsyncTest((function(){function e(e,t,n){function a(t){var a=!(!t||"load"!==t.type)&&1==r.width;c(e,"webp"===e&&a?new Boolean(a):a),n&&n(t)}var r=new Image;r.onerror=a,r.onload=a,r.src=t}var t=[{uri:"data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA=",name:"webp"},{uri:"data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==",name:"webp.alpha"},{uri:"data:image/webp;base64,UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA",name:"webp.animation"},{uri:"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",name:"webp.lossless"}],n=t.shift();e(n.name,n.uri,(function(n){if(n&&"load"===n.type)for(var a=0;a<t.length;a++)e(t[a].name,t[a].uri)}))})),u.addAsyncTest((function(){var e=new Image;e.onerror=function(){c("webpalpha",!1)},e.onload=function(){c("webpalpha",1==e.width)},e.src="data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA=="})),function(){var e,t,n,r,c,i;for(var l in o)if(o.hasOwnProperty(l)){if(e=[],(t=o[l]).name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(r=a(t.fn,"function")?t.fn():t.fn,c=0;c<e.length;c++)1===(i=e[c].split(".")).length?u[i[0]]=r:(!u[i[0]]||u[i[0]]instanceof Boolean||(u[i[0]]=new Boolean(u[i[0]])),u[i[0]][i[1]]=r),s.push((r?"":"no-")+i.join("-"))}}(),r(s),delete i.addTest,delete i.addAsyncTest;for(var j=0;j<u._q.length;j++)u._q[j]();e.Modernizr=u}(window,document)},186:function(e,t,n){},187:function(e,t,n){"use strict";n.r(t);var a=n(5),r=n.n(a),c=n(1),s=n(9),o=n(0),i=n.n(o),u=n(15),l=n.n(u),b=n(136),d=n.n(b),j=n(29),p=n(11),m=n(8),h=n(26),f=(n(160),n(198)),O=n(192),x=n(243),g=n(244),v=n(245),k=n(246),w=n(199),A=n(54),y=n(267),C=n(193),S=n(270),_=n(271),P=n(272),I=n(273),z=n(191),B=n(287),M=n(217),T=n(279),U=n(289),L=n(280),D=n(281),N=n(215),R=n(290),E=n(214),Q=n(247),J=n(249),W=n(250),G=n(251),V=n(252),q=n(255),X=n(257),F=n(258),$=n(259),K=n(260),Y=n(261),H=n(263),Z=n(264),ee=n(265),te=n(266),ne=n(268),ae=n(269),re=n(274),ce=n(275),se=n(276),oe=n(277),ie=n(278),ue=n(283),le=n(282),be=n(286),de=n(248),je=n.n(de),pe=n(253),me=n.n(pe),he=n(254),fe=n.n(he),Oe=n(256),xe=n.n(Oe),ge=n(262),ve=n.n(ge),ke=n(188),we=n(19),Ae=n(42),ye=n(37),Ce=n(230),Se=n(231),_e=Object(f.a)((function(e){return{root:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}}})),Pe=function(e){var t=e.children,n=e.window,a=_e(),r=Object(Ce.a)({target:n?n():void 0,disableHysteresis:!0,threshold:100});return Object(c.jsx)(Se.a,{in:r,children:Object(c.jsx)("div",{onClick:function(e){var t=(e.target.ownerDocument||document).querySelector("#back-to-top-anchor");t&&t.scrollIntoView({behavior:"smooth",block:"center"})},role:"presentation",className:a.root,children:t})})},Ie=n(232),ze=n(234),Be=n(235),Me=n(236),Te=n(237),Ue=n(288),Le=n(238),De=n(285),Ne=n(242),Re=n(239),Ee=n(240),Qe=n(241),Je=n(108),We=n(45),Ge=function(e){var t=e.open,n=e.onClose,a=Object(ke.a)(),r=a.t,s=a.i18n,i=Object(We.c)().assetI18n,u=Object(o.useContext)(ye.a),l=u.lang,b=u.displayMode,d=u.contentTransMode,j=u.updateLang,p=u.updateDisplayMode,m=u.updateContentTransMode,h=u.languages,f=u.updateLanguages,O=Object(Je.d)(),x=O.languages,g=O.isLoading,v=O.error;return Object(o.useEffect)((function(){g||v||(f(x),x.find((function(e){return e.code===l}))||x.find((function(e){return e.code===l.split("-")[0]}))&&j(l.split("-")[0]))}),[i,v,s,g,l,x,j,f]),Object(c.jsxs)(Ie.a,{open:t,onClose:n,children:[Object(c.jsx)(ze.a,{children:r("common:settings.title")}),Object(c.jsxs)(Be.a,{children:[Object(c.jsxs)(Me.a,{component:"fieldset",style:{margin:"1% 0"},children:[Object(c.jsx)(Te.a,{component:"legend",children:r("common:language")}),Object(c.jsx)(Ue.a,{row:!0,"aria-label":"language",value:l,onChange:function(e,t){s.loadLanguages([t]),i.loadLanguages([t]),j(t)},children:h.filter((function(e){return e.enabled})).map((function(e){return Object(c.jsx)(Le.a,{value:e.code,control:Object(c.jsx)(De.a,{}),label:e.name},e.id)}))})]}),Object(c.jsxs)(Me.a,{component:"fieldset",style:{margin:"1% 0"},children:[Object(c.jsx)(Te.a,{component:"legend",children:r("common:darkmode")}),Object(c.jsxs)(Ue.a,{row:!0,"aria-label":"dark mode",value:b,onChange:function(e,t){return p(t)},children:[Object(c.jsx)(Le.a,{value:"dark",control:Object(c.jsx)(De.a,{}),label:Object(c.jsx)(Re.a,{})}),Object(c.jsx)(Le.a,{value:"light",control:Object(c.jsx)(De.a,{}),label:Object(c.jsx)(Ee.a,{})}),Object(c.jsx)(Le.a,{value:"auto",control:Object(c.jsx)(De.a,{}),label:Object(c.jsx)(Qe.a,{})})]})]}),Object(c.jsxs)(Me.a,{component:"fieldset",style:{margin:"1% 0"},children:[Object(c.jsx)(Te.a,{component:"legend",children:r("common:contentTranslationMode.title")}),Object(c.jsxs)(Ue.a,{row:!0,"aria-label":"show translated",value:d,onChange:function(e,t){return m(t)},children:[Object(c.jsx)(Le.a,{value:"original",control:Object(c.jsx)(De.a,{}),label:r("common:contentTranslationMode.original")}),Object(c.jsx)(Le.a,{value:"translated",control:Object(c.jsx)(De.a,{}),label:r("common:contentTranslationMode.translated")}),Object(c.jsx)(Le.a,{value:"both",control:Object(c.jsx)(De.a,{}),label:r("common:contentTranslationMode.both")})]})]})]}),Object(c.jsx)(Ne.a,{children:Object(c.jsx)(E.a,{onClick:n,color:"primary",children:"Close"})})]})},Ve=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function qe(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;var t="".concat("","/service-worker.js");Ve?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Xe(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Xe(t,e)}}function Xe(e,t){navigator.serviceWorker.register(e).then((function(e){if(e.waiting){var n=e.waiting;"installed"!==n.state?n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))}:t&&t.onUpdate&&t.onUpdate(e)}e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Fe=240,$e=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(9),n.e(4),n.e(33)]).then(n.bind(null,1078))})),Ke=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(21)]).then(n.bind(null,1082))})),Ye=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(9),n.e(48)]).then(n.bind(null,1086))})),He=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(6),n.e(35)]).then(n.bind(null,1089))})),Ze=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(6),n.e(34)]).then(n.bind(null,1090))})),et=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(22)]).then(n.bind(null,1047))})),tt=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(16)]).then(n.bind(null,1048))})),nt=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(17)]).then(n.bind(null,1079))})),at=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(18)]).then(n.bind(null,1049))})),rt=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(10),n.e(31)]).then(n.bind(null,1091))})),ct=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(10),n.e(45),n.e(4),n.e(46)]).then(n.bind(null,1051))})),st=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(4),n.e(64)]).then(n.bind(null,1052))})),ot=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(6),n.e(4),n.e(32)]).then(n.bind(null,1092))})),it=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(4),n.e(57)]).then(n.bind(null,1053))})),ut=Object(o.lazy)((function(){return n.e(54).then(n.bind(null,1054))})),lt=Object(o.lazy)((function(){return Promise.all([n.e(30),n.e(65)]).then(n.bind(null,1055))})),bt=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(25)]).then(n.bind(null,1056))})),dt=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(37),n.e(4),n.e(38)]).then(n.bind(null,1057))})),jt=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(42),n.e(4),n.e(58)]).then(n.bind(null,1093))})),pt=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(43),n.e(4),n.e(47)]).then(n.bind(null,1094))})),mt=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(24)]).then(n.bind(null,1095))})),ht=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(23)]).then(n.bind(null,1096))})),ft=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(39)]).then(n.bind(null,1097))})),Ot=Object(o.lazy)((function(){return n.e(68).then(n.bind(null,1058))})),xt=Object(o.lazy)((function(){return n.e(61).then(n.bind(null,1059))})),gt=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(3),n.e(7),n.e(13)]).then(n.bind(null,1077))})),vt=Object(o.lazy)((function(){return n.e(50).then(n.bind(null,1098))})),kt=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(7),n.e(8),n.e(28)]).then(n.bind(null,1080))})),wt=Object(o.lazy)((function(){return Promise.all([n.e(1),n.e(3),n.e(26),n.e(66)]).then(n.bind(null,1061))})),At=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(6),n.e(41)]).then(n.bind(null,1099))})),yt=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(20)]).then(n.bind(null,1083))})),Ct=Object(o.lazy)((function(){return Promise.all([n.e(1),n.e(2),n.e(3),n.e(5),n.e(27)]).then(n.bind(null,1087))})),St=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(7),n.e(8),n.e(56)]).then(n.bind(null,1100))})),_t=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(44),n.e(4),n.e(51)]).then(n.bind(null,1088))})),Pt=Object(f.a)((function(e){return{toolbar:Object(h.a)(Object(h.a)({},e.mixins.toolbar),{},{display:"flex",alignItems:"center",padding:e.spacing(0,3)}),root:{display:"flex"},drawer:Object(m.a)({},e.breakpoints.up("md"),{width:Fe,flexShrink:0}),appBar:Object(m.a)({},e.breakpoints.up("md"),{width:"calc(100% - ".concat(Fe,"px)"),marginLeft:Fe}),menuButton:Object(m.a)({marginRight:e.spacing(2)},e.breakpoints.up("md"),{display:"none"}),title:{flexGrow:1},drawerPaper:{width:Fe},content:Object(m.a)({flexGrow:1,padding:e.spacing(3)},e.breakpoints.up("md"),{width:"calc(100% - ".concat(Fe,"px)")}),listItem:{"padding-top":"0px","padding-bottom":"0px"},listItemInner:Object(m.a)({"padding-top":"4px","padding-bottom":"4px"},e.breakpoints.down("md"),{"padding-top":"12px","padding-bottom":"12px"})}}));function It(e){var t=e.icon,n=e.text,a=e.to,r=e.theme,s=Object(o.useContext)(ye.c).user,i=Object(we.j)({path:a,exact:"/"===a}),u=Pt();return!e.visibleRoles||s&&e.visibleRoles.includes(s.role.name)?Object(c.jsx)("li",{style:{width:"100%"},children:Object(c.jsxs)(O.a,{component:Ae.b,classes:{root:u.listItemInner},to:a,children:[Object(c.jsx)(x.a,{style:{color:i?r.palette.secondary.main:r.palette.text.primary},children:t}),Object(c.jsx)(g.a,{primary:n,style:{color:i?r.palette.secondary.main:r.palette.text.primary}})]})}):Object(c.jsx)(o.Fragment,{})}function zt(e){var t=e.item,n=e.theme,a=Object(o.useContext)(ye.c).user,r=Object(we.j)({path:t.to,exact:"/"===t.to}),s=Pt(),i=Object(o.useState)(Boolean(r)),u=Object(p.a)(i,2),l=u[0],b=u[1];return!t.visibleRoles||a&&t.visibleRoles.includes(a.role.name)?Object(c.jsxs)(o.Fragment,{children:[Object(c.jsx)(O.a,{disabled:t.disabled,button:!0,classes:{root:s.listItem},onClick:function(){return b((function(e){return!e}))},children:Object(c.jsxs)(O.a,{classes:{root:s.listItemInner},children:[Object(c.jsx)(x.a,{style:{color:r?n.palette.secondary.main:n.palette.text.primary},children:t.icon}),Object(c.jsx)(g.a,{primary:t.text,style:{color:r?n.palette.secondary.main:n.palette.text.primary}})]})},t.to),Object(c.jsx)(v.a,{in:l,timeout:"auto",unmountOnExit:!0,children:t.children.map((function(e){return Object(c.jsx)(O.a,{disabled:e.disabled,button:!0,classes:{root:s.listItem},children:e.children?Object(c.jsx)(zt,{item:e,theme:n}):Object(c.jsx)(It,{to:e.to,text:e.text,icon:e.icon,disabled:e.disabled,theme:n})},e.to)}))})]}):Object(c.jsx)(o.Fragment,{})}var Bt=function(){var e=Object(ke.a)().t,t=Object(o.useContext)(ye.a).displayMode,n=Object(we.g)(),a=Object(we.g)().goBack,r=Object(k.a)("(prefers-color-scheme: dark)"),s=i.a.useMemo((function(){return[[{text:e("common:home"),icon:Object(c.jsx)(Q.a,{}),to:"/",disabled:!1},{text:e("common:announcement"),icon:Object(c.jsx)(je.a,{}),to:"/announcement",disabled:!1},{text:e("common:translation"),icon:Object(c.jsx)(J.a,{}),to:"/translation",disabled:!1,visibleRoles:["Translator","Admin"]}],[{text:e("common:card"),icon:Object(c.jsx)(W.a,{}),to:"/card",disabled:!1},{text:e("common:music"),icon:Object(c.jsx)(G.a,{}),to:"/music",disabled:!1},{text:e("common:gacha"),icon:Object(c.jsx)(V.a,{}),to:"/gacha",disabled:!1},{text:e("common:event"),icon:Object(c.jsx)(me.a,{}),to:"/event",disabled:!1},{text:e("common:stamp"),icon:Object(c.jsx)(fe.a,{}),to:"/stamp",disabled:!1},{text:e("common:comic"),icon:Object(c.jsx)(q.a,{}),to:"/comic",disabled:!1},{text:e("common:character"),icon:Object(c.jsx)(xe.a,{}),to:"/chara",disabled:!1},{text:e("common:mission.main"),icon:Object(c.jsx)(X.a,{}),to:"/mission",disabled:!1,children:[{text:e("common:mission.honor"),to:"/mission/title",disabled:!1},{text:e("common:mission.livepass"),to:"/mission/livepass",disabled:!0},{text:e("common:character"),to:"/mission/character",disabled:!1},{text:e("common:mission.normal"),to:"/mission/normal",disabled:!1},{text:e("common:mission.beginner"),to:"/mission/beginner",disabled:!1}]},{text:e("honor:page_title"),icon:Object(c.jsx)(F.a,{}),to:"/honor",disabled:!1},{text:"Live2D",icon:Object(c.jsx)($.a,{}),to:"/l2d",disabled:!1},{text:e("common:virtualLive"),icon:Object(c.jsx)(K.a,{}),to:"/virtual_live",disabled:!1}],[{text:e("common:musicMeta"),icon:Object(c.jsx)(Y.a,{}),to:"/music_meta",disabled:!0},{text:e("common:musicRecommend"),icon:Object(c.jsx)(ve.a,{}),to:"/music_recommend",disabled:!1},{text:e("common:eventCalc"),icon:Object(c.jsx)(ve.a,{}),to:"/event_calc",disabled:!1},{text:e("common:storyReader"),icon:Object(c.jsx)(H.a,{}),to:"/storyreader",disabled:!1},{text:e("common:eventTracker"),icon:Object(c.jsx)(Z.a,{}),to:"/eventtracker",disabled:!1}],[{text:e("common:support"),icon:Object(c.jsx)(ee.a,{}),to:"/support",disabled:!1},{text:e("common:about"),icon:Object(c.jsx)(te.a,{}),to:"/about",disabled:!1}]]}),[e]),u=Pt(),l=Object(o.useState)(!1),b=Object(p.a)(l,2),d=b[0],m=b[1],f=Object(o.useState)(!1),x=Object(p.a)(f,2),g=x[0],de=x[1],pe=Object(o.useState)(s.map((function(){return!0}))),he=Object(p.a)(pe,2),Oe=he[0],ge=he[1],Ce=Object(o.useState)(!1),Se=Object(p.a)(Ce,2),_e=Se[0],Ie=Se[1],ze=Object(o.useState)(null),Be=Object(p.a)(ze,2),Me=Be[0],Te=Be[1],Ue=Object(o.useState)(!1),Le=Object(p.a)(Ue,2),De=Le[0],Ne=Le[1],Re=Object(o.useState)(null),Ee=Object(p.a)(Re,2),Qe=Ee[0],Je=Ee[1],We=i.a.useMemo((function(){return Object(w.a)({palette:{type:"auto"===t?r?"dark":"light":t,primary:{main:"auto"===t?r?"#7986cb":"#3f51b5":"dark"===t?"#7986cb":"#3f51b5"}}})}),[t,r]),Ve=function(){m(!d)},Xe=Object(o.useMemo)((function(){return Object(c.jsx)(ye.d,{children:Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:u.toolbar,children:Object(c.jsx)(A.a,{variant:"h6",children:e("common:toolbar.title")})}),Object(c.jsx)(y.a,{}),Object(c.jsxs)(C.a,{children:[Object(c.jsxs)(O.a,{button:!0,onClick:function(){return ge((function(e){return[!e[0]].concat(Object(j.a)(e.slice(1)))}))},children:[Object(c.jsx)(A.a,{color:"textSecondary",children:e("common:community")}),Oe[0]?Object(c.jsx)(ne.a,{}):Object(c.jsx)(ae.a,{})]}),Object(c.jsx)(v.a,{in:Oe[0],timeout:"auto",unmountOnExit:!0,children:s[0].map((function(e){return e.children?Object(c.jsx)(zt,{item:e,theme:We},e.to):Object(c.jsx)(O.a,{disabled:e.disabled,button:!0,classes:{root:u.listItem},children:Object(c.jsx)(It,Object(h.a)(Object(h.a)({},e),{},{theme:We}))},e.to)}))}),Object(c.jsxs)(O.a,{button:!0,onClick:function(){return ge((function(e){return[e[0],!e[1]].concat(Object(j.a)(e.slice(2)))}))},children:[Object(c.jsx)(A.a,{color:"textSecondary",children:e("common:information")}),Oe[1]?Object(c.jsx)(ne.a,{}):Object(c.jsx)(ae.a,{})]}),Object(c.jsx)(v.a,{in:Oe[1],timeout:"auto",unmountOnExit:!0,children:s[1].map((function(e){return e.children?Object(c.jsx)(zt,{item:e,theme:We},e.to):Object(c.jsx)(O.a,{disabled:e.disabled,button:!0,classes:{root:u.listItem},children:Object(c.jsx)(It,{to:e.to,text:e.text,icon:e.icon,disabled:e.disabled,theme:We})},e.to)}))}),Object(c.jsxs)(O.a,{button:!0,onClick:function(){return ge((function(e){return[e[0],e[1],!e[2]].concat(Object(j.a)(e.slice(3)))}))},children:[Object(c.jsx)(A.a,{color:"textSecondary",children:e("common:tools")}),Oe[2]?Object(c.jsx)(ne.a,{}):Object(c.jsx)(ae.a,{})]}),Object(c.jsx)(v.a,{in:Oe[2],timeout:"auto",unmountOnExit:!0,children:s[2].map((function(e){return e.children?Object(c.jsx)(zt,{item:e,theme:We},e.to):Object(c.jsx)(O.a,{disabled:e.disabled,button:!0,classes:{root:u.listItem},children:Object(c.jsx)(It,{to:e.to,text:e.text,icon:e.icon,disabled:e.disabled,theme:We})},e.to)}))}),Object(c.jsxs)(O.a,{button:!0,onClick:function(){return ge((function(e){return[].concat(Object(j.a)(e.slice(0,3)),[!e[3]],Object(j.a)(e.slice(4)))}))},children:[Object(c.jsx)(A.a,{color:"textSecondary",children:e("common:about")}),Oe[3]?Object(c.jsx)(ne.a,{}):Object(c.jsx)(ae.a,{})]}),Object(c.jsx)(v.a,{in:Oe[3],timeout:"auto",unmountOnExit:!0,children:s[3].map((function(e){return e.children?Object(c.jsx)(zt,{item:e,theme:We},e.to):Object(c.jsx)(O.a,{disabled:e.disabled,button:!0,classes:{root:u.listItem},children:Object(c.jsx)(It,{to:e.to,text:e.text,icon:e.icon,disabled:e.disabled,theme:We})},e.to)}))})]})]})})}),[u.listItem,u.toolbar,s,Oe,e,We]),Fe=void 0!==window?function(){return window.document.body}:void 0,Bt=Object(o.useCallback)((function(e){Ne(!0),Je(e.waiting)}),[]);Object(o.useEffect)((function(){qe({onUpdate:Bt})}),[Bt]);var Mt=Object(o.useCallback)((function(){Qe&&(Qe.onstatechange=function(){"activated"===Qe.state&&window.location.reload()},Qe.postMessage({type:"SKIP_WAITING"})),Ne(!1)}),[Qe]);return Object(c.jsxs)(S.a,{theme:We,children:[Object(c.jsxs)("div",{className:u.root,children:[Object(c.jsx)(_.a,{}),Object(c.jsx)(P.a,{position:"fixed",className:u.appBar,children:Object(c.jsxs)(I.a,{children:[Object(c.jsx)(z.a,{color:"inherit",edge:"start",onClick:Ve,className:u.menuButton,children:Object(c.jsx)(re.a,{})}),Object(c.jsxs)(A.a,{variant:"h6",noWrap:!0,classes:{root:u.title},children:["Sekai Viewer ",Object(c.jsx)("small",{children:"0.4.0"})]}),Object(c.jsx)(z.a,{color:"inherit",onClick:function(){return a()},disableRipple:!0,style:{padding:".6rem"},size:"medium",children:Object(c.jsx)(ce.a,{fontSize:"inherit"})}),Object(c.jsxs)(B.a,{smDown:!0,implementation:"css",children:[Object(c.jsx)(z.a,{color:"inherit",onClick:function(){return de(!0)},style:{padding:".6rem"},size:"medium",children:Object(c.jsx)(se.a,{fontSize:"inherit"})}),Object(c.jsx)(Ae.b,{to:"/user",style:{color:We.palette.common.white},children:Object(c.jsx)(z.a,{color:"inherit",style:{padding:".6rem"},size:"medium",children:Object(c.jsx)(oe.a,{fontSize:"inherit"})})})]}),Object(c.jsx)(B.a,{mdUp:!0,implementation:"css",children:Object(c.jsx)(z.a,{onClick:function(e){Ie(!0),Te(e.currentTarget)},color:"inherit",children:Object(c.jsx)(ie.a,{})})})]})}),Object(c.jsxs)(M.a,{anchorEl:Me,keepMounted:!0,open:_e,onClose:function(){Ie(!1),Te(null)},children:[Object(c.jsxs)(T.a,{onClick:function(){de(!0),Ie(!1),Te(null)},children:[Object(c.jsx)(z.a,{color:"inherit",size:"medium",children:Object(c.jsx)(se.a,{fontSize:"inherit"})}),Object(c.jsx)(A.a,{children:e("common:settings.title")})]}),Object(c.jsxs)(T.a,{onClick:function(){n.push("/user"),Ie(!1),Te(null)},children:[Object(c.jsx)(z.a,{color:"inherit",size:"medium",children:Object(c.jsx)(oe.a,{fontSize:"inherit"})}),Object(c.jsx)(A.a,{children:e("common:user")})]})]}),Object(c.jsxs)("nav",{className:u.drawer,children:[Object(c.jsx)(B.a,{mdUp:!0,implementation:"css",children:Object(c.jsx)(U.a,{container:Fe,variant:"temporary",anchor:"rtl"===We.direction?"right":"left",open:d,onClose:Ve,classes:{paper:u.drawerPaper},ModalProps:{keepMounted:!0},children:Xe})}),Object(c.jsx)(B.a,{smDown:!0,implementation:"css",children:Object(c.jsx)(U.a,{variant:"permanent",open:!0,classes:{paper:u.drawerPaper},children:Xe})})]}),Object(c.jsxs)(L.a,{className:u.content,children:[Object(c.jsx)("div",{className:u.toolbar,id:"back-to-top-anchor"}),Object(c.jsx)(ye.d,{children:Object(c.jsx)(we.d,{children:Object(c.jsxs)(o.Suspense,{fallback:Object(c.jsxs)(D.a,{container:!0,direction:"column",spacing:3,children:[Object(c.jsx)(D.a,{item:!0,children:Object(c.jsx)(le.a,{variant:"rect",width:"30%",height:30})}),Object(c.jsx)(D.a,{item:!0,children:Object(c.jsx)(le.a,{variant:"rect",width:"90%",height:200})}),Object(c.jsx)(D.a,{item:!0,children:Object(c.jsx)(le.a,{variant:"rect",width:"90%",height:200})})]}),children:[Object(c.jsx)(we.b,{path:"/",exact:!0,children:Object(c.jsx)(Ke,{})}),Object(c.jsx)(we.b,{path:"/card",exact:!0,children:Object(c.jsx)($e,{})}),Object(c.jsx)(we.b,{path:"/card/:cardId(\\d+)",children:Object(c.jsx)(tt,{})}),Object(c.jsx)(we.b,{path:"/music",exact:!0,children:Object(c.jsx)(Ye,{})}),Object(c.jsx)(we.b,{path:"/music/:musicId(\\d+)",children:Object(c.jsx)(nt,{})}),Object(c.jsx)(we.b,{path:"/gacha",exact:!0,children:Object(c.jsx)(He,{})}),Object(c.jsx)(we.b,{path:"/gacha/:gachaId",children:Object(c.jsx)(et,{})}),Object(c.jsx)(we.b,{path:"/event",exact:!0,children:Object(c.jsx)(Ze,{})}),Object(c.jsx)(we.b,{path:"/event/:eventId",children:Object(c.jsx)(at,{})}),Object(c.jsx)(we.b,{path:"/stamp",children:Object(c.jsx)(ot,{})}),Object(c.jsx)(we.b,{path:"/comic",children:Object(c.jsx)(rt,{})}),Object(c.jsx)(we.b,{path:"/chara",exact:!0,children:Object(c.jsx)(st,{})}),Object(c.jsx)(we.b,{path:"/chara/:charaId",children:Object(c.jsx)(ct,{})}),Object(c.jsx)(we.b,{path:"/unit/:unitId",children:Object(c.jsx)(it,{})}),Object(c.jsx)(we.b,{path:"/about",exact:!0,children:Object(c.jsx)(ut,{})}),Object(c.jsx)(we.b,{path:"/support",exact:!0,children:Object(c.jsx)(lt,{})}),Object(c.jsx)(we.b,{path:"/music_recommend",exact:!0,children:Object(c.jsx)(bt,{})}),Object(c.jsx)(we.b,{path:"/event_calc",exact:!0,children:Object(c.jsx)(dt,{})}),Object(c.jsx)(we.b,{path:"/storyreader",children:Object(c.jsx)(jt,{})}),Object(c.jsx)(we.b,{path:"/mission/title",children:Object(c.jsx)(pt,{})}),Object(c.jsx)(we.b,{path:"/mission/normal",children:Object(c.jsx)(mt,{})}),Object(c.jsx)(we.b,{path:"/mission/beginner",children:Object(c.jsx)(ht,{})}),Object(c.jsx)(we.b,{path:"/mission/character",children:Object(c.jsx)(ft,{})}),Object(c.jsx)(we.b,{path:"/user",children:Object(c.jsx)(Ot,{})}),Object(c.jsx)(we.b,{path:"/connect/:provider/redirect",children:Object(c.jsx)(xt,{})}),Object(c.jsx)(we.b,{path:"/eventtracker",children:Object(c.jsx)(gt,{})}),Object(c.jsx)(we.b,{path:"/announcement",exact:!0,children:Object(c.jsx)(vt,{})}),Object(c.jsx)(we.b,{path:"/announcement/:id",children:Object(c.jsx)(kt,{})}),Object(c.jsx)(we.b,{path:"/l2d",children:Object(c.jsx)(wt,{})}),Object(c.jsx)(we.b,{path:"/virtual_live",exact:!0,children:Object(c.jsx)(At,{})}),Object(c.jsx)(we.b,{path:"/virtual_live/:id",children:Object(c.jsx)(yt,{})}),Object(c.jsx)(we.b,{path:"/translation",exact:!0,children:Object(c.jsx)(Ct,{})}),Object(c.jsx)(we.b,{path:"/translation/:slug",children:Object(c.jsx)(St,{})}),Object(c.jsx)(we.b,{path:"/honor",children:Object(c.jsx)(_t,{})})]})})})]}),Object(c.jsx)(Pe,{children:Object(c.jsx)(N.a,{color:"secondary",size:"small","aria-label":"scroll back to top",children:Object(c.jsx)(ue.a,{})})}),Object(c.jsx)(Ge,{open:g,onClose:function(){return de(!1)}})]}),Object(c.jsx)(R.a,{open:De,children:Object(c.jsx)(be.a,{severity:"info",action:Object(c.jsx)(E.a,{color:"inherit",size:"small",onClick:function(){return Mt()},children:e("common:update")}),children:e("common:update-available")})})]})},Mt=(n(185),n(186),n(43)),Tt=n.n(Mt),Ut=n(93),Lt=n.n(Ut),Dt=n(69),Nt=240,Rt=Object(f.a)((function(e){return{toolbar:Object(h.a)(Object(h.a)({},e.mixins.toolbar),{},{display:"flex",alignItems:"center",padding:e.spacing(0,3)}),root:{display:"flex"},drawer:Object(m.a)({},e.breakpoints.up("md"),{width:Nt,flexShrink:0}),appBar:Object(m.a)({},e.breakpoints.up("md"),{width:"calc(100% - ".concat(Nt,"px)"),marginLeft:Nt}),menuButton:Object(m.a)({marginRight:e.spacing(2)},e.breakpoints.up("md"),{display:"none"}),title:{flexGrow:1},drawerPaper:{width:Nt},content:Object(m.a)({flexGrow:1,padding:e.spacing(3)},e.breakpoints.up("md"),{width:"calc(100% - ".concat(Nt,"px)")})}})),Et=function(e){var t=Rt(),n=Object(k.a)("(prefers-color-scheme: dark)"),a=Object(o.useMemo)((function(){return Object(Dt.a)({palette:{type:n?"dark":"light",primary:{main:n?"#7986cb":"#3f51b5"}}})}),[n]),r=Object(o.useMemo)((function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:t.toolbar,children:Object(c.jsx)(le.a,{variant:"text",width:"100%"})}),Object(c.jsx)(y.a,{}),Object(c.jsx)(C.a,{children:Array.from({length:20}).map((function(e,t){return Object(c.jsxs)(O.a,{children:[Object(c.jsx)(x.a,{children:Object(c.jsx)(le.a,{variant:"circle",width:24,height:24})}),Object(c.jsx)(g.a,{children:Object(c.jsx)(le.a,{variant:"rect",width:"100%",height:24})})]},t)}))})]})}),[t.toolbar]),s=void 0!==window?function(){return window.document.body}:void 0;return Object(c.jsx)(S.a,{theme:a,children:Object(c.jsxs)("div",{className:t.root,children:[Object(c.jsx)(_.a,{}),Object(c.jsx)(P.a,{position:"fixed",className:t.appBar,children:Object(c.jsxs)(I.a,{children:[Object(c.jsx)(z.a,{color:"inherit",edge:"start",className:t.menuButton,children:Object(c.jsx)(re.a,{})}),Object(c.jsxs)(A.a,{variant:"h6",noWrap:!0,classes:{root:t.title},children:["Sekai Viewer ",Object(c.jsx)("small",{children:"0.4.0"})]}),Object(c.jsx)(z.a,{color:"inherit",disableRipple:!0,style:{padding:".6rem"},size:"medium",children:Object(c.jsx)(ce.a,{fontSize:"inherit"})}),Object(c.jsxs)(B.a,{smDown:!0,implementation:"css",children:[Object(c.jsx)(z.a,{color:"inherit",style:{padding:".6rem"},size:"medium",children:Object(c.jsx)(se.a,{fontSize:"inherit"})}),Object(c.jsx)(Ae.b,{to:"/user",style:{color:a.palette.common.white},children:Object(c.jsx)(z.a,{color:"inherit",style:{padding:".6rem"},size:"medium",children:Object(c.jsx)(oe.a,{fontSize:"inherit"})})})]}),Object(c.jsx)(B.a,{mdUp:!0,implementation:"css",children:Object(c.jsx)(z.a,{color:"inherit",children:Object(c.jsx)(ie.a,{})})})]})}),Object(c.jsxs)("nav",{className:t.drawer,children:[Object(c.jsx)(B.a,{mdUp:!0,implementation:"css",children:Object(c.jsx)(U.a,{container:s,variant:"temporary",anchor:"rtl"===a.direction?"right":"left",open:!1,classes:{paper:t.drawerPaper},ModalProps:{keepMounted:!0},children:r})}),Object(c.jsx)(B.a,{smDown:!0,implementation:"css",children:Object(c.jsx)(U.a,{variant:"permanent",open:!0,classes:{paper:t.drawerPaper},children:r})})]})]})})};d.a.initialize({gtmId:"GTM-NFC6SW2"}),window.isChinaMainland=!1,Object(s.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lt.a.getItem("country");case 2:if(t=e.sent){e.next=8;break}return e.next=6,Tt.a.get("".concat("https://api.sekai.best","/country"));case 6:t=e.sent.data.data.country,Lt.a.setItem("country",t);case 8:return window.isChinaMainland="CN"===t,e.next=11,Object(We.b)();case 11:l.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(Ae.a,{children:Object(c.jsx)(o.Suspense,{fallback:Object(c.jsx)(Et,{}),children:Object(c.jsx)(ye.b,{children:Object(c.jsx)(Bt,{})})})})}),document.getElementById("root"));case 12:case"end":return e.stop()}}),e)})))(),Object(s.a)(r.a.mark((function e(){var t,n,a,c,s,o,i,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Number(localStorage.getItem("lastUserCheck")||"0"),!((new Date).getTime()-t>36e5)){e.next=17;break}if(n=JSON.parse(localStorage.getItem("userData")||"null"),a=localStorage.getItem("authToken")||"",!n||!a){e.next=17;break}return c=Tt.a.create({baseURL:"https://strapi.sekai.best"}),e.next=8,c.get("/users/me",{headers:{authorization:"Bearer ".concat(a)}});case 8:return s=e.sent,o=s.data,localStorage.setItem("userData",JSON.stringify(o)),e.next=13,c.get("/user-metadata/me",{headers:{authorization:"Bearer ".concat(a)}});case 13:i=e.sent,u=i.data,localStorage.setItem("userMetaDatum",JSON.stringify(u)),localStorage.setItem("lastUserCheck",String((new Date).getTime()));case 17:case"end":return e.stop()}}),e)})))()},37:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return d}));var a=n(1),r=n(11),c=n(0),s=n(188),o=n(45),i=n(115),u=Object(c.createContext)(void 0),l=function(e){var t=e.children,n=Object(s.a)().i18n,i=Object(o.c)().assetI18n,l=Object(c.useState)(n.language),b=Object(r.a)(l,2),d=b[0],j=b[1],p=Object(c.useState)(localStorage.getItem("display-mode")||"auto"),m=Object(r.a)(p,2),h=m[0],f=m[1],O=Object(c.useState)(JSON.parse(localStorage.getItem("languages-cache")||"[]")),x=Object(r.a)(O,2),g=x[0],v=x[1],k=Object(c.useState)(localStorage.getItem("content-translation-mode")||"translated"),w=Object(r.a)(k,2),A=w[0],y=w[1];return Object(a.jsx)(u.Provider,{value:{lang:d,updateLang:function(e){j(e),n.changeLanguage(e),i.changeLanguage(e)},displayMode:h,updateDisplayMode:function(e){f(e),localStorage.setItem("display-mode",e)},contentTransMode:A,updateContentTransMode:function(e){y(e),localStorage.setItem("content-translation-mode",e)},languages:g,updateLanguages:function(e){v(e),localStorage.setItem("languages-cache",JSON.stringify(e))}},children:t})},b=Object(c.createContext)(void 0),d=function(e){var t=e.children,n=Object(i.a)(),s=Object(c.useState)(n.user),o=Object(r.a)(s,2),u=o[0],l=o[1],d=Object(c.useState)(n.token),j=Object(r.a)(d,2),p=j[0],m=j[1],h=Object(c.useState)(n.usermeta),f=Object(r.a)(h,2),O=f[0],x=f[1],g=Object(c.useState)(JSON.parse(localStorage.getItem("sekaiProfile")||"null")||void 0),v=Object(r.a)(g,2),k=v[0],w=v[1];return Object(a.jsx)(b.Provider,{value:{user:Object(c.useMemo)((function(){return u}),[u]),jwtToken:Object(c.useMemo)((function(){return p}),[p]),sekaiProfile:k,updateUser:Object(c.useCallback)((function(e){n.user=e,l(e)}),[n]),updateJwtToken:Object(c.useCallback)((function(e){n.token=e,m(e)}),[n]),updateSekaiProfile:Object(c.useCallback)((function(e){w((function(t){return Object.assign({},t,e)})),e?localStorage.setItem("sekaiProfile",JSON.stringify(e)):localStorage.removeItem("sekaiProfile")}),[]),logout:Object(c.useCallback)((function(){n.user=null,n.token="",w(void 0),localStorage.removeItem("sekaiProfile")}),[n]),usermeta:Object(c.useMemo)((function(){return O}),[O]),updateUserMeta:Object(c.useCallback)((function(e){n.usermeta=Object.assign({},n.usermeta,e),x((function(t){return Object.assign({},t,e)}))}),[n])},children:t})}},45:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return p}));var a=n(5),r=n.n(a),c=n(9),s=n(102),o=n(51),i=n(97),u=n(98),l=n(0),b=s.a.createInstance();function d(){return j.apply(this,arguments)}function j(){return(j=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.a.use(o.e).use(i.a).use(u.a).init({ns:["common","home","card","music","gacha","event","unit","member","filter","music","title","member","unit","about","support","music_recommend","story_reader","mission","event_calc","team_build","user","auth","announcement","comment","live2d","virtual_live","translate","honor"],defaultNS:"common",fallbackLng:{default:["en"],pt:["pt-BR","en"]},fallbackNS:"common",load:"currentOnly",backend:{loadPath:(window.isChinaMainland?"https://sekai-json-1258184166.file.myqcloud.com/locales":"https://i18n-json.sekai.best")+"/{{lng}}/{{ns}}.json"},returnEmptyString:!1}),b.use(i.a).use(u.a).init({ns:["music_titles","card_prefix","card_skill_name","event_name","gacha_name","character_name","skill_desc","character_profile","unit_profile","stamp_name","comic_title","release_cond","card_episode_title","music_vocal","unit_story_chapter_title","honor_mission","normal_mission","beginner_mission","honor_name","honorGroup_name","virtualLive_name","unit_story_episode_title","event_story_episode_title","character_mission"],fallbackLng:{default:["ja"],pt:["pt-BR","ja"]},load:"currentOnly",backend:{loadPath:(window.isChinaMainland?"https://sekai-json-1258184166.file.myqcloud.com/locales":"https://i18n-json.sekai.best")+"/{{lng}}/{{ns}}.json"},returnEmptyString:!1});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){var e=Object(l.useCallback)((function(e,t,n){var a=b.t(e,n);return a===e.split(":")[1]?t:a}),[]),t=Object(l.useCallback)((function(t,n,a,r){switch(t){case"original":return a;case"translated":return e(n,a,r);case"both":return"".concat(a," | ").concat(e(n,a,r))}}),[e]);return{assetT:e,assetI18n:b,getTranslated:t}}}},[[187,12,14]]]);