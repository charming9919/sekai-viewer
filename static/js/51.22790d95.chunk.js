(this["webpackJsonpsekai-viewer"]=this["webpackJsonpsekai-viewer"]||[]).push([[51],{1088:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(29),r=n(11),i=n(54),s=n(280),o=n(281),j=n(415),l=n(214),b=n(245),d=n(96),u=n(341),O=n(238),h=n(535),f=n(403),m=n(404),g=n(401),x=n.n(g),p=n(402),v=n.n(p),y=n(0),w=n(188),_=n(298),k=n(292),N=n(291),C=n(312),S=n(330),T=n(353),I=n(282),P=n(294),E=n(374),W=function(e){var t=e.data;return t?Object(c.jsx)(y.Fragment,{children:Object(c.jsxs)(S.a,{style:{cursor:"pointer"},children:[Object(c.jsx)(T.a,{children:Object(c.jsx)(E.a,{honorId:t.id,type:"mission_reward"})}),Object(c.jsx)(T.a,{children:Object(c.jsx)(o.a,{container:!0,direction:"column",spacing:1,children:Object(c.jsx)(o.a,{item:!0,children:Object(c.jsx)(P.b,{contentKey:"honor_name:".concat(t.name),original:t.name,originalProps:{variant:"subtitle1"},translatedProps:{variant:"subtitle1"}})})})})]})}):Object(c.jsxs)(S.a,{children:[Object(c.jsx)(I.a,{variant:"rect"}),Object(c.jsxs)(T.a,{children:[Object(c.jsx)(i.a,{variant:"subtitle1",children:Object(c.jsx)(I.a,{variant:"text",width:"90%"})}),Object(c.jsx)(i.a,{variant:"body2",children:Object(c.jsx)(I.a,{variant:"text",width:"40%"})})]})]})},z=n(232),B=n(235),L=n(267),K=function(e){var t=e.open,n=e.onClose,a=e.data,s=Object(w.a)().t,j=Object(N.e)("honors"),l=Object(r.a)(j,1)[0],b=Object(N.e)("honorGroups"),d=Object(r.a)(b,1)[0],u=Object(y.useState)(),O=Object(r.a)(u,2),h=O[0],f=O[1];return Object(y.useEffect)((function(){if(l&&l.length&&d&&d.length&&a){var e=d.find((function(e){return e.id===a.groupId}));f(e)}}),[l,d,a]),h&&a?Object(c.jsx)(z.a,{open:t,onClose:n,fullWidth:!0,children:Object(c.jsxs)(B.a,{children:[Object(c.jsx)(o.a,{container:!0,spacing:2,children:Object(c.jsx)(o.a,{item:!0,container:!0,justify:"center",children:Object(c.jsx)(E.a,{honorId:a.id,type:"mission_reward"})})}),Object(c.jsxs)(o.a,{container:!0,direction:"row",wrap:"nowrap",justify:"space-between",alignItems:"center",children:[Object(c.jsx)(i.a,{variant:"subtitle1",style:{fontWeight:600},children:s("common:id")}),Object(c.jsx)(i.a,{children:a.id})]}),Object(c.jsx)(L.a,{style:{margin:"1% 0"}}),Object(c.jsxs)(o.a,{container:!0,direction:"row",wrap:"nowrap",justify:"space-between",alignItems:"center",children:[Object(c.jsx)(i.a,{variant:"subtitle1",style:{fontWeight:600},children:s("common:title")}),Object(c.jsx)(P.b,{contentKey:"honor_name:".concat(a.name),original:a.name,originalProps:{align:"right"},translatedProps:{align:"right"}})]}),Object(c.jsx)(L.a,{style:{margin:"1% 0"}}),Object(c.jsxs)(o.a,{container:!0,direction:"row",wrap:"nowrap",justify:"space-between",alignItems:"center",children:[Object(c.jsx)(i.a,{variant:"subtitle1",style:{fontWeight:600},children:s("honor:honor_group")}),Object(c.jsx)(P.b,{contentKey:"honorGroup_name:".concat(h.id),original:h.name,originalProps:{align:"right"},translatedProps:{align:"right"}})]}),Object(c.jsx)(L.a,{style:{margin:"1% 0"}}),Object(c.jsxs)(o.a,{container:!0,direction:"row",wrap:"nowrap",justify:"space-between",alignItems:"center",children:[Object(c.jsx)(i.a,{variant:"subtitle1",style:{fontWeight:600},children:s("common:rarity")}),Object(c.jsx)(i.a,{children:s("honor:rarity.".concat(a.honorRarity))})]}),Object(c.jsx)(L.a,{style:{margin:"1% 0"}}),a.levels.map((function(e){return Object(c.jsxs)(y.Fragment,{children:[Object(c.jsxs)(o.a,{container:!0,direction:"row",wrap:"nowrap",justify:"space-between",alignItems:"center",children:[Object(c.jsx)(i.a,{variant:"subtitle1",style:{fontWeight:600},children:s("common:level")}),Object(c.jsx)(i.a,{children:e.level})]}),Object(c.jsx)(L.a,{style:{margin:"1% 0"}}),Object(c.jsxs)(o.a,{container:!0,direction:"row",wrap:"nowrap",justify:"space-between",alignItems:"center",children:[Object(c.jsx)(o.a,{item:!0,xs:3,md:2,children:Object(c.jsx)(i.a,{variant:"subtitle1",style:{fontWeight:600},children:s("common:description")})}),Object(c.jsx)(o.a,{item:!0,xs:8,md:9,children:Object(c.jsx)(i.a,{align:"right",children:e.description})})]}),Object(c.jsx)(L.a,{style:{margin:"1% 0"}})]})}))]})}):null},R={grid:W};t.default=function(){var e=Object(k.a)(),t=Object(_.a)(),n=Object(w.a)().t,g=Object(N.e)("honors"),p=Object(r.a)(g,1)[0],S=Object(N.e)("honorGroups"),T=Object(r.a)(S,1)[0],I=Object(y.useState)([]),P=Object(r.a)(I,2),E=P[0],W=P[1],z=Object(y.useState)(!1),B=Object(r.a)(z,2),L=B[0],A=B[1],F=Object(y.useState)(),D=Object(r.a)(F,2),G=D[0],J=D[1],M=Object(y.useState)(!1),V=Object(r.a)(M,2),H=V[0],Q=V[1],q=Object(y.useState)(localStorage.getItem("event-list-grid-view-type")||"grid"),U=Object(r.a)(q,1)[0],X=Object(y.useState)(1),Y=Object(r.a)(X,2),Z=Y[0],$=Y[1],ee=Object(y.useState)(12),te=Object(r.a)(ee,1)[0],ne=Object(y.useState)(!0),ce=Object(r.a)(ne,2),ae=ce[0],re=ce[1],ie=Object(y.useState)(!1),se=Object(r.a)(ie,2),oe=se[0],je=se[1],le=Object(y.useState)(!1),be=Object(r.a)(le,2),de=be[0],ue=be[1],Oe=Object(y.useState)(""),he=Object(r.a)(Oe,2),fe=he[0],me=he[1],ge=Object(y.useState)([]),xe=Object(r.a)(ge,2),pe=xe[0],ve=xe[1];Object(y.useLayoutEffect)((function(){document.title=n("title:honorList")}),[n]),Object(y.useEffect)((function(){if(p&&p.length&&T&&T.length){var e=Object(a.a)(p);if(fe){var t=T.filter((function(e){return e.honorType===fe})).map((function(e){return e.id}));e=e.filter((function(e){return t.includes(e.groupId)}))}if(H){var n=Array.from(new Set(e.map((function(e){return e.groupId}))));e=n.map((function(t){return e.find((function(e){return e.groupId===t}))}))}ve(e),W([]),$(0)}}),[$,p,fe,T,H]),Object(y.useLayoutEffect)((function(){W((function(e){return[].concat(Object(a.a)(e),Object(a.a)(function(e,t,n){return e.slice(n*(t-1),n*t)}(pe,Z,te)))})),re(!0)}),[Z,te,re,pe]),Object(y.useLayoutEffect)((function(){je(Boolean(p&&p.length))}),[p,je]);var ye=Object(y.useCallback)((function(e,t){oe&&(e[0].isIntersecting&&ae&&(!pe.length||pe.length>Z*te)?(re(!1),$((function(e){return e+1}))):pe.length&&pe.length<=Z*te&&t(!1))}),[pe.length,oe,ae,te,Z]);return oe&&T&&T.length?Object(c.jsxs)(y.Fragment,{children:[Object(c.jsx)(i.a,{variant:"h6",className:e.header,children:n("honor:page_title")}),Object(c.jsxs)(s.a,{className:e.content,children:[Object(c.jsx)(o.a,{container:!0,justify:"flex-end",children:Object(c.jsx)(j.a,{color:"primary",style:{marginBottom:"1%"},children:Object(c.jsxs)(l.a,{size:"medium",onClick:function(){return ue((function(e){return!e}))},children:[de?Object(c.jsx)(x.a,{}):Object(c.jsx)(v.a,{}),de?Object(c.jsx)(f.a,{}):Object(c.jsx)(m.a,{})]})})}),Object(c.jsx)(b.a,{in:de,children:Object(c.jsx)(d.a,{className:t.container,children:Object(c.jsxs)(o.a,{container:!0,direction:"column",spacing:1,children:[Object(c.jsxs)(o.a,{item:!0,container:!0,xs:12,alignItems:"center",justify:"space-between",children:[Object(c.jsx)(o.a,{item:!0,xs:12,md:1,children:Object(c.jsx)(i.a,{classes:{root:t.caption},children:n("filter:honorType.caption")})}),Object(c.jsxs)(o.a,{item:!0,container:!0,xs:12,md:10,spacing:1,children:[Object(c.jsx)(o.a,{item:!0,children:Object(c.jsx)(u.a,{clickable:!0,color:""===fe?"primary":"default",label:n("filter:not_set"),onClick:function(){me("")}})}),Array.from(new Set(T.map((function(e){return e.honorType})))).map((function(e){return Object(c.jsx)(o.a,{item:!0,children:Object(c.jsx)(u.a,{clickable:!0,color:fe===e?"primary":"default",label:n("honor:type.".concat(e)),onClick:function(){me(e)}})},e)}))]})]}),Object(c.jsx)(o.a,{item:!0,xs:12,children:Object(c.jsx)(O.a,{control:Object(c.jsx)(h.a,{checked:H,onChange:function(){return Q((function(e){return!e}))}}),label:n("filter:honorType.group_only_once"),labelPlacement:"start"})})]})})}),Object(c.jsx)(C.a,{ViewComponent:R[U],data:E,callback:ye,gridSize:{grid:{xs:12,sm:6,md:4,lg:3}}[U],onComponentClick:function(e){J(e),A(!0)}})]}),Object(c.jsx)(K,{open:L,onClose:function(){return A(!1)},data:G})]}):Object(c.jsx)("div",{children:"Loading..."})}},292:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var c=n(198),a=Object(c.a)((function(e){return{header:{fontWeight:"bold"},content:{marginTop:e.spacing(3),marginBottom:e.spacing(3),marginLeft:"auto",marginRight:"auto"},alert:{margin:e.spacing(1,0)},bold:{fontWeight:e.typography.fontWeightBold},capitalize:{textTransform:"capitalize"},tabpanel:{padding:e.spacing("1%",0,0,0)},"grid-out":{padding:e.spacing("1%","0")}}}))},294:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return O}));var c=n(11),a=n(1),r=n(26),i=n(54),s=n(281),o=n(0),j=n(37),l=n(291),b=n(45),d=function(e){var t=e.contentKey,n=e.original,c=e.originalProps,l=e.translatedProps,d=e.assetTOptions,u=Object(o.useContext)(j.a).contentTransMode,O=Object(b.c)().assetT;switch(u){case"original":return Object(a.jsx)(i.a,Object(r.a)(Object(r.a)({},c),{},{children:n}));case"translated":return Object(a.jsx)(i.a,Object(r.a)(Object(r.a)({},l),{},{color:"textPrimary",children:O(t,n,d)}));case"both":return Object(a.jsxs)(s.a,{container:!0,direction:"column",children:[Object(a.jsx)(i.a,Object(r.a)(Object(r.a)({},c),{},{color:"textPrimary",children:n})),Object(a.jsx)(i.a,Object(r.a)(Object(r.a)({},l),{},{color:"textSecondary",children:O(t,n,d)}))]})}},u=function(e){var t=e.characterId,n=e.originalProps,d=e.translatedProps,u=e.assetTOptions,O=Object(o.useContext)(j.a).contentTransMode,h=Object(l.e)("gameCharacters"),f=Object(c.a)(h,1)[0],m=Object(b.c)(),g=m.assetT,x=m.assetI18n,p=Object(o.useState)(),v=Object(c.a)(p,2),y=v[0],w=v[1];if(Object(o.useEffect)((function(){f&&w(f.find((function(e){return e.id===t})))}),[f,t]),!y)return Object(a.jsx)(i.a,{});switch(O){case"original":return Object(a.jsxs)(i.a,Object(r.a)(Object(r.a)({},n),{},{color:"textPrimary",children:[y.firstName," ",y.givenName]}));case"translated":return["zh-CN","zh-TW","ko","ja"].includes(x.language)?Object(a.jsxs)(i.a,Object(r.a)(Object(r.a)({},d),{},{color:"textPrimary",children:[y.firstName?g("character_name:".concat(t,".firstName"),y.firstName,u):""," ",g("character_name:".concat(t,".givenName"),y.givenName,u)]})):Object(a.jsxs)(i.a,{children:[g("character_name:".concat(t,".givenName"),y.givenName,u)," ",y.firstName?g("character_name:".concat(t,".firstName"),y.firstName,u):""]});case"both":return Object(a.jsxs)(s.a,{container:!0,direction:"column",children:[Object(a.jsxs)(i.a,Object(r.a)(Object(r.a)({},n),{},{children:[y.firstName," ",y.givenName]})),["zh-CN","zh-TW","ko","ja"].includes(x.language)?Object(a.jsxs)(i.a,Object(r.a)(Object(r.a)({color:"textSecondary"},d),{},{children:[y.firstName?g("character_name:".concat(t,".firstName"),y.firstName,u):""," ",g("character_name:".concat(t,".givenName"),y.givenName,u)]})):Object(a.jsxs)(i.a,Object(r.a)(Object(r.a)({color:"textSecondary"},d),{},{children:[g("character_name:".concat(t,".givenName"),y.givenName,u)," ",y.firstName?g("character_name:".concat(t,".firstName"),y.firstName,u):""]}))]})}},O=function(e){var t=e.releaseCondId,n=e.originalProps,r=e.translatedProps,i=e.assetTOptions,s=Object(l.e)("releaseConditions"),j=Object(c.a)(s,1)[0],b=Object(o.useState)(),u=Object(c.a)(b,2),O=u[0],h=u[1];if(Object(o.useEffect)((function(){j&&h(j.find((function(e){return e.id===t})))}),[t,j]),O){var f="";switch(O.releaseConditionType){case"none":f="release_cond:none_".concat(O.id);break;case"card_level":f="release_cond:card_level",i=Object.assign({},i,{level:O.releaseConditionTypeLevel});break;case"unit_rank":f="release_cond:unit_rank_".concat(O.releaseConditionTypeId),i=Object.assign({},i,{rank:O.releaseConditionTypeLevel});break;case"event_point":f="release_cond:event_point",i=Object.assign({},i,{point:O.releaseConditionTypeQuantity});break;default:f="release_cond:".concat(O.releaseConditionType)}return Object(a.jsx)(d,{contentKey:f,original:O.sentence,originalProps:n,translatedProps:r,assetTOptions:i})}return Object(a.jsx)("div",{})}},298:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var c=n(8),a=n(198),r=Object(a.a)((function(e){return{container:{margin:e.spacing(1,0),padding:e.spacing(1,2)},caption:Object(c.a)({},e.breakpoints.up("md"),{textAlign:"right"}),sliderContainer:Object(c.a)({},e.breakpoints.up("md"),{paddingRight:e.spacing(5)}),inputHidden:{display:"none"},noDecoration:{textDecoration:"none","&:hover":{textDecoration:"underline"},color:e.palette.text.primary}}}))},305:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var c=n(198),a=Object(c.a)((function(){return{svg:{display:"block",width:"100%",height:"100%",pointerEvents:"visibleStroke"},skeleton:{width:"100%",paddingTop:"100%"}}}))},312:function(e,t,n){"use strict";var c=n(1),a=n(11),r=n(26),i=n(20),s=n(246),o=n(281),j=n(0),l=["xs","sm","md","lg","xl"],b={xs:12,md:4};t.a=function(e){var t=e.ViewComponent,n=e.callback,d=e.data,u=e.gridSize,O=e.viewProps,h=e.onComponentClick,f=function(e){var t=Object(r.a)({},e||b);return l.forEach((function(e,n,c){t[e]||(t[e]=n>0?t[c[n-1]]:12)})),t}(u),m=function(){var e=Object(i.a)();return l.map((function(t){return Object(s.a)(e.breakpoints.down(t))&&t})).find(Boolean)||l[l.length-1]}(),g=Object(j.useState)(!0),x=Object(a.a)(g,2),p=x[0],v=x[1],y=Object(j.useCallback)((function(e){return n(e,v)}),[n]),w=Object(j.useRef)(null);Object(j.useEffect)((function(){v(!0)}),[d]),Object(j.useEffect)((function(){var e=new IntersectionObserver(y,{threshold:.5}),t=w.current;return t&&e.observe(t),function(){t&&e.disconnect()}}),[y]);var _=12/f[m],k=d.length?_:2*_;return Object(c.jsxs)(j.Fragment,{children:[Object(c.jsx)(o.a,{container:!0,direction:"row",spacing:1,children:d.length?d.map((function(e,n){return Object(c.jsx)(o.a,{item:!0,xs:f.xs,sm:f.sm,md:f.md,lg:f.lg,xl:f.xl,onClick:function(){h&&h(e)},children:Object(c.jsx)(t,Object(r.a)({data:e,index:n},O))},e.id)})):null}),Object(c.jsx)(o.a,{container:!0,direction:"row",ref:w,style:{display:p?"flex":"none",paddingTop:"4px"},spacing:1,children:Array.from({length:k}).map((function(e,n){return Object(c.jsx)(o.a,{item:!0,xs:f.xs,sm:f.sm,md:f.md,lg:f.lg,xl:f.xl,children:Object(c.jsx)(t,{})},"empty-".concat(n))}))})]})}},374:function(e,t,n){"use strict";var c=n(1),a=n(11),r=n(282),i=n(0),s=n(305),o=n(291),j=n(300);t.a=function(e){var t=e.resourceBoxId,n=e.type,l=e.honorId,b=e.style,d=Object(s.a)(),u=Object(o.e)("resourceBoxes"),O=Object(a.a)(u,1)[0],h=Object(o.e)("honors"),f=Object(a.a)(h,1)[0],m=Object(i.useState)(),g=Object(a.a)(m,2),x=g[0],p=g[1],v=Object(i.useState)(""),y=Object(a.a)(v,2),w=y[0],_=y[1],k=Object(i.useState)(""),N=Object(a.a)(k,2),C=N[0],S=N[1];return Object(i.useEffect)((function(){O&&f&&p(f.find((function(e){return t?e.id===O.find((function(e){return e.resourceBoxPurpose===n&&e.id===t})).details.find((function(e){return"honor"===e.resourceType})).resourceId:l?e.id===l:void 0})))}),[f,O,t,n,l]),Object(i.useEffect)((function(){x&&(Object(o.c)("honor/".concat(x.assetbundleName,"_rip/degree_main.webp"),_),("event_ranking_reward"===n||x.name.startsWith("TOP")||x.name.includes("\u4f4d"))&&Object(o.c)("honor/".concat(x.assetbundleName,"_rip/rank_main.webp"),S))}),[x,n]),x?Object(c.jsx)("div",{className:d.svg,children:Object(c.jsxs)("svg",{style:b,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 380 80",children:[Object(c.jsx)("image",{href:w,x:"0",y:"0",height:"80",width:"380"}),Object(c.jsx)("image",{href:j.i[x.honorRarity],x:"0",y:"0",height:"80",width:"380"}),C&&Object(c.jsx)("image",{href:C,x:"190",y:"0",width:"150",height:"78"})]})}):Object(c.jsx)(r.a,{variant:"rect",className:d.skeleton})}}}]);